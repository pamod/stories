(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[6520],{380496:(e,t,a)=>{"use strict";var n=a(122411);t.c=void 0;var r=n(a(493540)),i=a(617624);t.c=(0,r.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-4.65 4.65c-.2.2-.51.2-.71 0L7 13h3V9h4v4z"}),"CloudDownloadRounded")},975972:(e,t,a)=>{"use strict";var n=a(122411);t.c=void 0;var r=n(a(493540)),i=a(617624);t.c=(0,r.default)((0,i.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code")},154971:(e,t,a)=>{"use strict";var n=a(122411);t.c=void 0;var r=n(a(493540)),i=a(617624);t.c=(0,r.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline")},576268:(e,t,a)=>{"use strict";a.d(t,{c:()=>$});var n=a(811504),r=a(906940),i=a(203268),l=a.n(i),o=a(162248),s=a(226120),c=a(902706),p=a(458130),m=a(404292),d=a(153032),u=a(273384),g=a(219811),E=a.n(g),f=a(608792),y=a(218968),b=a(597552),v=a(180880),h=a(154428),w=a(47568);a(141776);const x=["node","inline","className","children"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T.apply(this,arguments)}const S="View",D={root:`${S}-root`,docTitle:`${S}-docTitle`,docBadge:`${S}-docBadge`,button:`${S}-button`,displayURL:`${S}-displayURL`,displayURLLink:`${S}-displayURLLink`,docSummary:`${S}-docSummary`,fileAvailability:`${S}-fileAvailability`},A=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${D.root}`]:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},[`& .${D.docTitle}`]:{fontWeight:100,fontSize:50,color:t.palette.grey[500]},[`& .${D.docBadge}`]:{padding:t.spacing(1),background:t.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:t.palette.getContrastText(t.palette.primary.main)},[`& .${D.button}`]:{padding:t.spacing(2),marginTop:t.spacing(2)},[`& .${D.displayURL}`]:{padding:t.spacing(2),marginTop:t.spacing(2),background:t.palette.grey[200],color:t.palette.getContrastText(t.palette.grey[200]),display:"flex"},[`& .${D.displayURLLink}`]:{paddingLeft:t.spacing(2)},[`& .${D.docSummary}`]:{marginTop:t.spacing(2),color:t.palette.text.primary},[`& .${D.fileAvailability}`]:{marginTop:t.spacing(1),marginLeft:t.spacing(.8)}}})),M=(0,n.lazy)((()=>Promise.all([a.e(138),a.e(9312)]).then(a.bind(a,369548))));function k(e){const{doc:t,apiId:a,intl:r}=e,{api:i}=(0,n.useContext)(w.U),[l,d]=(0,n.useState)(""),[g,S]=(0,n.useState)(!1),k=new u.c,{skipHtml:$}=E().app.markdown,R=E().app.markdown.syntaxHighlighterProps||{},{syntaxHighlighterDarkTheme:P}=E().app.markdown;return(0,n.useEffect)((()=>{"MARKDOWN"!==t.sourceType&&"INLINE"!==t.sourceType||k.getInlineContentOfDocument(a,t.documentId).then((e=>{let{text:t}=e;Object.keys(i).forEach((e=>{const a=new RegExp("___"+e+"___","g");t=t.replace(a,i[e])})),d(t)})).catch((e=>{})),"FILE"===t.sourceType&&k.getFileForDocument(a,t.documentId).then((()=>{S(!0)})).catch((()=>{S(!1)}))}),[e.doc]),n.createElement(A,null,t.summary&&"_overview"!==t.otherTypeName&&n.createElement(o.c,{variant:"body1",className:D.docSummary},t.summary),"MARKDOWN"===t.sourceType&&n.createElement("div",{className:"markdown-content-wrapper"},n.createElement(n.Suspense,{fallback:n.createElement(p.c,null)},n.createElement(M,{skipHtml:$,children:l,remarkPlugins:[f.c],components:{code(e){let{node:t,inline:a,className:r,children:i}=e,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,x);const o=/language-(\w+)/.exec(r||"");return!a&&o?n.createElement(y.c,T({children:String(i).replace(/\n$/,""),style:P?b.c:v.c,language:o[1],PreTag:"div"},l,R)):n.createElement("code",T({className:r},l),i)}}}))),"INLINE"===t.sourceType&&n.createElement(h.c,{html:l}),"URL"===t.sourceType&&n.createElement("a",{className:D.displayURL,href:t.sourceUrl,target:"_blank",rel:"noreferrer"},t.sourceUrl,n.createElement(s.c,{className:D.displayURLLink},"open_in_new")),"FILE"===t.sourceType&&n.createElement(c.c,{variant:"contained",className:D.button,disabled:!g,onClick:()=>{k.getFileForDocument(a,t.documentId).then((e=>{(e=>{let t="";const a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=e&&e[1]&&(t=e[1].replace(/['"]/g,""))}const n=e.headers["content-type"],r=new Blob([e.data],{type:n});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{const e=window.URL||window.webkitURL,a=e.createObjectURL(r);if(t){const e=document.createElement("a");void 0===e.download?window.location=a:(e.href=a,e.download=t,document.body.appendChild(e),e.click())}else window.location=a;setTimeout((()=>{e.revokeObjectURL(a)}),100)}})(e,document)})).catch((e=>{}))}},n.createElement(m.c,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),n.createElement(s.c,null,"arrow_downward")),"FILE"===t.sourceType&&!g&&n.createElement(o.c,{className:D.fileAvailability},n.createElement(m.c,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}k.propTypes={classes:l().shape({}).isRequired,doc:l().shape({}).isRequired,apiId:l().string.isRequired,intl:l().shape({formatMessage:l().func}).isRequired};const $=(0,d.cp)(k)},214832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>dt});var n=a(811504),r=a(906940),i=a(542592),l=a(70132),o=a(404292),s=a(570440),c=a(503504),p=a(924004),m=a(715656),d=a(246160),u=a(991568),g=a(385388),E=a(162248),f=a(677516),y=a(232152),b=a(157344),v=a(585824),h=a(645072),w=a(595656),x=a(802768),T=a(253864),S=a(550440),D=a(660888),A=a(451444);function M(e){return(0,A.cp)("MuiTableContainer",e)}(0,D.c)("MuiTableContainer",["root"]);var k=a(617624);const $=["className","component"],R=(0,r.cp)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),P=n.forwardRef((function(e,t){const a=(0,S.c)({props:e,name:"MuiTableContainer"}),{className:n,component:r="div"}=a,i=(0,w.c)(a,$),l=(0,h.c)({},a,{component:r}),o=(e=>{const{classes:t}=e;return(0,T.c)({root:["root"]},M,t)})(l);return(0,k.jsx)(R,(0,h.c)({ref:t,as:r,className:(0,x.c)(o.root,n),ownerState:l},i))})),I=P;var L=a(457416),N=a(739376),C=a(614477),O=a(286572),U=a(400138),B=a(608792),z=a(47568),G=a(721020),F=a(591800),W=a(123324),_=a(153032),j=a(219811),q=a.n(j),H=a(432084),V=a(975972),K=a(969072),Q=a(96144),Y=a(40172);const J="EmbedCode",X={paper:`${J}-paper`,codeIcon:`${J}-codeIcon`,code:`${J}-code`,iconStyle:`${J}-iconStyle`},Z=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${X.paper}`]:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},[`& .${X.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${X.code}`]:{background:"#efefef",color:"cc0000",border:"solid 1px #ccc",padding:t.spacing(1)},[`& .${X.iconStyle}`]:{position:"absolute",top:60,right:30}}}));function ee(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}const te=(0,_.cp)((function(e){const{intl:t}=e,[a]=n.useState(ee),[r,i]=n.useState(!1),[l,s]=n.useState(!1),c=new URL(window.location);c.searchParams.set("widget",!0);const p='<iframe width="450" height="120" src="'+c+'" frameBorder="0" allowFullScreen title="Embed API" />';return n.createElement(Z,null,n.createElement(V.c,{className:X.codeIcon,onClick:()=>{i(!0)}}),n.createElement(H.c,{open:r,onClose:()=>{i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.createElement("div",{style:a,className:X.paper},n.createElement("h2",{id:"simple-modal-title"},n.createElement(o.c,{id:"Apis.Details.Social.EmbedCode",defaultMessage:"Embed"})),n.createElement("div",{className:X.code},n.createElement("code",null,p)),n.createElement(K.c,{title:l?t.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):t.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),placement:"right",className:X.iconStyle},n.createElement(Q.c,{id:"copy-to-clipbord-icon","aria-label":"Copy to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(p).then((s(!0),void setTimeout((()=>s(!1)),2e3)))}},n.createElement(Y.c,{color:"secondary"},"file_copy"))))))}));var ae=a(154971);const ne="Social",re={socialLink:`${ne}-socialLink`,oneFlex:`${ne}-oneFlex`,socialLinkWrapper:`${ne}-socialLinkWrapper`,divider:`${ne}-divider`,codeIcon:`${ne}-codeIcon`},ie=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${re.socialLink}`]:{display:"inline-block","& img":{width:32,marginRight:t.spacing(1)}},[`& .${re.oneFlex}`]:{flex:1},[`& .${re.socialLinkWrapper}`]:{marginTop:16,display:"flex",alignItems:"center",paddingRight:t.spacing(2),"& > div":{display:"inline-block"}},[`& .${re.divider}`]:{display:"inline-block",borderRight:"solid 1px #ccc",marginLeft:t.spacing(1),marginRight:t.spacing(1),height:30},[`& .${re.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)}}})),le=(0,_.cp)((function(){const{api:e}=(0,n.useContext)(z.U),{name:t}=e,a=encodeURI(window.location),r=(0,i.c)(),[l,o]=[e.additionalProperties.find((e=>"slack_url"===e.name)),e.additionalProperties.find((e=>"github_repo"===e.name))],{custom:{social:{showSharing:{active:s,showFacebook:c,showReddit:p,showTwitter:m,showEmbed:d,showEmail:u}}}}=r;return n.createElement(ie,null,n.createElement("div",{className:re.oneFlex}),n.createElement("div",{className:re.socialLinkWrapper},l&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"Slack",href:l.value,target:"_blank",rel:"noopener noreferrer",title:"Slack"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/slack.png`,alt:"Slack"}))),o&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"github",href:o.value,target:"_blank",rel:"noopener noreferrer",title:"GitHub"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/github.jpg`,alt:"GitHub"}))),s&&(l||o)&&n.createElement("div",{className:re.divider}),s&&c&&n.createElement("a",{className:re.socialLink,id:"facebook",href:`http://www.facebook.com/sharer.php?u=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Facebook"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/facebook.png`,alt:"Facebook"})),s&&m&&n.createElement("a",{className:re.socialLink,id:"Twitter",href:`http://twitter.com/share?url=${a}&text=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Twitter"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/twitter.png`,alt:"Twitter"})),s&&p&&n.createElement("a",{className:re.socialLink,id:"Reddit",href:`http://www.reddit.com/submit?url=${a}&title=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Reddit"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/reddit.png`,alt:"Reddit"})),s&&d&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement(te,null)),s&&u&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement("a",{href:`mailto:?Subject=${t}&body=Link+:+${a}"`,className:re.codeIcon},n.createElement(ae.c,null)))))}));var oe=a(927732),se=a(669872),ce=a(141776),pe=a(403972),me=a(273384),de=a(576268),ue=a(206976),ge=a(203268),Ee=a.n(ge),fe=a(226120),ye=a(96032),be=a(366048),ve=a(902706),he=a(655592),we=a(655084),xe=a(837616),Te=a(994088),Se=a(695312),De=a(571480),Ae=a(964408),Me=a(458130);function ke(e){const{completed:t,errors:a,inProgress:r,children:i,completedMessage:l,inProgressMessage:s}=e;let c,p=i;if(t?(c="success",l&&(p=l)):r?(c="info",s&&(p=s)):c="warning",a)if(c="error",a.response){const{body:e}=a.response;p=n.createElement(n.Fragment,null,n.createElement("b",null,"[",e.code,"]")," ",":",e.description)}else p=n.createElement(n.Fragment,null,n.createElement(o.c,{id:"Apis.Listing.TaskState.generic.error.prefix",defaultMessage:"Error while"})," ",s);return n.createElement(n.Fragment,null,n.createElement(m.cp,{item:!0,xs:12},n.createElement(Ae.c,{icon:r?n.createElement(Me.c,{size:20,thickness:2}):null,variant:a?"standard":"plain",severity:c},p)))}function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){var n,r,i,l;n=e,r=t,i=a[t],(r="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?l:String(l))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Pe={COMPLETED:"COMPLETED",APPROVED:"APPROVED",CREATED:"CREATED",REJECTED:"REJECTED"},Ie=new me.c,Le={subscribe:{inProgress:!0,completed:!1,errors:!1},prepare:{inProgress:!1,completed:!1,errors:!1},generate:{inProgress:!1,completed:!1,errors:!1}},Ne=(e,t)=>{const{name:a,status:n}=t;return"reset"===a?Le:Re(Re({},e),{},{[a]:Re(Re({},e[a]),n)})};function Ce(){const e=se.c.getUser(),{api:t,subscribedApplications:a,applicationsAvailable:r,updateSubscriptionData:s}=(0,n.useContext)(z.U),c=r.filter((e=>"DefaultApplication"===e.label)),p=c.length>0?c[0]:null,[d,g]=(0,n.useReducer)(Ne,Le),[f,y]=(0,n.useState)(!1),b=(0,l.c)(),v=(0,he.Uz)(),h=(0,i.c)(),w=(0,Te.c)(h.breakpoints.down("sm")),x=t&&(t.type===De.c.API_TYPES.WS||t.type===De.c.API_TYPES.WEBSUB||t.type===De.c.API_TYPES.SSE||t.type===De.c.API_TYPES.ASYNC),T=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase(),S=async(e,t)=>{let a;g({name:t,status:{inProgress:!0}});try{a=await e}catch(e){console.error(e),g({name:t,status:{errors:e}})}return g({name:t,status:{inProgress:!1,completed:!0}}),a},D=async()=>{await s(),x?v.push("/apis/"+t.id+"/definition"):v.push("/apis/"+t.id+"/api-console")};Object.values(d).map((e=>e.completed)).reduce(((e,t)=>t&&e));const A=Object.values(d).map((e=>e.errors)).find((e=>!1!==e)),M=x?n.createElement(ve.c,{variant:"outlined",color:"primary",size:"small",classes:{root:{minWidth:120},label:{whiteSpace:"nowrap"}},onClick:D},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.btn.view.definition",defaultMessage:"View Definition"})):n.createElement(ve.c,{variant:"contained",color:"primary",size:"medium",sx:{whiteSpace:"nowrap"},onClick:D,"aria-label":"Go to Try Out page"},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"}));return!p||a.length>0||t.advertiseInfo.advertised||!e||x||T?n.createElement(n.Fragment,null,M):n.createElement(n.Fragment,null,n.createElement(ve.c,{onClick:async()=>{let e=null;t.tiers&&t.tiers.length>0?e=t.tiers[0].tierName:v.push("/apis/"+t.id+"/test"),y(!0);const a=await S((async()=>Ie.getKeyManagers().then((e=>{const t={keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""},a=[];let n;if(e.body.list.map((e=>a.push(e))),a.length>0){const e=a.filter((e=>"Resident Key Manager"===e.name));n=e.length>0?e[0]:a[0]}try{t.keyManager=n.id,t.supportedGrantTypes=n.availableGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e)),(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(t.callbackUrl="http://localhost")}catch(e){ce.c.error(b.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}return t})).catch((e=>{})))(),"prepare");await S((async(e,t)=>{const a=await Se.c.get(t);(await a.getKeys(e.keyType)).size>0||a.generateKeys(e.keyType,e.supportedGrantTypes,e.callbackUrl,e.additionalProperties,e.keyManager).then((e=>(e.keyState===Pe.CREATED||e.keyState===Pe.REJECTED?ce.c.error(b.formatMessage({id:"Apis.Details.GoToTryOut.error.keymanager",defaultMessage:"Key Generation is Blocked."})):console.log("Keys generated successfully with ID : "+e),e))).catch((e=>{const{status:t}=e;404===t&&ce.c.error(b.formatMessage({id:"Apis.Details.GoToTryOut.error.404",defaultMessage:"Resource not found."}))}))})(a,p.value),"generate"),await S(Ie.subscribe(t.id,p.value,e),"subscribe")},variant:"contained",color:"primary",size:"medium","aria-label":"Try Out the API",sx:{whiteSpace:"nowrap"}},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"})),n.createElement(H.c,{"aria-label":"Preparing to Try Out the API",sx:{display:"flex",alignItems:"center",justifyContent:"center"},open:f,closeAfterTransition:!0,BackdropComponent:we.c,BackdropProps:{timeout:500},role:"status"},n.createElement(xe.c,{in:f},n.createElement(u.c,{bgcolor:"background.paper",borderRadius:"borderRadius",width:w?.8:1/4,sx:{outline:"none",bgcolor:"background.paper",transform:"translate(-50%, -50%)",position:"absolute",top:"50%",left:"50%",borderRadius:4},p:2},n.createElement(m.cp,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},n.createElement(ke,{completed:d.subscribe.completed,errors:d.subscribe.errors,inProgress:d.subscribe.inProgress,completedMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete.success",defaultMessage:"API subscribe to DefaultApplication successfully!"}),inProgressMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.subscribe.inprogress",defaultMessage:"API subscribing to DefaultApplication ..."})},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete",defaultMessage:"API subscribe to DefaultApplication"})),n.createElement(ke,{completed:d.prepare.completed,errors:d.prepare.errors,inProgress:d.prepare.inProgress,completedMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"}),inProgressMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.prepare.inprogress",defaultMessage:"Gathering information to generate keys ..."})},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"})),n.createElement(ke,{completed:d.generate.completed,errors:d.generate.errors,inProgress:d.generate.inProgress,completedMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.generate.complete",defaultMessage:"Consumer key and secret generated successfully!"}),inProgressMessage:n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.generate.inprogress",defaultMessage:"Generating Consumer key and secret ..."})},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.key.secret",defaultMessage:"Consumer key and secret"})),A?n.createElement(m.cp,{item:!0,xs:12},n.createElement(ve.c,{onClick:()=>{y(!1),g({name:"reset"})},variant:"outlined"},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.continue.on.close",defaultMessage:"Close"}))):n.createElement(n.Fragment,null,n.createElement(m.cp,{item:!0,xs:12},n.createElement(E.c,{variant:"caption"},n.createElement(o.c,{id:"Apis.Details.GoToTryOut.popup.final.message",defaultMessage:'All set to try out. Use the "Generate Keys" button to get an access token while you are on the Try Out page.'}))),n.createElement(m.cp,{item:!0,xs:12},n.createElement(u.c,{display:"flex",pr:4},n.createElement(u.c,{flex:1}),M))))))))}const Oe="SolaceEndpoints",Ue={root:`${Oe}-root`,input:`${Oe}-input`,avatar:`${Oe}-avatar`,iconStyle:`${Oe}-iconStyle`,sectionTitle:`${Oe}-sectionTitle`},Be=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Ue.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${Ue.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${Ue.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${Ue.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${Ue.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function ze(){const{api:e}=(0,n.useContext)(z.U),[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),s=(0,l.c)();return(0,n.useEffect)((()=>{const t=[];e.asyncTransportProtocols&&(e.asyncTransportProtocols.map((e=>(t.push(JSON.parse(e)),null))),i(t))}),[e]),n.createElement(Be,null,"solace"===e.gatewayVendor&&n.createElement(m.cp,{container:!0,spacing:2,xs:12},n.createElement(m.cp,{item:!0,spacing:2,xs:2},n.createElement(E.c,{variant:"subtitle2",component:"label",gutterBottom:!0,align:"left",className:Ue.sectionTitle},n.createElement(o.c,{id:"Apis.Details.protocols.and.endpoints",defaultMessage:"Protocols & Endpoints"}))),n.createElement(m.cp,{item:!0,spacing:2,xs:10},n.createElement(Ce,null)),n.createElement(m.cp,{item:!0,spacing:2,xs:12},n.createElement(m.cp,{container:!0,spacing:2,xs:12},n.createElement(m.cp,{item:!0,spacing:2,xs:12},e.endpointURLs.map((e=>n.createElement(E.c,{component:"p",variant:"subtitle2"},e.environmentDisplayName)))),n.createElement(m.cp,{item:!0,spacing:2,xs:12},r&&r.map((e=>n.createElement(m.cp,{container:!0,spacing:2,xs:12},n.createElement(m.cp,{item:!0},n.createElement(E.c,{component:"p",variant:"body1"},n.createElement(o.c,{id:"Apis.Details.NewOverview.Endpoints.blank",defaultMessage:"-"}))),n.createElement(m.cp,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(g.c,{label:(0,be.W8)(e.protocol),"data-testid":(0,be.W8)(e.protocol)+"-label",color:"primary",style:{width:"70px"}})),n.createElement(m.cp,{xs:10,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(p.c,{id:"gateway-envirounment",component:"form",className:Ue.root},n.createElement(ue.cp,{className:Ue.input,inputProps:{"aria-label":"api url"},value:e.endPointUrl}),n.createElement(ye.c,{className:Ue.avatar,sizes:30},n.createElement(K.c,{title:t?s.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):s.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ue.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.endPointUrl).then((()=>(a(!0),void setTimeout((function(){a(!1)}),2e3))))}},n.createElement(fe.c,{color:"secondary"},"file_copy"))))))))))))))}ze.propTypes={classes:Ee().shape({}).isRequired,intl:Ee().shape({}).isRequired};const Ge=ze;var Fe=a(340056),We=a(910288),_e=a(205420);const je="Environments",qe={root:`${je}-root`,input:`${je}-input`,avatar:`${je}-avatar`,iconStyle:`${je}-iconStyle`,sectionTitle:`${je}-sectionTitle`},He=(0,r.cp)(u.c)((e=>{let{theme:t}=e;return{[`& .${qe.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${qe.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${qe.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${qe.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${qe.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function Ve(e){const{selectedEndpoint:t,updateSelectedEndpoint:a}=e,{api:r,api:{advertiseInfo:i}}=(0,n.useContext)(z.U),[s,c]=(0,n.useState)(!1),m=(0,l.c)(),g=()=>{c(!0),setTimeout((function(){c(!1)}),2e3)};return n.createElement(He,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.c,{mr:5,display:"flex","area-label":"API URL details",alignItems:"center",width:"100%",flexDirection:"row"},t&&(!i||!i.advertised)&&n.createElement(n.Fragment,null,n.createElement(E.c,{variant:"subtitle2",component:"label",for:"gateway-envirounment",gutterBottom:!0,align:"left",className:qe.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Environments.label.url",defaultMessage:"URL"})),n.createElement(p.c,{id:"gateway-envirounment",component:"form",className:qe.root},r.endpointURLs.length>1&&n.createElement(n.Fragment,null,n.createElement(We.c,{variant:"standard",value:t.environmentName,onChange:a,"aria-label":"Select the Gateway Environment"},r.endpointURLs.map((e=>n.createElement(Fe.c,{value:e.environmentName},e.environmentDisplayName||e.environmentName)))),n.createElement(d.c,{height:"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)?80:30})),n.createElement(u.c,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.c,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.c,{title:n.createElement(E.c,{color:"inherit"},"GRAPHQL"===r.type?m.formatMessage({defaultMessage:"Gateway HTTP URL for GraphQL Queries and Mutations",id:"Apis.Details.Environments.GraphQL.HTTP.Gateway.URL"}):m.formatMessage({defaultMessage:"Gateway URL",id:"Apis.Details.Environments.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(ue.cp,{className:qe.input,inputProps:{"aria-label":"api url"},value:t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws,"data-testid":"http-url"})),n.createElement(ye.c,{className:qe.avatar,sizes:30},n.createElement(K.c,{title:s?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:qe.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(fe.c,{color:"secondary"},"file_copy"))))),"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)&&n.createElement(n.Fragment,null,n.createElement(_e.c,{sx:{opacity:.2}}),n.createElement(u.c,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.c,{title:n.createElement(E.c,{color:"inherit"},m.formatMessage({defaultMessage:"Gateway Websocket URL for GraphQL Subscriptions",id:"Apis.Details.Environments.GraphQL.WS.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(ue.cp,{className:qe.input,inputProps:{"aria-label":"api url"},value:t.URLs.wss||t.URLs.ws,"data-testid":"websocket-url"})),n.createElement(ye.c,{className:qe.avatar,sizes:30},n.createElement(K.c,{title:s?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:qe.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(fe.c,{color:"secondary"},"file_copy")))))))))),i&&i.advertised&&(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(n.Fragment,null,n.createElement(E.c,{variant:"subtitle2",component:"label",for:"external-endpoint-url",gutterBottom:!0,align:"left",className:qe.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Environments.externalEndpoint.label.url",defaultMessage:"URL"})),n.createElement(p.c,{id:"external-endpoint-url",component:"form",className:qe.root},n.createElement(u.c,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.c,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.c,{title:n.createElement(E.c,{color:"inherit"},m.formatMessage({defaultMessage:"External Production Endpoint",id:"Apis.Details.Environments.apiExternalProductionEndpoint"})),placement:"left-start",arrow:!0},n.createElement(ue.cp,{className:qe.input,inputProps:{"aria-label":"api url"},value:i.apiExternalProductionEndpoint})),n.createElement(ye.c,{className:qe.avatar,sizes:30},n.createElement(K.c,{title:s?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:qe.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalProductionEndpoint).then(g())}},n.createElement(fe.c,{color:"secondary"},"file_copy"))))),i.apiExternalSandboxEndpoint&&n.createElement(n.Fragment,null,n.createElement(_e.c,{sx:{opacity:.2}}),n.createElement(u.c,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.c,{title:n.createElement(E.c,{color:"inherit"},m.formatMessage({defaultMessage:"External Sandbox Endpoint",id:"Apis.Details.Environments.apiExternalSandboxEndpoint"})),placement:"left-start",arrow:!0},n.createElement(ue.cp,{className:qe.input,inputProps:{"aria-label":"api url"},value:i.apiExternalSandboxEndpoint})),n.createElement(ye.c,{className:qe.avatar,sizes:30},n.createElement(K.c,{title:s?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:qe.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalSandboxEndpoint).then(g())}},n.createElement(fe.c,{color:"secondary"},"file_copy")))))))))),!t&&i&&i.advertised&&!(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(E.c,{variant:"subtitle2",component:"p",gutterBottom:!0,align:"left",className:qe.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Environments.label.noendpoint",defaultMessage:"No endpoints yet."})),n.createElement(Ce,null)),(!r.advertiseInfo||!r.advertiseInfo.advertised)&&n.createElement(u.c,{ml:8,alignItems:"center",mt:1},t&&n.createElement(E.c,{variant:"caption"},(()=>{const{defaultVersionURLs:e}=t;return e&&(e.https||e.http||e.ws||e.wss)?n.createElement(n.Fragment,null,`\n            ${m.formatMessage({id:"Apis.Details.Environments.default.url",defaultMessage:"( Default Version ) "})}\n            ${e.https||e.http||e.ws||e.wss}`,n.createElement(K.c,{title:s?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:qe.iconStyle},n.createElement(Q.c,{"aria-label":"Copy the Default Version URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.https||e.http||e.ws||e.wss).then(g())}},n.createElement(fe.c,{color:"secondary"},"file_copy")))):null})())))}Ve.propTypes={classes:Ee().shape({}).isRequired,intl:Ee().shape({}).isRequired};const Ke=Ve;var Qe=a(607064),Ye=a(135800),Je=a(672),Xe=a(773680),Ze=a(139760);const et="OverviewDocuments",tt={root:`${et}-root`,iconClass:`${et}-iconClass`,boxBadge:`${et}-boxBadge`,subscriptionBox:`${et}-subscriptionBox`,linkStyle:`${et}-linkStyle`,subscriptionTop:`${et}-subscriptionTop`,resourceWrapper:`${et}-resourceWrapper`,actionPanel:`${et}-actionPanel`,linkToTest:`${et}-linkToTest`,emptyBox:`${et}-emptyBox`,listWrapper:`${et}-listWrapper`,listItemStyle:`${et}-listItemStyle`,listItemIcon:`${et}-listItemIcon`,listItemPrimary:`${et}-listItemPrimary`},at=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${tt.root}`]:{padding:t.spacing(3),maxWidth:t.custom.contentAreaWidth},[`& .${tt.iconClass}`]:{marginRight:10,color:t.palette.secondary.main},[`& .${tt.boxBadge}`]:{background:t.palette.grey.A400,color:t.palette.getContrastText(t.palette.grey.A400),fontSize:t.typography.h5.fontSize,padding:t.spacing(1),width:30,height:30,marginRight:20,textAlign:"center"},[`& .${tt.subscriptionBox}`]:{paddingLeft:t.spacing(2)},[`& .${tt.linkStyle}`]:{color:t.palette.getContrastText(t.palette.background.default),fontSize:t.typography.fontSize},[`& .${tt.subscriptionTop}`]:{display:"flex",flexDirection:"row",alignItems:"center"},[`& .${tt.resourceWrapper}`]:{height:192,overflow:"auto"},[`& .${tt.actionPanel}`]:{justifyContent:"flex-start"},[`& .${tt.linkToTest}`]:{textDecoration:"none"},[`& .${tt.emptyBox}`]:{background:"#ffffff55",color:"#444",border:"solid 1px #fff",padding:t.spacing(2),marginTop:50},[`& .${tt.listWrapper}`]:{padding:0,margin:0,width:"100%"},[`& .${tt.listItemStyle}`]:{padding:0,margin:0},[`& .${tt.listItemIcon}`]:{minWidth:30,color:"#BBBEBC66"},[`& .${tt.listItemPrimary}`]:{fontSize:"14px"}}}));function nt(e){const[t,a]=(0,n.useState)([]),r=(0,l.c)(),{apiId:i}=e,s=(0,he.Uz)();return(0,n.useEffect)((()=>{(new me.c).getDocumentsByAPIId(i).then((e=>{e.obj.list.length>0&&a(e.obj.list)})).catch((e=>{const{status:t}=e;404===t&&ce.c.error(r.formatMessage({id:"Apis.Details.Overview.documents.error.occurred",defaultMessage:"Error occurred"}))}))}),[]),0===t.length?n.createElement(at,null,n.createElement(m.cp,{container:!0,className:tt.root,spacing:2},n.createElement(m.cp,{item:!0,xs:12},n.createElement("div",{className:tt.emptyBox},n.createElement(E.c,{variant:"body2"},n.createElement(o.c,{id:"Apis.Details.Overview.documents.no.content",defaultMessage:"No Documents Available"})))))):t.length>0&&n.createElement(at,null,n.createElement(Ye.c,{component:"nav","aria-label":"Available document list",className:tt.listWrapper},t.map(((e,t)=>t<=1&&n.createElement(Je.cp,{button:!0,onClick:()=>{return t=e.documentId,void s.push("/apis/"+i+"/documents/"+t);var t},className:tt.listItemStyle,key:e.name},n.createElement(Xe.c,{classes:{root:tt.listItemIcon}},n.createElement(fe.c,null,"insert_drive_file")),n.createElement(Ze.c,{primary:e.name,classes:{primary:tt.listItemPrimary}}))))))}nt.propTypes={classes:Ee().shape({}).isRequired,theme:Ee().shape({}).isRequired};const rt=nt;var it=a(380496),lt=a(33964),ot=a(883660);const st=function(e){const{selectedEndpoint:t}=e,{api:a}=(0,n.useContext)(z.U),r=new me.c,i=(0,l.c)(),s=lt.c.getCookieWithoutEnvironment("WSO2_AM_TOKEN_1_Default"),[p,m]=(0,n.useState)(!1),{location:d}=window,{app:{customUrl:{tenantDomain:g}}}=q();let E="";if("null"!==g)E=g;else if(d){const{tenant:e}=ot.parse(d.search);e&&(E=e)}const f=E,y=e=>{e.preventDefault(),r.getWsdlClient().downloadWSDLForEnvironment(a.id,t.environmentName).then((e=>{lt.c.downloadFile(e)})).catch((e=>{}))},b=e=>{e.preventDefault(),r.getGraphQLSchemaByAPIId(a.id).then((e=>{const t=a.provider+"-"+a.name+"-"+a.version+".graphql";lt.c.downloadFile(e,t)})).catch((e=>{}))},v=e=>{let n;e.preventDefault(),n=t.environmentName?r.getSwaggerByAPIIdAndEnvironment(a.id,t.environmentName):r.getSwaggerByAPIId(a.id),n.then((e=>{lt.c.downloadFile(e)})).catch((e=>{console.log(e),ce.c.error(i.formatMessage({id:"Apis.Details.Environments.download.swagger.error",defaultMessage:"Error downloading the Swagger"}))}))},h=e=>{e.preventDefault(),r.getAsyncApiSpecificationByAPIIdAndEnvironment(a.id,t.environmentName).then((e=>{lt.c.downloadFile(e)})).catch((e=>{console.error(e),ce.c.error(i.formatMessage({id:"Apis.Details.Environments.download.asyncapi.error",defaultMessage:"Error downloading the AsyncAPI Specification"}))}))};return"SOAP"===a.type?n.createElement(K.c,{title:n.createElement(o.c,{id:"Apis.Details.Environments.download.wsdl",defaultMessage:"WSDL"}),placement:"right",sx:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":e=>({fontSize:18,color:e.palette.secondary.main})}},n.createElement("a",{onKeyDown:y,onClick:y,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(it.c,{sx:{marginRight:1}}),n.createElement(o.c,{id:"Apis.Details.Environments.download.wsdl.text",defaultMessage:"Download WSDL"}))):"HTTP"===a.type||"SOAPTOREST"===a.type?n.createElement(u.c,{display:"flex",alignItems:"center"},n.createElement(K.c,{title:n.createElement(o.c,{id:"Apis.Details.Environments.download.swagger",defaultMessage:"Swagger"}),placement:"right",sx:e=>({cursor:"pointer","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement(c.c,{onClick:v,onKeyDown:v,sx:e=>({fontSize:14,color:e.palette.primary.main,display:"flex",textDecoration:"none"}),id:"swagger-download-btn",variant:"body2"},n.createElement(it.c,{sx:{mt:.5,mr:1}}),n.createElement(o.c,{id:"Apis.Details.Environments.download.swagger.text",defaultMessage:"Download Swagger"}))),n.createElement(K.c,{title:p?n.createElement(o.c,{id:"Apis.Details.Swagger.URL.copied",defaultMessage:"Copied"}):n.createElement(o.c,{id:"Apis.Details.Swagger.URL.copy.to.clipboard",defaultMessage:"Copy to clipboard"}),placement:"top"},n.createElement(ve.c,{"aria-label":"Copy to clipboard",size:"small",color:"grey",onClick:()=>{navigator.clipboard.writeText(d.origin+"/api/am/devportal/v3/apis/"+a.id+"/swagger?accessToken="+s+"&X-WSO2-Tenant-Q="+f+"&environmentName="+t.environmentName).then((()=>m("urlCopied")))},sx:{minWidth:"auto",ml:1}},n.createElement(Y.c,null)))):"WS"===a.type||"WEBSUB"===a.type||"SSE"===a.type||"ASYNC"===a.type?n.createElement(K.c,{title:n.createElement(o.c,{id:"Apis.Details.Environments.download.asyncapi",defaultMessage:"AsyncAPI Specification"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:h,onClick:h,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"}),id:"swagger-download-btn"},n.createElement(it.c,{sx:{marginRight:1}}),n.createElement(o.c,{id:"Apis.Details.Environments.download.asyncapi.text",defaultMessage:"Download AsyncAPI Specification"}))):"GRAPHQL"===a.type?n.createElement(K.c,{title:n.createElement(o.c,{id:"Apis.Details.Environments.download.graphQL",defaultMessage:"GraphQL"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:b,onClick:b,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(it.c,{sx:{marginRight:1}}),n.createElement(o.c,{id:"Apis.Details.Environments.download.graphql.text",defaultMessage:"Download GraphQL"}))):void 0},ct="Overview",pt={root:`${ct}-root`,linkTitle:`${ct}-linkTitle`,description:`${ct}-description`,textLabel:`${ct}-textLabel`,textValue:`${ct}-textValue`,apiThumb:`${ct}-apiThumb`,chipRoot:`${ct}-chipRoot`,subtitle:`${ct}-subtitle`,cardRoot:`${ct}-cardRoot`,sectionTitle:`${ct}-sectionTitle`,moreLink:`${ct}-moreLink`,table:`${ct}-table`,requestCount:`${ct}-requestCount`,requestUnit:`${ct}-requestUnit`,launchIcon:`${ct}-launchIcon`,originalDevportalUrl:`${ct}-originalDevportalUrl`},mt=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${pt.root}`]:{width:"100%",height:"100vh",paddingLeft:t.spacing(2),paddingTop:t.spacing(2)},[`& .${pt.linkTitle}`]:{color:t.palette.grey[800]},[`& .${pt.description}`]:{color:t.palette.grey[700]},[`& .${pt.textLabel}`]:{fontWeight:400,color:t.palette.grey[800]},[`& .${pt.textValue}`]:{textIndent:t.spacing(1)},[`& .${pt.apiThumb}`]:{padding:t.spacing(),border:"solid 1px",borderColor:t.palette.grey[800]},[`& .${pt.chipRoot}`]:{cursor:"pointer",marginRight:t.spacing()},[`& .${pt.subtitle}`]:{color:t.palette.grey[800]},[`& .${pt.cardRoot}`]:{width:150,height:150,marginRight:t.spacing(),marginTop:t.spacing(2)},[`& .${pt.sectionTitle}`]:{color:t.palette.grey[800],fontSize:"0.95rem",fontWeight:400},[`& .${pt.moreLink}`]:{fontSize:"14px"},[`& .${pt.table}`]:{"& th":{fontWeight:400}},[`& .${pt.requestCount}`]:{fontSize:22},[`& .${pt.requestUnit}`]:{fontSize:13},[`& .${pt.launchIcon}`]:{paddingLeft:t.spacing(1)},[`& .${pt.originalDevportalUrl}`]:{marginTop:t.spacing(4)}}})),dt=function(){const e=(0,i.c)(),{custom:{apiDetailPages:{showCredentials:t,showComments:a,showDocuments:r},infoBar:{showThumbnail:h},social:{showRating:w},showSwaggerDescriptionOnOverview:x}}=e,T=(0,l.c)(),{api:S,api:{advertiseInfo:D},subscribedApplications:A}=(0,n.useContext)(z.U),[M,k]=(0,n.useState)(!0),[$,R]=(0,n.useState)(!1),[P,_]=(0,n.useState)(!1),[j,q]=(0,n.useState)(null),[H,V]=(0,n.useState)(null),[K,Q]=(0,n.useState)(null),[Y,J]=(0,n.useState)(null),[X,Z]=(0,n.useState)({avgRating:0,total:0,count:0}),[ee,te]=(0,n.useState)(S.endpointURLs&&S.endpointURLs.length>0?S.endpointURLs[0]:null);let ae=!1,ne="";if(S.description){const e=40;S.description.split(" ").length>e&&(ne=S.description.split(" ").slice(0,e).join(" ")+"...",ae=!0)}const re=()=>(new me.c).getAllTiers("subscription").then((e=>{try{const t=e.body.list.filter((e=>(e=>{const t=S.tiers.filter((t=>t.tierName===e));return t&&t.length>0})(e.name)));J(t)}catch(e){console.log(e),ce.c.error(T.formatMessage({id:"Apis.Details.Overview.error.occurred",defaultMessage:"Error occurred"}))}})).catch((e=>{console.log(e);const{status:t}=e;ce.c.error(T.formatMessage({id:"Apis.Details.Overview.error.occurred.subs",defaultMessage:"Error occurred when fetching subscription policies"})),404===t&&_(!0),q([]),R(!1)})),ie=()=>(new me.c).getDocumentsByAPIId(S.id).then((e=>{const t=e.body.list.filter((e=>"_overview"===e.otherTypeName));t.length>0&&V(t[0]),q(e.body.list)})).catch((e=>{console.log(e);const{status:t}=e;ce.c.error(T.formatMessage({id:"Apis.Details.Overview.error.occurred.docs",defaultMessage:"Error occurred when fetching documents"})),404===t&&_(!0),q([]),R(!1)}));(0,n.useEffect)((()=>{R(!0);const{endpointURLs:e}=S;e&&e.length>0&&te(e[0]),Promise.all([ie(),re()]).then((()=>{R(!1)}))}),[S]),(0,n.useEffect)((()=>{const e=new me.c;x?e.getSwaggerByAPIIdAndEnvironment(S.id,ee.environmentName).then((e=>{const t=e.obj;t&&t.info?Q(t.info.description):Q("")})).catch((e=>{console.log(e),Q("")})):(R(!0),Promise.all([ie(),re()]).then((()=>{R(!1)})))}),[]);const ue=()=>S.keyManagers?"all"===S.keyManagers[0]?null:S.keyManagers.map((e=>n.createElement(E.c,{variant:"body2"},e))):null,ge=se.c.getUser();return $?n.createElement(pe.c,null):x?K?n.createElement(u.c,{p:3},n.createElement(U.s,{plugins:[B.c],escapeHtml:!0},K)):n.createElement(pe.c,null):j?P?n.createElement(oe.c,{message:T.formattedMessage({id:"Apis.Details.Overview.not.found.message",defaultMessage:"Resource Not Found"})}):H?n.createElement(mt,null,n.createElement(p.c,{className:pt.paperWithDoc,elevation:0},n.createElement(de.c,{doc:H,apiId:S.id,fullScreen:!0,dontShowName:!0}))):n.createElement(mt,null,n.createElement(p.c,{className:pt.root,elevation:0},n.createElement(m.cp,{container:!0},n.createElement(m.cp,{item:!0,sm:8,xl:9},n.createElement(u.c,{display:"flex",flexDirection:"column"},n.createElement(u.c,{display:"flex",flexDirection:"row"},h&&n.createElement(u.c,{id:"overview-thumbnail",width:86,display:"flex",alignItems:"center"},n.createElement(u.c,{className:pt.apiThumb},n.createElement(G.c,{api:S,customWidth:70,customHeight:50,showInfo:!1}))),n.createElement(u.c,{ml:3,mr:2},n.createElement(E.c,{variant:"h4",component:"h2"},S.name),S.description&&n.createElement(E.c,{variant:"body2",gutterBottom:!0,align:"left",className:pt.description},ae&&M?ne:S.description,ae&&n.createElement("a",{"aria-label":"Show more/less description",onClick:e=>{e.preventDefault(),k(!M)},href:"#"},M?T.formatMessage({defaultMessage:" more",id:"Apis.Details.Overview.description.more"}):T.formatMessage({defaultMessage:" less",id:"Apis.Details.Overview.description.less"}))),n.createElement(u.c,{display:"flex","area-lable":"API version and owner details",flexDirection:"row"},n.createElement(E.c,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textLabel},n.createElement(o.c,{id:"Apis.Details.Overview.list.version",defaultMessage:"Version "}))," ",n.createElement(E.c,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textValue},S.version),n.createElement(d.c,{height:20}),n.createElement(E.c,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textLabel},n.createElement(o.c,{id:"Apis.Details.Overview.list.provider",defaultMessage:"By "}))," ",n.createElement(E.c,{variant:"body2",gutterBottom:!0,align:"left",className:pt.textValue},(()=>{let{provider:e}=S;return S.businessInformation&&S.businessInformation.businessOwner&&""!==S.businessInformation.businessOwner.trim()&&(e=S.businessInformation.businessOwner),e})())))),n.createElement(u.c,{display:"flex",flexDirection:"row",alignItems:"center",mt:2,pr:6},"solace"===S.gatewayVendor?n.createElement(Ge,null):n.createElement(Ke,{updateSelectedEndpoint:e=>{const t=e.target.value,a=S.endpointURLs.filter((e=>e.environmentName===t));a&&a.length>0?te(a[0]):ce.c.error(T.formatMessage({id:"Apis.Details.Overview.select.env.error",defaultMessage:"Error Selecting Environment"}))},selectedEndpoint:ee})),n.createElement(u.c,{display:"flex",flexDirection:"row",alignItems:"center",className:pt.originalDevportalUrl,mt:2,pr:6},D&&D.advertised&&D.originalDevPortalUrl&&n.createElement(c.c,{target:"_blank",rel:"noopener noreferrer",href:D.originalDevPortalUrl,variant:"body3",underline:"hover"},n.createElement(o.c,{id:"Apis.Details.Credentials.Credentials.visit.original.developer.portal",defaultMessage:"Visit Original Developer Portal"}),n.createElement(O.c,{className:pt.launchIcon}))),"wso2"===S.gatewayVendor&&Y&&Y.length>0&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.business.plans.title",defaultMessage:"Business Plans"}))),n.createElement(u.c,{flexWrap:"wrap",display:"flex",flexDirection:"row",alignItems:"center",mt:2,ml:1,textAlign:"center"},Y&&Y.map((e=>n.createElement(f.c,{className:pt.cardRoot,key:e.name},n.createElement(C.c,null,n.createElement(E.c,{className:pt.cardMainTitle,color:"textSecondary",gutterBottom:!0},e.name),n.createElement(u.c,{mt:2},n.createElement(E.c,{className:pt.requestCount,color:"textSecondary"},2147483647===e.requestCount?"Unlimited":e.requestCount)),n.createElement(u.c,null,n.createElement(E.c,{className:pt.requestUnit,color:"textSecondary"},"Requests/",e.timeUnit)))))))),t&&A.length>0&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"}))),n.createElement(u.c,{mt:2,ml:1,pr:6},n.createElement(I,{component:p.c},n.createElement(y.c,{className:pt.table,"aria-label":"simple table"},n.createElement(L.c,null,n.createElement(N.c,null,n.createElement(v.c,null,n.createElement(o.c,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),n.createElement(v.c,null,n.createElement(o.c,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),n.createElement(v.c,null,n.createElement(o.c,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})))),n.createElement(b.c,null,A.map((e=>n.createElement(N.c,{key:e.label},n.createElement(v.c,{component:"th",scope:"row"},n.createElement(c.c,{component:s.cH,to:`/applications/${e.value}/overview`,underline:"hover"},e.label)),n.createElement(v.c,null,e.policy),n.createElement(v.c,null,e.status))))))))),n.createElement(u.c,{mt:6},a&&n.createElement(n.Fragment,null,n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.comments.title",defaultMessage:"Comments"})),n.createElement(u.c,{pr:6},S&&n.createElement(Qe.default,{apiId:S.id,isOverview:!0})))))),n.createElement(m.cp,{item:!0,xs:4,xl:3},ge&&w&&n.createElement(u.c,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(W.c,{avgRating:X.avgRating,reviewCount:X.total,returnCount:X.count}),n.createElement(d.c,{height:30}),n.createElement(F.c,{apiId:S.id,isEditable:!0,showSummary:!1,setRatingUpdate:e=>{if(e){const{avgRating:t,total:a,count:n}=e;Z({avgRating:t,total:a,count:n})}}})),n.createElement(u.c,{mt:6},n.createElement(le,null)),n.createElement(u.c,{mt:2,mb:1},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"})),n.createElement(E.c,{variant:"body2"},S.subscriptions||0)),n.createElement(u.c,{mt:2,mb:1},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.tags.title",defaultMessage:"Tags"}))),n.createElement(E.c,{variant:"body2",className:pt.endpointLabel},S.tags.map((e=>n.createElement(g.c,{label:e,key:e,component:s.cH,clickable:!0,to:`/apis?offset=0&query=tag:${e}`,classes:{root:pt.chipRoot},variant:"outlined",size:"small"}))),0===S.tags.length&&n.createElement(o.c,{id:"Apis.Details.Overview.list.tags.not",defaultMessage:"Not Tagged"})),r&&j&&j.length>0&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.documents.title",defaultMessage:"Documents"}))),n.createElement(u.c,{pr:2,pl:1},n.createElement(rt,{apiId:S.id}),j.length>2&&n.createElement(c.c,{component:s.cH,to:"/apis/"+S.id+"/documents",className:pt.moreLink,underline:"hover"},j.length-2," ",n.createElement(o.c,{id:"Apis.Details.Overview.comments.show.more.more",defaultMessage:"more"})))),S.businessInformation.businessOwnerEmail&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.business.info",defaultMessage:"Business Info"}))),n.createElement(u.c,{mt:1},n.createElement(E.c,{variant:"body2"},S.businessInformation.businessOwnerEmail))),n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.source",defaultMessage:"Source"}))),("HTTP"===S.type||"SOAPTOREST"===S.type||"SOAP"===S.type||"GRAPHQL"===S.type||"WS"===S.type||"WEBSUB"===S.type||"SSE"===S.type||"ASYNC"===S.type)&&n.createElement(u.c,{mt:2},ee&&n.createElement(st,{selectedEndpoint:ee})),ue()&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",component:"h3",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.key.manager",defaultMessage:"Key Managers"}))),n.createElement(u.c,{mt:1},ue())),S.additionalProperties&&Object.keys(S.additionalProperties).length>0&&n.createElement(n.Fragment,null,n.createElement(u.c,{mt:6},n.createElement(E.c,{variant:"subtitle2",className:pt.sectionTitle},n.createElement(o.c,{id:"Apis.Details.Overview.additional.properties",defaultMessage:"Additonal properties"}))),n.createElement(u.c,{mt:1,ml:1},S.additionalProperties.filter((e=>{let{name:t,display:a}=e;return a&&!["slack_url","github_repo"].includes(t)})).map((e=>{let{name:t,value:a}=e;return n.createElement(E.c,{variant:"body2"},t," ",":"," ",a)})))))))):n.createElement(pe.c,null)}},99707:e=>{e.exports=function(){for(var e={},a=0;a<arguments.length;a++){var n=arguments[a];for(var r in n)t.call(n,r)&&(e[r]=n[r])}return e};var t=Object.prototype.hasOwnProperty}}]);
//# sourceMappingURL=APIOverview.d7a269a90205a8ef568f.bundle.js.map