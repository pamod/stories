(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[6192,8980],{992400:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>zn});var n=a(811504),i=a(655592),r=a(906940),o=a(203268),s=a.n(o),l=a(162248),c=a(404292),p=a(96144),d=a(226120),u=a(482084),m=a.n(u),g=a(602640),h=a(209176),f=a(273384),b=a(542592),y=a(924004),E=a(797408),v=a(503504),x=a(570440);const w="ApiBreadcrumbs",C={root:`${w}-root`,link:`${w}-link`,linkNotActive:`${w}-linkNotActive`,icon:`${w}-icon`,selectedTagText:`${w}-selectedTagText`,apiGroup:`${w}-apiGroup`},T=(0,r.cp)(y.c)((e=>{let{theme:t}=e;return{[`&.${C.root}`]:{padding:t.spacing(1,3)},[`& .${C.link}`]:{display:"flex",alignItems:"center"},[`& .${C.linkNotActive}`]:{display:"flex",alignItems:"center",cursor:"default"},[`& .${C.icon}`]:{marginRight:t.spacing(.5),width:20,height:20},[`& .${C.selectedTagText}`]:{textIndent:4},[`& .${C.apiGroup}`]:{color:t.palette.grey[800]}}}));function S(e){const t=(0,b.c)(),{selectedTag:a}=e;return n.createElement(T,{elevation:0,className:C.root},n.createElement(E.c,{"aria-label":"breadcrumb"},n.createElement(x.cH,{to:t.custom.tagWise.active&&"page"===t.custom.tagWise.style?"/api-groups":"/apis",className:C.apiGroup},n.createElement(v.c,{color:"inherit",className:C.link,underline:"hover"},n.createElement(d.c,{className:C.icon},"dynamic_feed"),n.createElement(c.c,{defaultMessage:"API Groups",id:"Apis.Listing.ApiBreadcrumbs.apigroups.main"}))),a&&n.createElement(v.c,{color:"inherit",className:C.linkNotActive,underline:"hover"},n.createElement(g.c,{width:16,height:16,icon:"api"}),n.createElement("span",{className:C.selectedTagText},a))))}var k=a(36776),A=a(692200),$=a(470108),P=a(705992),M=a(676668),D=a(153032),I=a(651104),R=a.n(I),O=a(859907),W=a.n(O),L=a(883660),B=a(224710),N=a.n(B),j=a(591800),q=a(687372),z=a(773256),H=a(141776),U=a(92944),V=a(642496),F=a(721020),G=a(235154),K=a.n(G),_=a(47568);const Y="DocThumbLegacy",X={thumbContent:`${Y}-thumbContent`,thumbLeft:`${Y}-thumbLeft`,thumbRight:`${Y}-thumbRight`,thumbInfo:`${Y}-thumbInfo`,thumbHeader:`${Y}-thumbHeader`,contextBox:`${Y}-contextBox`,thumbWrapper:`${Y}-thumbWrapper`,deleteIcon:`${Y}-deleteIcon`,textWrapper:`${Y}-textWrapper`,imageWrapper:`${Y}-imageWrapper`,imageOverlap:`${Y}-imageOverlap`},J=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${X.thumbContent}`]:{width:t.custom.thumbnail.width-t.spacing(1),backgroundColor:t.palette.background.paper,padding:t.spacing(1),minHeight:130},[`& .${X.thumbLeft}`]:{alignSelf:"flex-start",flex:1},[`& .${X.thumbRight}`]:{alignSelf:"flex-end",display:"flex",flexDirection:"column"},[`& .${X.thumbInfo}`]:{display:"flex"},[`& .${X.thumbHeader}`]:{width:t.custom.thumbnail.width-t.spacing(1),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0},[`& .${X.contextBox}`]:{width:parseInt((t.custom.thumbnail.width-t.spacing(1))/2,10),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em"},[`&.${X.thumbWrapper}`]:{position:"relative",paddingTop:15,marginLeft:t.spacing(2)},[`& .${X.deleteIcon}`]:{fill:"red"},[`& .${X.textWrapper}`]:{color:t.palette.text.secondary,textDecoration:"none"},[`& .${X.imageWrapper}`]:{color:t.palette.text.secondary,backgroundColor:t.palette.background.paper,width:t.custom.thumbnail.width+t.spacing(1),display:"flex",alignItems:"center",justifyContent:"center"},[`& .${X.imageOverlap}`]:{position:"absolute",bottom:1,backgroundColor:t.custom.thumbnail.contentBackgroundColor}}})),Q=window.URL||window.webkitURL;class Z extends n.Component{constructor(e){super(e),this.state={category:K().categories[0].name,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null}}componentWillUnmount(){const{thumbnail:e,imageObj:t}=this.state;e&&Q.revokeObjectURL(t)}render(){const{selectedIcon:e,color:t,backgroundIndex:a,category:i}=this.state,{doc:r,theme:o}=this.props,{doc:{name:s,sourceType:p,apiName:d,apiVersion:u,id:g,apiUUID:h}}=this.props,f="/apis/"+h+"/documents/"+g+"/details",{thumbnail:b}=o.custom,y=b.width,E=b.defaultApiImage,v=n.createElement(V.c,{width:y,height:140,api:r,fixedIcon:{key:e,color:t,backgroundIndex:a,category:i,doc:r}});return n.createElement(J,{className:X.thumbWrapper},n.createElement(x.cH,{to:f,className:X.imageWrapper},!E&&v,E&&n.createElement("img",{src:E,alt:"document"})),n.createElement("div",{className:m()(X.thumbContent,{[X.imageOverlap]:b.contentPictureOverlap})},n.createElement(x.cH,{to:f,className:X.textWrapper},n.createElement(l.c,{className:X.thumbHeader,variant:"h4",gutterBottom:!0,onClick:this.handleRedirectToAPIOverview,title:s},s)),n.createElement(l.c,{variant:"caption",gutterBottom:!0,align:"left"},n.createElement(c.c,{defaultMessage:"Source Type:",id:"Apis.Listing.DocThumb.sourceType"}),p),n.createElement("div",{className:X.thumbInfo},n.createElement("div",{className:X.thumbLeft},n.createElement(l.c,{variant:"subtitle1"},d),n.createElement(l.c,{variant:"caption",gutterBottom:!0,align:"left"},n.createElement(c.c,{defaultMessage:"Api Name",id:"Apis.Listing.DocThumb.apiName"}))),n.createElement("div",{className:X.thumbRight},n.createElement(l.c,{variant:"subtitle1",align:"right",className:X.contextBox},u),n.createElement(l.c,{variant:"caption",gutterBottom:!0,align:"right",component:"div"},n.createElement(c.c,{defaultMessage:"API Version",id:"Apis.Listing.DocThumb.apiVersion"}))))))}}Z.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired},Z.contextType=_.U;const ee=function(e){const{doc:t}=e,a=(0,b.c)();return n.createElement(Z,{doc:t,theme:a})};var te=a(427460);function ae(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ne="ApiTableViewLegacy-apiNameLink",ie=(0,r.cp)(k.c)((e=>{let{theme:t}=e;return{[`& .${ne}`]:{display:"flex",alignItems:"center","& span":{marginLeft:t.spacing(1)},color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund),"& .material-icons":{marginTop:5,color:`${t.custom.thumbnail.iconColor} !important`,fontSize:`${t.custom.thumbnail.listViewIconSize}px !important`}}}}));class re extends n.Component{constructor(e){super(e),ae(this,"getMuiTheme",(()=>{const{gridView:e,theme:t}=this.props;let a={};const n={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40,marginBottom:20,width:"100%"},paper:{boxShadow:"none",backgroundColor:"transparent",width:"100%"},tableRoot:{border:"solid 1px #fff","& a":{display:"flex",alignItems:"center"},"& a > div":{paddingRight:10},"& td":{whiteSpace:"nowrap",lineHeight:1},"& tr:nth-child(even)":{backgroundColor:t.custom.listView.tableBodyEvenBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}},"& tr:nth-child(odd)":{backgroundColor:t.custom.listView.tableBodyOddBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyOddBackgrund)}},"& th":{backgroundColor:t.custom.listView.tableHeadBackground,color:t.palette.getContrastText(t.custom.listView.tableHeadBackground)}}},MUIDataTablePagination:{root:{color:t.palette.getContrastText(t.palette.background.default)}},MuiMenuItem:{root:{color:t.palette.getContrastText(t.palette.background.default)}},MUIDataTableToolbar:{root:{"& svg":{color:t.palette.getContrastText(t.palette.background.default)}}}}};e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block",border:"none","& tbody":{display:"flex",flexWrap:"wrap",marginLeft:0},"& thead":{display:"none"},"& tr:nth-child(odd),& tr:nth-child(even)":{display:"block",marginRight:5,marginBottom:5,backgroundColor:"transparent"},"& td":{display:"block",backgroundColor:"transparent"}},paper:{boxShadow:"none",backgroundColor:"transparent"}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent",width:"100%"}}}});const i=R()({},U.c,N(),{custom:W()(t.custom)}),r=R()({},n,i,a);return(0,A.c)((0,$.c)(r))})),ae(this,"getData",(()=>{const{intl:e}=this.props;this.setState({loading:!0}),this.xhrRequest().then((e=>{const{body:t}=e,{list:a,pagination:n}=t,{total:i}=n;this.count=i,this.setState({data:a})})).catch((t=>{const{response:a}=t,{setTenantDomain:n}=this.props;a&&901300===a.body.code?(n("INVALID"),H.c.error(e.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Listing.ApiTableView.invalid.tenant.domain"}))):H.c.error(e.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.ApiTableView.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),ae(this,"xhrRequest",(()=>{const{query:e,selectedTag:t}=this.props,{page:a,rowsPerPage:n}=this,i=new f.c,r=new URLSearchParams(e).get("query");if(e&&null!==r){const t=L.parse(e);return t.limit=this.rowsPerPage,t.offset=a*n,i.search(t)}return t?i.getAllAPIs({query:"tag:"+t,limit:this.rowsPerPage,offset:a*n}):i.getAllAPIs({limit:this.rowsPerPage,offset:a*n})})),ae(this,"changePage",(e=>{const{intl:t}=this.props;this.page=e,this.setState({loading:!0}),this.xhrRequest().then((e=>{const{body:t}=e,{list:a}=t;this.setState({data:a})})).catch((()=>{H.c.error(t.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.ApiTableView.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),this.state={data:null,loading:!0},this.page=0,this.count=100,this.rowsPerPage=localStorage.getItem("portal.numberOfRows")||10,this.pageType=null}componentDidMount(){this.apiType=this.context.apiType,this.getData()}componentDidUpdate(e){const{query:t,selectedTag:a}=this.props;this.apiType===this.context.apiType&&t===e.query&&e.selectedTag===a||(this.page=0,this.apiType=this.context.apiType,this.getData())}render(){var e=this;const{intl:t,gridView:a,theme:i}=this.props,{custom:{social:{showRating:r}}}=i,{loading:o}=this.state,s=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];return n.createElement(V.c,{api:e,width:30,height:30})}return n.createElement("span",null)},sort:!1,filter:!1,display:"excluded"}},{name:"name",label:t.formatMessage({id:"Apis.Listing.ApiTableView.name",defaultMessage:"Name"}),options:{customBodyRender:function(t,a,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=o.state.data[a.rowIndex],t=a.rowData[2],r=a.rowData[0];if(e){if("DOC"===e.type)return n.createElement(x.cH,{to:"/apis/"+e.apiUUID+"/documents",className:ne},n.createElement(d.c,null,"library_books"),n.createElement("span",null," ",n.createElement(c.c,{id:"Apis.Listing.TableView.TableView.doc.flag",defaultMessage:"[Doc] "})," ",t));const a=i.palette.getContrastText(i.custom.listView.tableBodyEvenBackgrund);return n.createElement(x.cH,{to:"/apis/"+r+"/overview",className:ne},n.createElement(g.c,{width:16,height:16,icon:"api",strokeColor:a}),n.createElement("span",null,t))}}return n.createElement("span",null)},sort:!1,filter:!1}},{name:"version",label:t.formatMessage({id:"Apis.Listing.ApiTableView.version",defaultMessage:"Version"}),options:{sort:!1}},{name:"context",label:t.formatMessage({id:"Apis.Listing.ApiTableView.context",defaultMessage:"Context"}),options:{sort:!1}},{name:"provider",label:t.formatMessage({id:"Apis.Listing.ApiTableView.provider",defaultMessage:"Provider/Business Owner"}),options:{sort:!1,customBodyRender:(e,t)=>t.rowData?t.rowData[9]&&t.rowData[9].businessOwner?n.createElement(n.Fragment,null,n.createElement("div",null,t.rowData[9].businessOwner),n.createElement(l.c,{variant:"caption"},n.createElement(c.c,{defaultMessage:"(Business Owner)",id:"Apis.Listing.ApiTableView.business.owner.caption"}))):n.createElement(n.Fragment,null,e&&n.createElement(n.Fragment,null,n.createElement("div",null,e),n.createElement(l.c,{variant:"caption"},n.createElement(c.c,{defaultMessage:"(Provider)",id:"Apis.Listing.ApiTableView.provider.caption"})))):n.createElement("span",null)}},{name:"type",label:t.formatMessage({id:"Apis.Listing.ApiTableView.type",defaultMessage:"Type"}),options:{sort:!1}},{name:"rating",label:t.formatMessage({id:"Apis.Listing.ApiTableView.rating",defaultMessage:"Rating"}),options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];if(e&&"DOC"!==e.type){const e=a.rowData[0],t=a.rowData[8];return n.createElement(j.c,{apiRating:t,apiId:e,isEditable:!1,showSummary:!1})}}return n.createElement("span",null)},sort:!1,display:r?"true":"excluded"}},{name:"avgRating",options:{display:"excluded",filter:!1}},{name:"businessInformation",options:{display:"excluded",filter:!1}}],{page:p,count:u,rowsPerPage:m}=this,{data:h}=this.state,f={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1,count:u,page:p,onTableChange:(e,t)=>{"changePage"===e&&this.changePage(t.page)},selectableRows:"none",rowsPerPage:m,onChangeRowsPerPage:e=>{const{page:t,count:a}=this;t*e>a&&(this.page=0),this.rowsPerPage=e,localStorage.setItem("portal.numberOfRows",e),this.getData()},textLabels:{pagination:{rowsPerPage:t.formatMessage({id:"Apis.Listing.ApiTableView.items.per.page",defaultMessage:"Items per page"})},toolbar:{downloadCsv:t.formatMessage({id:"Apis.Listing.ApiTableView.download.csv",defaultMessage:"Download CSV"}),print:t.formatMessage({id:"Apis.Listing.ApiTableView.print",defaultMessage:"Print"}),viewColumns:t.formatMessage({id:"Apis.Listing.ApiTableView.view.columns",defaultMessage:"View Columns"})}}};return a?(f.customRowRender=function(t,a,r){const o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e).state.data[a];return o?"DOC"===o.type?n.createElement("tr",{key:r},n.createElement("td",null,n.createElement(ee,{doc:o}))):n.createElement("tr",{key:r},n.createElement("td",null,n.createElement(F.c,{api:o,customHeight:i.custom.thumbnail.height,customWidth:i.custom.thumbnail.width}))):n.createElement("span",null)},f.title=!1,f.filter=!1,f.print=!1,f.download=!1,f.viewColumns=!1,f.customToolbar=!1):f.filter=!1,0===p&&this.count<=m&&10===m?f.pagination=!1:f.pagination=!0,o?n.createElement(z.c,null):h&&0===h.length||!h?n.createElement(te.c,null):n.createElement(ie,{injectFirst:!0},n.createElement(P.c,{theme:this.getMuiTheme()},n.createElement(M.cp,{title:"",data:h,columns:s,options:f})))}}re.contextType=_.U;const oe=(0,q.c)((0,D.cp)((function(e){const{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o}=e,s=(0,b.c)();return n.createElement(re,{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o,theme:s})})));var se=a(779288),le=a(135800),ce=a(672),pe=a(773680),de=a(139760),ue=a(969072);const me="APICategoryThumb",ge={textWrapper:`${me}-textWrapper`,listItemText:`${me}-listItemText`},he=(0,r.cp)(x.cH)((e=>{let{theme:t}=e;return{[`&.${ge.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${ge.listItemText}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}));function fe(e){const{category:t,path:a}=e,i=a+":"+t.name;let r=t.description;return r.length>50&&(r=r.substring(0,50)+"..."),n.createElement(he,{to:i,className:ge.textWrapper},n.createElement(ue.c,{placement:"right",title:t.description.length<=50?"":t.description},n.createElement(ce.cp,{button:!0,alignItems:"flex-start"},n.createElement(pe.c,{className:"category-listing-icon"},n.createElement(d.c,null,"label")),n.createElement(de.c,{primary:t.name,secondary:r,classes:{primary:m()(ge.listItemText,"category-listing-primary"),secondary:"category-listing-secondary"}}))))}fe.propTypes={classes:s().shape({}).isRequired,category:s().shape({}).isRequired,path:s().shape({}).isRequired};const be=fe,ye="CategoryListingCategories",Ee={mainTitle:`${ye}-mainTitle`,mainTitleWrapper:`${ye}-mainTitleWrapper`,listContentWrapper:`${ye}-listContentWrapper`,textWrapper:`${ye}-textWrapper`,tagWiseThumbWrapper:`${ye}-tagWiseThumbWrapper`,filterTitle:`${ye}-filterTitle`},ve=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`&.${Ee.mainTitle}`]:{paddingTop:0},[`& .${Ee.mainTitleWrapper}`]:{flexGrow:1},[`& .${Ee.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${Ee.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${Ee.tagWiseThumbWrapper}`]:{display:"flex"},[`& .${Ee.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"}}}));function xe(e){const t=(0,b.c)(),{custom:{tagWise:{style:a}}}=t,{allCategories:i}=e;return i&&i.length>0?n.createElement(ve,{className:m()(Ee.mainTitle,"category-listing-categories-empty")},n.createElement(l.c,{variant:"h6",gutterBottom:!0,className:m()(Ee.filterTitle,"api-cat-title")},n.createElement(c.c,{defaultMessage:"API Categories",id:"Apis.Listing.CategoryListingCategories.title"})),n.createElement(le.c,{component:"nav","aria-label":"main mailbox folders",className:"category-listing-categories"},Object.keys(i).map((e=>n.createElement(be,{key:e,category:i[e],path:"/apis?offset=0&query=api-category",style:a}))))):n.createElement(ve,{className:m()(Ee.mainTitle,"category-listing-categories-empty")},n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(c.c,{defaultMessage:"Categories cannot be found",id:"Apis.Listing.CategoryListingCategories.categoriesNotFound"})))}xe.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,allTags:s().shape({}).isRequired,allCategories:s().shape({}).isRequired};const we=xe;var Ce=a(475616);const Te="ApiTagCloud",Se={clickablePointer:`${Te}-clickablePointer`,filterTitle:`${Te}-filterTitle`},ke=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Se.clickablePointer}`]:{cursor:"pointer",padding:t.spacing(1)},[`& .${Se.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"}}}));function Ae(e){const t=(0,b.c)(),{custom:{tagWise:{key:a,active:r},tagCloud:{colorOptions:o}}}=t,s=(0,i.Uz)(),{allTags:p}=e;let d=null;return 0!==p.count&&(d=r?p.filter((e=>-1===e.value.search(a))):p),d&&n.createElement(ke,null,n.createElement(l.c,{variant:"h6",gutterBottom:!0,className:m()(Se.filterTitle,"apis-listing-tags-title")},n.createElement(c.c,{defaultMessage:"Tags",id:"Apis.Listing.ApiTagCloud.title"})),n.createElement(Ce.a,{minSize:14,maxSize:25,colorOptions:o,tags:d,shuffle:!1,className:Se.clickablePointer,onClick:e=>(e=>{const t=`/apis?offset=0&query=tag:${e.value}`;s.push(t)})(e)}))}Ae.propTypes={classes:s().shape({}).isRequired,tag:s().shape({}).isRequired,allTags:s().shape({}).isRequired};const $e=Ae;var Pe=a(677516),Me=a(316672),De=a(614477),Ie=a(385388);const Re="RecommendedApiThumbLegacy",Oe={card:`${Re}-card`,apiDetails:`${Re}-apiDetails`,suppressLinkStyles:`${Re}-suppressLinkStyles`,row:`${Re}-row`,thumbBy:`${Re}-thumbBy`,media:`${Re}-media`,thumbContent:`${Re}-thumbContent`,thumbLeft:`${Re}-thumbLeft`,thumbRight:`${Re}-thumbRight`,thumbInfo:`${Re}-thumbInfo`,thumbHeader:`${Re}-thumbHeader`,contextBox:`${Re}-contextBox`,thumbWrapper:`${Re}-thumbWrapper`,deleteIcon:`${Re}-deleteIcon`,textWrapper:`${Re}-textWrapper`,imageWrapper:`${Re}-imageWrapper`,imageOverlap:`${Re}-imageOverlap`,chipWrapper:`${Re}-chipWrapper`,ratingWrapper:`${Re}-ratingWrapper`},We=(0,r.cp)(Pe.c)((e=>{let{theme:t}=e;return{[`&.${Oe.card}`]:{margin:1.5*t.spacing.unit,maxWidth:t.custom.thumbnail.width,transition:"box-shadow 0.3s ease-in-out"},[`& .${Oe.apiDetails}`]:{background:t.custom.thumbnail.contentBackgroundColor,padding:t.spacing(),color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor),"& a":{color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor)}},[`& .${Oe.suppressLinkStyles}`]:{textDecoration:"none",color:t.palette.text.disabled},[`& .${Oe.row}`]:{display:"inline-block"},[`& .${Oe.thumbBy}`]:{"padding-left":"5px"},[`& .${Oe.media}`]:{objectFit:"cover"},[`& .${Oe.thumbContent}`]:{width:t.custom.thumbnail.width-t.spacing(2)},[`& .${Oe.thumbLeft}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},[`& .${Oe.thumbRight}`]:{alignSelf:"flex-end"},[`& .${Oe.thumbInfo}`]:{display:"flex"},[`& .${Oe.thumbHeader}`]:{width:t.custom.thumbnail.width-t.spacing.unit,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${Oe.contextBox}`]:{width:parseInt((t.custom.thumbnail.width-t.spacing.unit)/2,10),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},[`& .${Oe.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:2*t.spacing.unit},[`& .${Oe.deleteIcon}`]:{fill:"red"},[`& .${Oe.textWrapper}`]:{color:t.palette.text.secondary,textDecoration:"none"},[`& .${Oe.imageWrapper}`]:{color:t.custom.thumbnail.iconColor,width:t.custom.thumbnail.width,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${Oe.imageOverlap}`]:{position:"absolute",bottom:1},[`& .${Oe.chipWrapper}`]:{marginTop:"15px"},[`& .${Oe.ratingWrapper}`]:{marginTop:"20px"}}})),Le=window.URL||window.webkitURL;class Be extends n.Component{constructor(e){super(e),this.state={category:K().categories[0].name,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null,isHover:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this)}componentDidMount(){const{api:e}=this.props;(new f.c).getAPIThumbnail(e.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);this.setState({selectedIcon:t.key,category:t.category,color:t.color,backgroundIndex:t.backgroundIndex})}else if(e&&e.data.size>0){const t=Le.createObjectURL(e.data);this.setState({imageObj:t})}}))}componentWillUnmount(){this.state.thumbnail&&Le.revokeObjectURL(this.state.imageObj)}getPathPrefix(){return"/apis/"}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{imageObj:e,selectedIcon:t,color:a,backgroundIndex:i,category:r,isHover:o}=this.state,s=this.getPathPrefix()+this.props.api.id,{api:c,theme:p,customWidth:d,customHeight:u,showInfo:g}=this.props,{thumbnail:h}=p.custom,{name:f}=c,b=d||h.width,y=u||140,E=h.defaultApiImage;let v;return v=e?n.createElement("img",{height:y,width:b,src:e,alt:"API Thumbnail",className:Oe.media}):n.createElement(V.c,{width:b,height:y,api:c,fixedIcon:{key:t,color:a,backgroundIndex:i,category:r,api:c}}),n.createElement(We,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:o,className:m()("image-thumbnail",Oe.card)},n.createElement(Me.c,null,n.createElement(x.cH,{to:s,className:Oe.suppressLinkStyles},!E&&v,E&&n.createElement("img",{src:E,alt:"img"}))),g&&n.createElement(De.c,{classes:{root:Oe.apiDetails}},n.createElement(x.cH,{to:s,className:Oe.textWrapper},n.createElement(l.c,{className:Oe.thumbHeader,variant:"h5",gutterBottom:!0,onClick:this.handleRedirectToAPIOverview,title:f},f)),n.createElement("div",{className:Oe.thumbInfo},n.createElement("div",{className:Oe.thumbLeft},n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0,align:"left",className:m()("api-thumb-rating",Oe.ratingWrapper)},n.createElement(j.c,{apiRating:c.avgRating,apiId:c.id,isEditable:!1,showSummary:!1}))),n.createElement("div",{className:Oe.thumbRight},n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:Oe.chipWrapper},("GRAPHQL"===c.type||"GRAPHQL"===c.transportType)&&n.createElement(Ie.c,{label:void 0===c.transportType?c.type:c.transportType,color:"primary"}))))))}}Be.defaultProps={customWidth:null,customHeight:null,showInfo:!0},Be.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,customWidth:s().number,customHeight:s().number,showInfo:s().bool},Be.contextType=_.U;const Ne=function(e){const{api:t}=e,a=(0,b.c)();return n.createElement(Be,{api:t,theme:a})};function je(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const qe="RecommendationsLegacy",ze={rowImageOverride:`${qe}-rowImageOverride`,apiNameLink:`${qe}-apiNameLink`},He=(0,r.cp)(k.c)((e=>{let{theme:t}=e;return{[`& .${ze.rowImageOverride}`]:{"& .material-icons":{marginTop:5,color:`${t.custom.thumbnail.iconColor} !important`,fontSize:`${t.custom.thumbnail.listViewIconSize}px !important`}},[`& .${ze.apiNameLink}`]:{display:"flex",alignItems:"center","& span":{marginLeft:t.spacing(1)},color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}}}));class Ue extends n.Component{constructor(e){super(e),je(this,"getMuiTheme",(()=>{const{gridView:e,theme:t}=this.props;let a={},n={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40,marginBottom:20,width:"100%"},paper:{boxShadow:"none",backgroundColor:"transparent",width:"100%"},tableRoot:{border:"solid 1px #fff","& a":{display:"flex",alignItems:"center"},"& a > div":{paddingRight:10},"& td":{whiteSpace:"nowrap"},"& tr:nth-child(even)":{backgroundColor:t.custom.listView.tableBodyEvenBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyEvenBackgrund)}},"& tr:nth-child(odd)":{backgroundColor:t.custom.listView.tableBodyOddBackgrund,"& td":{color:t.palette.getContrastText(t.custom.listView.tableBodyOddBackgrund)}},"& th":{backgroundColor:t.custom.listView.tableHeadBackground,color:t.palette.getContrastText(t.custom.listView.tableHeadBackground)}}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent",width:"100%"}}}};return e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block","& tbody":{display:"flex",flexWrap:"wrap",marginLeft:0},"& thead":{display:"none"}},paper:{boxShadow:"none",backgroundColor:"transparent"}}}}),n=Object.assign(n,a,N()),(0,A.c)((0,$.c)(n))})),je(this,"getData",(()=>{const{intl:e}=this.props;this.xhrRequest().then((e=>{const{body:t}=e,{list:a}=t;this.setState({data:a})})).catch((t=>{const{response:a}=t,{setTenantDomain:n}=this.props;a&&901300===a.body.code?(n("INVALID"),H.c.error(e.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Listing.Recommendations.invalid.tenant.domain"}))):H.c.error(e.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.Recommendations.error.loading"}))})).finally((()=>{this.setState({loading:!1})}))})),je(this,"xhrRequest",(()=>(new f.c).getApiRecommendations())),this.state={data:null,loading:!0}}componentDidMount(){this.getData()}componentDidUpdate(e){const{query:t,selectedTag:a}=this.props;t===e.query&&e.selectedTag===a||this.getData()}render(){var e=this;const{intl:t,gridView:a}=this.props,{loading:i}=this.state,r=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];return n.createElement(V.c,{api:e,width:30,height:30})}return n.createElement("span",null)},sort:!1,filter:!1,display:"excluded"}},{name:"name",label:t.formatMessage({id:"Apis.Listing.Recommendations.name",defaultMessage:"Name"}),options:{customBodyRender:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t.rowData){const e=a.state.data[t.rowIndex],i=t.rowData[2],r=t.rowData[0];if(e)return n.createElement(x.cH,{to:"/apis/"+r+"/overview",className:ze.apiNameLink},n.createElement(g.c,{width:16,height:16,icon:"api",strokeColor:"#444444"}),n.createElement("span",null,i))}return n.createElement("span",null)},sort:!1,filter:!1}},{name:"rating",label:t.formatMessage({defaultMessage:"Rating",id:"Apis.Listing.Recommendations.rating"}),options:{customBodyRender:function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const e=r.state.data[a.rowIndex];if(e){if("DOC"!==e.type){const e=a.rowData[0],t=a.rowData[8];return n.createElement(j.c,{apiRating:t,apiId:e,isEditable:!1,showSummary:!1})}return n.createElement("span",null)}return n.createElement("span",null)}return n.createElement("span",null)},sort:!1}},{name:"avgRating",options:{display:"excluded",filter:!1}}],{data:o}=this.state,s={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1};return a?(s.customRowRender=function(t,a,i){const r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e).state.data[a];return r?n.createElement("tr",{key:i},n.createElement("td",null,n.createElement(Ne,{api:r}))):n.createElement("span",null)},s.title=!0,s.filter=!1,s.print=!1,s.download=!1,s.viewColumns=!1,s.customToolbar=!1,s.rowsPerPageOptions=!1,s.pagination=!1):s.filter=!1,i?n.createElement(z.c,null):o&&0===o.length||!o?null:n.createElement(He,{injectFirst:!0},n.createElement(P.c,{theme:this.getMuiTheme()},n.createElement(M.cp,{title:"Recommended APIs for you",data:o,columns:r,options:s})))}}Ue.contextType=_.U;const Ve=(0,q.c)((0,D.cp)((function(e){const{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o}=e,s=(0,b.c)();return n.createElement(Ue,{query:t,selectedTag:a,gridView:i,intl:r,setTenantDomain:o,theme:s})})));var Fe=a(669872);function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ge.apply(this,arguments)}function Ke(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _e="CommonListingLegacy",Ye={rightIcon:`${_e}-rightIcon`,button:`${_e}-button`,buttonRight:`${_e}-buttonRight`,ListingWrapper:`${_e}-ListingWrapper`,appBar:`${_e}-appBar`,mainIconWrapper:`${_e}-mainIconWrapper`,mainTitle:`${_e}-mainTitle`,mainTitleWrapper:`${_e}-mainTitleWrapper`,listContentWrapper:`${_e}-listContentWrapper`,iconDefault:`${_e}-iconDefault`,iconSelected:`${_e}-iconSelected`,content:`${_e}-content`,contentWithTags:`${_e}-contentWithTags`,contentWithoutTags:`${_e}-contentWithoutTags`,contentWithTagsHidden:`${_e}-contentWithTagsHidden`,LeftMenu:`${_e}-LeftMenu`,LeftMenuForSlider:`${_e}-LeftMenuForSlider`,sliderButton:`${_e}-sliderButton`,rotatedText:`${_e}-rotatedText`,recommendationsBar:`${_e}-recommendationsBar`,apiListingWrapper:`${_e}-apiListingWrapper`},Xe=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Ye.rightIcon}`]:{marginLeft:t.spacing(1)},[`& .${Ye.button}`]:{margin:t.spacing(1),marginBottom:0},[`& .${Ye.buttonRight}`]:{alignSelf:"flex-end",display:"flex"},[`& .${Ye.ListingWrapper}`]:{paddingTop:10,paddingLeft:35,maxWidth:t.custom.contentAreaWidth},[`& .${Ye.appBar}`]:{height:70,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${Ye.mainIconWrapper}`]:{paddingTop:13,paddingLeft:20,paddingRight:20},[`& .${Ye.mainTitle}`]:{paddingTop:10},[`& .${Ye.mainTitleWrapper}`]:{flexGrow:1},[`& .${Ye.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`,display:"flex",marginLeft:-40},[`& .${Ye.iconDefault}`]:{color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${Ye.iconSelected}`]:{color:t.custom.infoBar.listGridSelectedColor},[`& .${Ye.content}`]:{flexGrow:1,display:"flex",flex:1,flexDirection:"column",paddingBottom:t.spacing(3)},[`& .${Ye.contentWithTags}`]:{marginLeft:t.custom.tagCloud.leftMenu.width},[`& .${Ye.contentWithoutTags}`]:{marginLeft:-4},[`& .${Ye.contentWithTagsHidden}`]:{marginLeft:t.custom.tagCloud.leftMenu.sliderWidth},[`& .${Ye.LeftMenu}`]:{backgroundColor:t.custom.tagCloud.leftMenu.background,color:t.custom.tagCloud.leftMenu.color,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:0,width:t.custom.tagCloud.leftMenu.width,top:0,left:0,overflowY:"auto"},[`& .${Ye.LeftMenuForSlider}`]:{backgroundColor:t.custom.tagCloud.leftMenu.background,color:t.custom.tagCloud.leftMenu.color,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:0,width:t.custom.tagCloud.leftMenu.sliderWidth,top:0,left:0,overflowY:"auto",display:"flex"},[`& .${Ye.sliderButton}`]:{fontWeight:200,background:t.custom.tagCloud.leftMenu.sliderBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.sliderBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex",position:"absolute",right:0,cursor:"pointer"},[`& .${Ye.rotatedText}`]:{transform:"rotate(270deg)",transformOrigin:"left bottom 0",position:"absolute",whiteSpace:"nowrap",top:4*t.custom.infoBar.height,marginLeft:23,cursor:"pointer"},[`& .${Ye.recommendationsBar}`]:{height:60,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`&.${Ye.apiListingWrapper}`]:{width:"100%"}}}));class Je extends n.Component{constructor(e){super(e),Ke(this,"setListType",(e=>{localStorage.setItem("portal.listType",e),this.setState({listType:e})})),Ke(this,"toggleLeftMenu",(()=>{this.setState((e=>({showLeftMenu:!e.showLeftMenu})))})),Ke(this,"isMonetizationEnabled",(()=>{const e=this.context.settings.monetizationEnabled;this.setState({isMonetizationEnabled:e})})),Ke(this,"isRecommendationEnabled",(()=>{const e=this.context.settings.recommendationEnabled;this.setState({isRecommendationEnabled:e})}));let{defaultApiView:t}=e.theme.custom;this.showToggle=!0,"object"==typeof t&&t.length>0?(1===t.length&&(this.showToggle=!1),t=t[0]):t=localStorage.getItem("portal.listType")||t,this.state={listType:t,allTags:null,showLeftMenu:!1,isMonetizationEnabled:!1,isRecommendationEnabled:!1}}componentDidMount(){const e=new f.c;e.getAllTags().then((e=>{this.setState({allTags:e.body.list})})).catch((e=>{console.log(e)})),e.apiCategories().then((e=>{this.setState({allCategories:e.body.list})})).catch((e=>{console.log(e)})),this.isMonetizationEnabled(),this.isRecommendationEnabled()}render(){const{theme:e,location:{search:t}}=this.props,a=Fe.c.getUser(),{custom:{tagWise:{key:i,active:r},tagCloud:{active:o}}}=e,{listType:s,allTags:u,showLeftMenu:h,isMonetizationEnabled:f,allCategories:b,isRecommendationEnabled:y}=this.state,E=e.palette.getContrastText(e.custom.infoBar.background),v=new URLSearchParams(t).get("query");let x=null;if(t&&null!==v&&r&&i){const e=v.split(":");if(e.length>1&&-1!==e[1].search(i)){const t=e[1].split(i);t.length>0&&(x=t[0])}else e.length>1&&"tag"===e[0]&&(x=e[1])}const w=u&&u.length>0&&(o||r),C=b&&b.length>0;return n.createElement(Xe,{className:m()(Ye.apiListingWrapper,"api-listing-wrapper")},(C||w)&&h&&n.createElement("div",{className:m()(Ye.LeftMenu,"api-listing-left-menu")},n.createElement("div",{className:m()(Ye.sliderButton,"api-listing-slider-btn"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(d.c,null,"keyboard_arrow_left")),C&&n.createElement(we,{allCategories:b}),w&&r&&n.createElement(se.c,{allTags:u}),w&&o&&n.createElement($e,{allTags:u})),(C||w)&&!h&&n.createElement("div",{className:m()(Ye.LeftMenuForSlider,"api-listing-left-menu-hidden")},n.createElement("div",{className:m()(Ye.sliderButton,"api-listing-slider-btn"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(d.c,null,"keyboard_arrow_right")),n.createElement("div",{className:m()(Ye.rotatedText,"api-listing-title-section-hidden"),onClick:this.toggleLeftMenu,onKeyDown:this.toggleLeftMenu},n.createElement(c.c,{defaultMessage:"Tags / API Categories",id:"Apis.Listing.Listing.ApiTagCloud.title"}))),n.createElement("div",{className:m()(Ye.content,{[Ye.contentWithoutTags]:!(w||C)||!h},{[Ye.contentWithTagsHidden]:(w||C)&&!h},{[Ye.contentWithTags]:(w||C)&&h},"content-section"),id:"commonListing"},n.createElement("div",{className:Ye.appBar,id:"commonListingAppBar"},n.createElement("div",{className:m()(Ye.mainIconWrapper,"main-icon-wrapper")},n.createElement(g.c,{strokeColor:E,width:42,height:42,icon:"api"})),n.createElement("div",{className:Ye.mainTitleWrapper,id:"mainTitleWrapper"},n.createElement(l.c,{variant:"h4",component:"h1",className:Ye.mainTitle},n.createElement(c.c,{defaultMessage:"APIs",id:"Apis.Listing.Listing.apis.main"}))),this.showToggle&&n.createElement("div",{className:Ye.buttonRight,id:"listGridWrapper"},n.createElement(p.c,{"aria-label":"Change to list view",className:Ye.button,onClick:()=>this.setListType("list"),disabled:"list"===s,size:"large"},n.createElement(d.c,{className:m()({[Ye.iconSelected]:"list"===s},{[Ye.iconDefault]:"grid"===s})},"list")),n.createElement(p.c,{"aria-label":"Change to grid view",className:Ye.button,onClick:()=>this.setListType("grid"),disabled:"grid"===s,size:"large"},n.createElement(d.c,{className:m()({[Ye.iconSelected]:"grid"===s},{[Ye.iconDefault]:"list"===s})},"grid_on")))),r&&u&&u.length>0&&n.createElement(S,{selectedTag:x}),n.createElement("div",{className:Ye.listContentWrapper},"grid"===s&&n.createElement(_.U.Provider,{value:{isMonetizationEnabled:f}},n.createElement(oe,{gridView:!0,query:t})),"list"===s&&n.createElement(_.U.Provider,{value:{isMonetizationEnabled:f}},n.createElement(oe,{gridView:!1,query:t}))),y&&a&&n.createElement("div",null,r&&u&&u.length>0&&n.createElement(S,{selectedTag:x}),n.createElement("div",{className:Ye.listContentWrapper},"grid"===s&&n.createElement(_.U.Provider,{value:{isRecommendationEnabled:y}},n.createElement(Ve,{gridView:!0,query:t})),"list"===s&&n.createElement(_.U.Provider,{value:{isRecommendationEnabled:y}},n.createElement(Ve,{gridView:!0,query:t}))))))}}Je.contextType=h.cp,Je.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,location:s().shape({search:s().string})},Je.defaultProps={location:s().shape({search:""})};const Qe=function(e){const t=(0,b.c)();return n.createElement(Je,Ge({},e,{theme:t}))};var Ze=a(667660),et=a(378524),tt=a(362704),at=a(70132),nt=a(715656),it=a(622037),rt=a(205420),ot=a(991568),st=a(206976),lt=a(96032),ct=a(366048),pt=a(902706),dt=a(384776),ut=a(169288);const mt=e=>n.createElement(dt.c,{maxWidth:"md"},n.createElement(ot.c,{padding:4},n.createElement(y.c,{elevation:0},n.createElement(ot.c,{padding:4},n.createElement(nt.cp,{container:!0,alignItems:"center",justifyContent:"center",style:{height:"100%"}},n.createElement(nt.cp,{item:!0,xs:12,md:6},n.createElement(l.c,{variant:"h5",gutterBottom:!0},n.createElement(c.c,{id:"Base.Errors.SubscriptionNotFound.default_title",defaultMessage:"Solace Info Page is not displayed without subscriptions to the API. Please Subscribed to the API"})),n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0},n.createElement(c.c,{id:"Base.Errors.ResourceNotfound.default_body",defaultMessage:"The page you are looking for is not available"}),n.createElement("span",{style:{color:"green"}}," ",e.response?e.response.statusText:""," ")),n.createElement(ot.c,{py:5},n.createElement(ot.c,{pb:2},n.createElement(l.c,{variant:"subtitle1"},n.createElement(c.c,{id:"Base.Errors.ResourceNotFound.more.links",defaultMessage:"You may check the links below"}))),n.createElement(x.cH,{to:"/apis/",style:{marginRight:8}},n.createElement(pt.c,{variant:"contained",color:"primary"},n.createElement(c.c,{id:"Base.Errors.ResourceNotFound.api.list",defaultMessage:"API List"}))),n.createElement(x.cH,{to:"/applications/"},n.createElement(pt.c,{variant:"contained",color:"primary"},n.createElement(c.c,{id:"Base.Errors.ResourceNotFound.applications",defaultMessage:"Applications"}))))),n.createElement(nt.cp,{item:!0,xs:12,md:6},n.createElement(ut.c,{style:{fontSize:400,fill:"#ccc"}})))))));var gt=a(927732);function ht(e){const{verb:t}=e,a=(0,b.c)(),i=a.custom.resourceChipColors[t.toLowerCase()];return n.createElement(pt.c,{disableFocusRipple:!0,variant:"outlined",className:{backgroundColor:"#ffffff",borderColor:i,color:i,width:a.spacing(2)},size:"small"},t.toUpperCase())}const ft="SolaceTopicsInfo",bt={root:`${ft}-root`,table:`${ft}-table`,centerItems:`${ft}-centerItems`,leftCol:`${ft}-leftCol`,iconAligner:`${ft}-iconAligner`,iconTextWrapper:`${ft}-iconTextWrapper`,iconEven:`${ft}-iconEven`,iconOdd:`${ft}-iconOdd`,heading:`${ft}-heading`,heading1:`${ft}-heading1`,emptyBox:`${ft}-emptyBox`,summaryRoot:`${ft}-summaryRoot`,actionPanel:`${ft}-actionPanel`,Paper:`${ft}-Paper`,Box2:`${ft}-Box2`,Box3:`${ft}-Box3`,list:`${ft}-list`,urlPaper:`${ft}-urlPaper`,input:`${ft}-input`,avatar:`${ft}-avatar`,iconStyle:`${ft}-iconStyle`},yt=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${bt.root}`]:{padding:t.spacing(3,2),"& td, & th":{color:t.palette.getContrastText(t.custom.infoBar.background)},"& option":{padding:"5px 0px 5px 0px"},background:t.custom.infoBar.background},[`& .${bt.table}`]:{minWidth:"100%"},[`& .${bt.centerItems}`]:{margin:"auto"},[`& .${bt.leftCol}`]:{width:200},[`& .${bt.iconAligner}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"},[`& .${bt.iconTextWrapper}`]:{display:"inline-block",paddingLeft:20},[`& .${bt.iconEven}`]:{color:t.custom.infoBar.iconOddColor,width:t.spacing(3)},[`& .${bt.iconOdd}`]:{color:t.custom.infoBar.iconOddColor,width:t.spacing(3)},[`& .${bt.heading}`]:{color:t.palette.getContrastText(t.palette.background.paper),paddingLeft:t.spacing(1)},[`& .${bt.heading1}`]:{marginRight:20},[`& .${bt.emptyBox}`]:{background:"#ffffff55",color:t.palette.getContrastText(t.palette.background.paper),border:"solid 1px #fff",padding:t.spacing(2),width:"100%"},[`& .${bt.summaryRoot}`]:{display:"flex",alignItems:"center"},[`& .${bt.actionPanel}`]:{justifyContent:"flex-start"},[`& .${bt.Paper}`]:{marginTop:t.spacing(2),padding:t.spacing(2)},[`& .${bt.Box2}`]:{marginTop:t.spacing(2),padding:t.spacing(2),height:"100%"},[`& .${bt.Box3}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${bt.list}`]:{width:"100%",maxWidth:800,backgroundColor:t.palette.background.paper,position:"relative",overflow:"auto",maxHeight:175},[`& .${bt.urlPaper}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${bt.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${bt.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${bt.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}}}}));function Et(){const{apiUuid:e}=(0,i.W4)(),[t,a]=(0,n.useState)(null),[r,o]=(0,n.useState)(null),[s,u]=(0,n.useState)(null),[m,g]=(0,n.useState)(null),[h,b]=(0,n.useState)(null),[y,E]=(0,n.useState)(null),[v,x]=(0,n.useState)(null),[w,C]=(0,n.useState)(null),[T,S]=(0,n.useState)(!1),[k,A]=(0,n.useState)(!1),[$,P]=(0,n.useState)(!1),[M,D]=(0,n.useState)(null),[I,R]=(0,n.useState)(null),[O,W]=(0,n.useState)(null),L=(0,at.c)(),B=()=>{P(!0),setTimeout((function(){P(!1)}),2e3)};function N(e,t){const a=[];e.publishTopics.map((e=>(t.map((t=>(e.toString().includes(t)&&a.push(e),null))),null))),R(a);const n=[];e.subscribeTopics.map((e=>(t.map((t=>(e.toString().includes(t)&&n.push(e),null))),null))),W(n)}if((0,n.useEffect)((()=>{const t=new f.c,n=t.getAllTopics(e),i=[];n.then((e=>(e.obj.list.map((e=>{const t=e.name.split("{")[0];return i.push(t),null})),D(i),null))),t.getSubscriptionAdditionalInfo(e).then((e=>{C(e.body.list);const t=e.body.list[0];null!=t&&(a(t.applicationName),null!==t.solaceDeployedEnvironments&&(g(t.solaceDeployedEnvironments),o(t.solaceDeployedEnvironments[0]),E(t.solaceDeployedEnvironments[0].solaceURLs),u(t.solaceDeployedEnvironments[0].solaceURLs[0].protocol),b(t.solaceDeployedEnvironments[0].solaceURLs[0].endpointURL),"mqtt"===t.solaceDeployedEnvironments[0].solaceURLs[0].protocol?(x(t.solaceDeployedEnvironments[0].SolaceTopicsObject.mqttSyntax),N(t.solaceDeployedEnvironments[0].SolaceTopicsObject.mqttSyntax,i)):(x(t.solaceDeployedEnvironments[0].SolaceTopicsObject.defaultSyntax),N(t.solaceDeployedEnvironments[0].SolaceTopicsObject.defaultSyntax,i))))})).catch((e=>{console.log(e);const{status:t}=e;S(404===t)}))}),[e]),T)return n.createElement(gt.c,null);function j(e,t){"mqtt"===e?(x(t.SolaceTopicsObject.mqttSyntax),N(t.SolaceTopicsObject.mqttSyntax,M)):(x(t.SolaceTopicsObject.defaultSyntax),N(t.SolaceTopicsObject.defaultSyntax,M))}return w?n.createElement(yt,null,!t&&n.createElement(mt,null),r&&v&&M&&w&&n.createElement("div",{className:bt.root},n.createElement(l.c,{id:"itest-api-details-bushiness-plans-head",variant:"h5"},n.createElement(c.c,{id:"solace.application.available.topics.heading",defaultMessage:"Available Topics"})),n.createElement(l.c,{variant:"caption",gutterBottom:!0},n.createElement(c.c,{id:"solace.application.available.topics.subheading",defaultMessage:"Topics permitted to access from solace applications"})),n.createElement(ot.c,{mt:2}),n.createElement(nt.cp,{container:!0,spacing:2},n.createElement(nt.cp,{item:!0,xs:12,md:4},n.createElement(it.c,{select:!0,fullWidth:!0,onChange:e=>{let t;a(e.target.value),w.map((a=>(a.applicationName===e.target.value&&(t=a),null)));const n=t.solaceDeployedEnvironments[0];let i;g(t.solaceDeployedEnvironments),u(n.solaceURLs[0].protocol),n.solaceURLs.map((e=>(e.protocol===n.solaceURLs[0].protocol&&(b(e.endpointURL),i=e.protocol),null))),j(i,n)},value:t,variant:"outlined",label:"Application",helperText:n.createElement(c.c,{defaultMessage:"Subscribed applications",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select.subscribed. application"}),SelectProps:{native:!0}},w.map((e=>n.createElement("option",{key:e,value:e.applicationName},e.applicationName))))),n.createElement(nt.cp,{item:!0,xs:12,md:4},n.createElement(it.c,{select:!0,fullWidth:!0,onChange:e=>{let t,a;o(e.target.value),m.map((a=>(a.environmentDisplayName===e.target.value&&(t=a),null))),u(t.solaceURLs[0].protocol),E(t.solaceURLs),t.solaceURLs.map((e=>(e.protocol===t.solaceURLs[0].protocol&&(b(e.endpointURL),a=e.protocol),null))),j(a,t)},value:r.environmentDisplayName,variant:"outlined",label:"Environment Name",helperText:n.createElement(c.c,{defaultMessage:"Deployed Environments",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select. deployed.environment"}),SelectProps:{native:!0}},m.map((e=>n.createElement("option",{key:e,value:e.environmentDisplayName},e.environmentDisplayName))))),n.createElement(nt.cp,{item:!0,xs:12,md:4},n.createElement(it.c,{select:!0,fullWidth:!0,onChange:e=>{let t,a;u(e.target.value),m.map((e=>(e.environmentDisplayName===r.environmentDisplayName&&(t=e),null))),y.map((t=>(t.protocol===e.target.value&&(b(t.endpointURL),a=t.protocol),null))),j(a,t)},value:s,variant:"outlined",label:"Protocol",helperText:n.createElement(c.c,{defaultMessage:"Available Protocols",id:"Apis.Details.SolaceTopicsInfo.SelectAppPanel.select. environment.protocol"}),SelectProps:{native:!0}},y.map((e=>n.createElement("option",{key:e.protocol,value:e.protocol},(0,ct.W8)(e.protocol))))))),n.createElement(ot.c,{pt:2},n.createElement(rt.c,null)),n.createElement(ot.c,{pt:5,pb:5},n.createElement(nt.cp,{container:!0},n.createElement(nt.cp,{xs:12,md:7,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(ot.c,{id:"gateway-envirounment",component:"form",className:bt.Box3},n.createElement(ot.c,{mr:3},n.createElement(Ie.c,{label:(0,ct.W8)(s),color:"primary",style:{width:"70px"}})),n.createElement(st.cp,{className:bt.input,inputProps:{"aria-label":"api url"},value:h}),n.createElement(lt.c,{className:bt.avatar,sizes:30},n.createElement(ue.c,{title:k?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:bt.iconStyle},n.createElement(p.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(h).then((A(!0),void setTimeout((function(){A(!1)}),2e3)))}},n.createElement(d.c,{color:"secondary"},"file_copy")))))))),n.createElement(nt.cp,{container:!0},n.createElement(nt.cp,{item:!0,xs:6},n.createElement(ot.c,{className:bt.Box2},n.createElement(l.c,{id:"itest-api-details-bushiness-plans-head",variant:"h6"},n.createElement(c.c,{id:"solace.application.topics.publish",defaultMessage:"Publish Topics"})),n.createElement(ot.c,{p:1},I&&I.length>0?I.map((e=>n.createElement(ot.c,{pt:2},n.createElement(ot.c,{id:"gateway-envirounment",component:"form",className:bt.Box3},n.createElement(nt.cp,{item:!0},n.createElement(ht,{verb:"PUB"})),n.createElement(st.cp,{className:bt.input,inputProps:{"aria-label":"api url"},value:e}),n.createElement(lt.c,{className:bt.avatar,sizes:30},n.createElement(ue.c,{title:$?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.PubTopic.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.PubTopic.copy.to.clipboard"}),interactive:!0,placement:"right",className:bt.iconStyle},n.createElement(p.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e).then(B())}},n.createElement(d.c,{color:"secondary"},"file_copy")))))))):n.createElement(ot.c,{pt:2},n.createElement(l.c,{id:"itest-api-details-bushiness-plans-head",variant:"h7"},n.createElement(c.c,{id:"solace.application.topics.publish.empty",defaultMessage:"No Publish Topics to Display."})))))),n.createElement(nt.cp,{item:!0,xs:6},n.createElement(ot.c,{className:bt.Box2},n.createElement(l.c,{id:"itest-api-details-bushiness-plans-head",variant:"h6"},n.createElement(c.c,{id:"solace.application.topics.subscribe",defaultMessage:"Subscribe Topics"})),n.createElement(ot.c,{p:1},O&&O.length>0?O.map((e=>n.createElement(ot.c,{pt:2},n.createElement(ot.c,{id:"gateway-envirounment",component:"form",className:bt.Box3},n.createElement(nt.cp,{item:!0},n.createElement(ht,{verb:"SUB"})),n.createElement(st.cp,{className:bt.input,inputProps:{"aria-label":"api url"},value:e}),n.createElement(lt.c,{className:bt.avatar,sizes:30},n.createElement(ue.c,{title:$?L.formatMessage({defaultMessage:"Copied",id:"Apis.Details.SubTopic.copied"}):L.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.SubTopic.copy.to.clipboard"}),interactive:!0,placement:"right",className:bt.iconStyle},n.createElement(p.c,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e).then(B())}},n.createElement(d.c,{color:"secondary"},"file_copy")))))))):n.createElement(ot.c,{pt:2},n.createElement(l.c,{id:"itest-api-details-bushiness-plans-head",variant:"h7"},n.createElement(c.c,{id:"solace.application.topics.subscribe.empty",defaultMessage:"No Subscribe Topics to Display."}))))))))):n.createElement(z.c,null)}Et.propTypes={classes:s().shape({}).isRequired,intl:s().shape({}).isRequired};const vt=Et;var xt=a(848236),wt=a(219811),Ct=a.n(wt),Tt=a(571480),St=a(244400),kt=a(861562),At=a(79592),$t=a(304632),Pt=a(974624),Mt=a(913140),Dt=a(991004),It=a(882800),Rt=a(246160);const Ot="Breadcrumb-root",Wt=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`&.${Ot}`]:{paddingTop:t.spacing(),paddingBottom:t.spacing(),paddingLeft:t.spacing(3),background:t.custom.infoBar.background||"#ffffff",color:t.palette.getContrastText(t.custom.infoBar.background||"#ffffff"),borderBottom:"solid 1px "+t.palette.grey.A200,"& > * + *":{marginTop:t.spacing(2)}}}}));function Lt(e){const{api:t}=(0,n.useContext)(_.U),{breadcrumbDocument:a}=e,r=(0,i.Uz)(),o=(0,at.c)(),s=[{route:"overview",text:o.formatMessage({defaultMessage:"Overview",id:"Apis.Details.Breadcrumb.overview"})},{route:"credentials",text:o.formatMessage({defaultMessage:"Subscriptions",id:"Apis.Details.Breadcrumb.subscriptions"})},{route:"api-console",text:o.formatMessage({defaultMessage:"API Console",id:"Apis.Details.Breadcrumb.try.out.api-console"})},{route:"api-chat",text:o.formatMessage({defaultMessage:"API Chat",id:"Apis.Details.Breadcrumb.try.out.api-chat"})},{route:"comments",text:o.formatMessage({defaultMessage:"Comments",id:"Apis.Details.Breadcrumb.comments"})},{route:"documents",text:o.formatMessage({defaultMessage:"Documents",id:"Apis.Details.Breadcrumb.documents"})},{route:"sdk",text:o.formatMessage({defaultMessage:"SDKs",id:"Apis.Details.Breadcrumb.sdks"})}],[c,p]=(0,n.useState)(s[0]),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=window.location);const{pathname:t}=e;for(let e=0;e<s.length;e++){const a=new RegExp("/"+s[e].route+"$","g"),n=new RegExp("/"+s[e].route+"/","g");(t.match(a)||t.match(n))&&p(s[e])}};return(0,n.useEffect)((()=>{d()}),[]),r.listen((e=>{d(e)})),(0,n.useEffect)((()=>{d()}),[a]),n.createElement(Wt,{className:Ot},n.createElement(ot.c,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(l.c,{color:"textPrimary",component:"h1",variant:"h6"},c.text),n.createElement(Rt.c,{height:15}),n.createElement(E.c,{separator:n.createElement(It.c,{fontSize:"small"}),"aria-label":"breadcrumb"},n.createElement(v.c,{color:"textPrimary",to:"/apis/"+t.id+"/overview",component:x.cH,underline:"hover"},t.name),("api-console"===c.route||"api-chat"===c.route)&&n.createElement(l.c,{color:"textPrimary"},"Try Out"),"documents"===c.route&&document&&n.createElement(v.c,{color:"textPrimary",to:"/apis/"+t.id+"/documents/default",component:x.cH,underline:"hover"},c.text),"documents"===c.route&&!document&&n.createElement(l.c,{color:"textPrimary"},c.text),"documents"===c.route&&document&&n.createElement(l.c,{color:"textPrimary","data-testid":"breadcrumbDocument"},a),"documents"!==c.route&&n.createElement(l.c,{color:"textPrimary"},c.text))))}var Bt=a(403972),Nt=a(931200),jt=a(983870),qt=a(567816),zt=a(328864),Ht=a(971192);function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ut.apply(this,arguments)}const Vt={mt:2,mr:1},Ft={pl:2},Gt=e=>{const{currentStep:t,handleCurrentStep:a,handleReset:r,nextActive:o}=e,{api:s,updateSubscriptionData:l}=(0,n.useContext)(_.U),p=(0,i.Uz)();return n.createElement(ot.c,Ut({display:"flex"},Ft),t<4&&n.createElement(ot.c,Vt,n.createElement(pt.c,{onClick:()=>{l(p.push("credentials"))},variant:"text",color:"grey"},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.Cancel",defaultMessage:"CANCEL"}))),t>=4&&n.createElement(ot.c,Vt,n.createElement(pt.c,Ut({onClick:()=>{p.push(`/apis/${s.id}/test`)}},Vt,{variant:"outlined"}),n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.test",defaultMessage:"Test"}))),t>=4&&n.createElement(ot.c,Vt,n.createElement(pt.c,{variant:"outlined",onClick:r},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.rest",defaultMessage:"Reset"}))),n.createElement(ot.c,Vt,n.createElement(pt.c,{variant:"contained",color:"primary",onClick:a,disabled:!o,id:"wizard-next-"+t+"-btn"},4===t?n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.finish",defaultMessage:"Finish"}):n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.next",defaultMessage:"Next"}))))};Gt.defaultProps={nextActive:!0},Gt.propTypes={currentStep:s().func.isRequired,handleCurrentStep:s().func.isRequired,handleReset:s().func.isRequired,nextActive:s().bool};const Kt=Gt;function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Xt="CreateAppStep",Jt={appCreateFormWrapper:`${Xt}-appCreateFormWrapper`,warningIcon:`${Xt}-warningIcon`},Qt=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`&.${Jt.appCreateFormWrapper}`]:{paddingLeft:t.spacing(2)},[`& .${Jt.warningIcon}`]:{color:"#ff9a00",fontSize:43,marginRight:10}}})),Zt=(0,D.cp)((e=>{const[t,a]=(0,n.useState)([]),[i,r]=(0,n.useState)({name:"",throttlingPolicy:"",description:"",tokenType:"JWT",groups:null,attributes:{}}),[o,s]=(0,n.useState)(!0),[l,p]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),{currentStep:m,setCreatedApp:g,incrementStep:h,intl:b,setStepStatus:y,stepStatuses:E}=e,{api:v}=(0,n.useContext)(_.U);return(0,n.useEffect)((()=>{const e=new f.c,t=e.getAllTiers("application"),n=e.getAllApplicationAttributes(),o=e.getKeyManagers();Promise.all([t,n,o]).then((e=>{const[t,n,o]=e,s=t.body.list.map((e=>e.name)),l=Yt({},i);s.length>0&&([l.throttlingPolicy]=s);const c=[];n.body.list.map((e=>c.push(e))),n.length>0&&(l.attributes=c.filter((e=>!e.hidden)));const d=[];let m;o.body.list.map((e=>d.push(e))),d.length>0&&(m=0!==d.filter((e=>"Resident Key Manager"===e.name&&e.enabled)).length),u(m),r(l),a(s),p(c)})).catch((e=>{const{status:t}=e;404===t&&H.c.error(b.formatMessage({id:"Apis.Details.Credentials.Wizard.CreateAppStep.error.404",defaultMessage:"Resource not found"}))}))}),[]),d?n.createElement(Qt,{className:Jt.appCreateFormWrapper},n.createElement(ot.c,{px:2,display:"flex",justifyContent:"flex-start"},n.createElement(nt.cp,{item:!0,xs:10,md:6},n.createElement(zt.c,{throttlingPolicyList:t,applicationRequest:i,updateApplicationRequest:r,validateName:e=>e&&""!==e.trim()?(s({isNameValid:!0}),Promise.resolve(!0)):(s({isNameValid:!1}),Promise.reject(new Error(b.formatMessage({defaultMessage:"Application name is required",id:"Apis.Details.Credentials.Wizard.CreateAppStep.application.name.is.required"})))),isNameValid:o,allAppAttributes:l,handleAttributesChange:e=>t=>{const a=W()(i);a.attributes[e]=t.target.value,r(a)},isRequiredAttribute:e=>{if(l)for(let t=0;t<l.length;t++)if(l[t].attribute===e)return"true"===l[t].required;return!1},getAttributeValue:e=>i.attributes[e],handleDeleteChip:(e,t,a)=>{const n=Yt({},i);let o=a||[];o=o.filter((t=>t!==e)),n.groups=o,r(n)},handleAddChip:(e,t)=>{const a=Yt({},i);let n=t||[];n=n.slice(),n.push(e),a.groups=n,r(a)}}))),n.createElement(Kt,{classes:Jt,currentStep:m,handleCurrentStep:()=>{const e=new f.c;i.name&&""!==i.name.trim()?e.createApplication(i).then((e=>{const t=e.body;if("APPROVED"===t.status){const e={value:t.applicationId,label:t.name};console.log("Application created successfully."),g(e),h(),y(E.PROCEED)}else y(E.BLOCKED)})).catch((e=>{const{response:t}=e;if(t&&t.body){const e=t.body.description||b.formatMessage({defaultMessage:"Error while creating the application",id:"Apis.Details.Credentials.Wizard.CreateAppStep.error.while.creating.the.application"});H.c.error(e)}else H.c.error(e.message);console.error("Error while creating the application")})):H.c.error(b.formatMessage({defaultMessage:"Application name is required",id:"Apis.Details.Credentials.Wizard.CreateAppStep.application.name.is.required"}))}})):n.createElement(ot.c,{mb:1,ml:4},n.createElement(Ht.c,{type:"warning"},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.CreateAppStep.default.km.msg",defaultMessage:"Wizard is only accessible via the Resident Key Manager.But the Resident Key Manager is disabled at the moment."})),n.createElement(ot.c,{mt:2},n.createElement(x.cH,{to:`/apis/${v.id}/credentials`},n.createElement(pt.c,{variant:"contained"},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.CreateAppStep.cancel",defaultMessage:"Cancel"})))))}));var ea=a(624492);function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const na=(0,D.cp)((e=>{const[t,a]=(0,n.useState)({applicationId:"",apiId:"",throttlingPolicy:""}),{api:i}=(0,n.useContext)(_.U),[r,o]=(0,n.useState)(null),[s]=(0,n.useState)(i.tiers),{currentStep:l,createdApp:c,incrementStep:p,intl:d,setStepStatus:u,stepStatuses:m,classes:g}=e;return(0,n.useEffect)((()=>{const e=aa(aa({},t),{},{apiId:i.id});if(s){const[t]=s;e.throttlingPolicy=t.tierName}c&&(e.applicationId=c.value),a(e),o(c)}),[c]),n.createElement(ot.c,{component:"div"},n.createElement(ea.c,{throttlingPolicyList:s,applicationsAvailable:[r],subscriptionRequest:t,updateSubscriptionRequest:a}),n.createElement(Kt,{classes:g,currentStep:l,handleCurrentStep:()=>{(new f.c).subscribe(t.apiId,t.applicationId,t.throttlingPolicy).then((e=>{"UNBLOCKED"===e.body.status?(console.log("Subscription created successfully with ID : "+e.body.subscriptionId),H.c.info(d.formatMessage({defaultMessage:"Subscribed successfully",id:"Apis.Details.Credentials.Wizard.SubscribeToAppStep.subscribed.successfully"})),p(),u(m.PROCEED)):u(m.BLOCKED)})).catch((e=>{console.log("Error while creating the subscription."),console.error(e)}))}}))}));var ia=a(232152),ra=a(157344),oa=a(585824),sa=a(739376),la=a(470184),ca=a(695312);const pa=["children","value","index"];function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ma.apply(this,arguments)}const ga="generateKeysStep",ha={keyConfigWrapper:`${ga}-keyConfigWrapper`,radioWrapper:`${ga}-radioWrapper`,paper:`${ga}-paper`,subTitle:`${ga}-subTitle`,tabPanel:`${ga}-tabPanel`,hr:`${ga}-hr`,muiFormGroupRoot:`${ga}-muiFormGroupRoot`,table:`${ga}-table`,leftCol:`${ga}-leftCol`,iconAligner:`${ga}-iconAligner`},fa=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${ha.keyConfigWrapper}`]:{paddingLeft:t.spacing(4),flexDirection:"column"},[`& .${ha.radioWrapper}`]:{flexDirection:"row"},[`& .${ha.paper}`]:{background:"none",marginBottom:t.spacing(2),marginTop:t.spacing(2)},[`& .${ha.subTitle}`]:{fontWeight:400},[`& .${ha.tabPanel}`]:{"& .MuiBox-root":{padding:0}},[`& .${ha.hr}`]:{border:"solid 1px #efefef"},[`& .${ha.muiFormGroupRoot}`]:{flexDirection:"row"},[`& .${ha.table}`]:{minWidth:"100%","& td, & th":{padding:t.spacing()}},[`& .${ha.leftCol}`]:{width:200},[`& .${ha.iconAligner}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"}}}));function ba(e){const{children:t,value:a,index:i}=e,r=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,pa);return n.createElement("div",ma({role:"tabpanel",hidden:a!==i,id:`nav-tabpanel-${i}`,"aria-labelledby":`nav-tab-${i}`},r),a===i&&n.createElement(fa,null,t))}ba.defaultProps={children:n.createElement("div",null)},ba.propTypes={children:s().node,index:s().number.isRequired,value:s().number.isRequired};var ya=a(851456),Ea=a(793068);function va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?va(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):va(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const wa="generateAccessTokenStep",Ca={tokenWrapper:`${wa}-tokenWrapper`,title:`${wa}-title`},Ta=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Ca.tokenWrapper}`]:{paddingLeft:t.spacing(3),width:"90%"},[`& .${Ca.title}`]:{paddingLeft:t.spacing(2)}}}));var Sa=a(314320);function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const $a={tokenWrapper:"copyAccessTokenStep-tokenWrapper"},Pa=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`&.${$a.tokenWrapper}`]:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),width:"90%"}}}));function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ma.apply(this,arguments)}function Da(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ia="Wizard",Ra={paper:`${Ia}-paper`,titleSub:`${Ia}-titleSub`,boxWrapper:`${Ia}-boxWrapper`},Oa=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Ra.paper}`]:{marginLeft:t.spacing(3)},[`& .${Ra.titleSub}`]:{marginLeft:t.spacing(3),paddingTop:t.spacing(2),paddingBottom:t.spacing(2),color:t.palette.getContrastText(t.palette.background.default)},[`& .${Ra.boxWrapper}`]:{"& h5, & label, & td, & li, & div, & input, & p.MuiFormHelperText-root":{color:t.palette.getContrastText(t.palette.background.paper)},"& .MuiButton-containedPrimary span.MuiButton-label":{color:t.palette.getContrastText(t.palette.primary.main)}}}})),Wa=[Zt,na,e=>{const t=(0,at.c)(),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(null),[s,p]=(0,n.useState)({keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""}),{currentStep:d,createdApp:u,incrementStep:m,setCreatedKeyType:g,setStepStatus:h,stepStatuses:b,setCreatedSelectedTab:y}=e;return(0,n.useEffect)((()=>{(new f.c).getKeyManagers().then((e=>{const a=[];let n;if(e.body.list.map((e=>a.push(e))),a.length>0){const e=a.filter((e=>"Resident Key Manager"===e.name));n=e.length>0?e[0]:a[0]}const r=n.availableGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e));o(ua(ua({},n),{},{availableGrantTypes:r}));try{const e=ua({},s);e.keyManager=n.id,e.supportedGrantTypes=n.availableGrantTypes,(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(e.callbackUrl="http://localhost"),n.availableGrantTypes.includes("client_credentials")||i(!1),p(e)}catch(e){H.c.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}})).catch((e=>{}))}),[]),n.createElement(fa,null,n.createElement(ot.c,{component:"div",marginLeft:4},n.createElement(nt.cp,{container:!0,spacing:2},r&&n.createElement(n.Fragment,null,n.createElement(nt.cp,{item:!0,xs:12,md:20,lg:3},n.createElement(l.c,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(c.c,{defaultMessage:"Key Configuration",id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.key.configuration"})),n.createElement(l.c,{color:"inherit",variant:"caption",component:"p"},n.createElement(la.c,null,n.createElement(c.c,{defaultMessage:"These configurations are set for the purpose of the wizard.You have more control over them when you go to the application view. ",id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.key.configuration.help"})))),n.createElement(nt.cp,{item:!0,xs:12,md:12,lg:9},n.createElement(ia.c,{className:ha.table},n.createElement(ra.c,null,n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.config.km.name",defaultMessage:"Key Manager"})),n.createElement(oa.c,null,n.createElement("div",null,r.displayName||r.name),n.createElement(l.c,{variant:"caption",component:"div"},r.description))),n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.environment",defaultMessage:"Environment"})),n.createElement(oa.c,null,"Sandbox")),n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.tokenEndpoint",defaultMessage:"Token Endpoint"})),n.createElement(oa.c,null,r.tokenEndpoint)),n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.revokeEndpoint",defaultMessage:"Revoke Endpoint"})),n.createElement(oa.c,null,r.revokeEndpoint)),n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.userInfoEndpoint",defaultMessage:"User Info Endpoint"})),n.createElement(oa.c,null,r.userInfoEndpoint)),n.createElement(sa.c,null,n.createElement(oa.c,{component:"th",scope:"row",className:ha.leftCol},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.list.grantTypes",defaultMessage:"Grant Types"})),n.createElement(oa.c,null,r.availableGrantTypes.map((e=>n.createElement("span",null,Ct().grantTypes[e]||e,","," ")))))))))),n.createElement(nt.cp,{container:!0,spacing:2},n.createElement(nt.cp,{item:!0,xs:12},n.createElement(ot.c,{component:"span",m:1},n.createElement(Kt,{classes:ha,currentStep:d,handleCurrentStep:()=>{ca.c.get(u.value).then((e=>e.generateKeys(s.keyType,s.supportedGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e)),s.callbackUrl,s.additionalProperties,s.keyManager))).then((e=>{"CREATED"===e.keyState||"REJECTED"===e.keyState?h(b.BLOCKED):(m(),g(s.keyType),y("Resident Key Manager"),h(b.PROCEED),console.log("Keys generated successfully with ID : "+e))})).catch((e=>{const{status:a}=e;404===a&&H.c.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.404",defaultMessage:"Resource not found."}))}))},nextActive:a}))))))},e=>{const t=(0,at.c)(),[a,i]=(0,n.useState)("PRODUCTION"),[r,o]=(0,n.useState)("Resident Key Manager"),[s,c]=(0,n.useState)([]),[p,d]=(0,n.useState)({timeout:3600,scopesSelected:[],keyType:""}),{currentStep:u,createdApp:m,setCreatedToken:g,incrementStep:h,createdKeyType:f,createdSelectedTab:b}=e;(0,n.useEffect)((()=>{const e=xa(xa({},p),{},{keyType:f});i(f),o(b),d(e)}),[f,b]),(0,n.useEffect)((()=>{ca.c.get(m.value).then((e=>{e.getKeys().then((()=>{const t=e.subscriptionScopes.map((e=>e.key));c(t)}))})).catch((e=>{const{status:a}=e;404===a&&H.c.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep.error.404",defaultMessage:"Resource not found"}))}))}),[]);const y=(0,Ea.Os)({dataInfo:{id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep",defaultMessage:"Generate Access Token for {keyType} environment"}});return n.createElement(Ta,null,n.createElement("div",{className:Ca.tokenWrapper},n.createElement(l.c,{variant:"subtitle1",component:"div",className:Ca.title},t.formatMessage(y.dataInfo,{keyType:a})),n.createElement(ya.c,{updateAccessTokenRequest:d,accessTokenRequest:p,subscriptionScopes:s}),n.createElement(Kt,{classes:Ca,currentStep:u,handleCurrentStep:()=>{o(b),ca.c.get(m.value).then((e=>e.generateToken(r,p.keyType,p.timeout,p.scopesSelected))).then((e=>{console.log("token generated successfully "+e),g(e),h()})).catch((e=>{const{status:a}=e;404===a&&H.c.error(t.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateAccessTokenStep.error.404",defaultMessage:"Resource not found"}))}))}})))},e=>{const{currentStep:t,createdToken:a,handleReset:r}=e,o=(0,i.Uz)(),{api:s,updateSubscriptionData:l}=(0,n.useContext)(_.U);return n.createElement(Pa,{className:$a.tokenWrapper},n.createElement(nt.cp,{md:10},n.createElement(ot.c,{my:1,mx:2},n.createElement(Sa.c,{token:Aa(Aa({},a),{},{isOauth:!0})}))),n.createElement(Kt,{classes:$a,currentStep:t,handleCurrentStep:()=>{l(o.push(`/apis/${s.id}/credentials`))},handleReset:r}))}];class La extends n.Component{constructor(e){super(e),Da(this,"setStepStatus",(e=>{this.setState({stepStatus:e})})),Da(this,"setCreatedApp",(e=>{this.setState({createdApp:e})})),Da(this,"setCreatedToken",(e=>{this.setState({createdToken:e})})),Da(this,"setCreatedKeyType",(e=>{this.setState({createdKeyType:e})})),Da(this,"setCreatedSelectedTab",(e=>{this.setState({createdSelectedTab:e})})),Da(this,"handleNext",(()=>{this.setState((e=>{let{currentStep:t}=e;return{currentStep:t+1}}))})),Da(this,"handleReset",(()=>{this.setState({currentStep:0})}));const{intl:t}=this.props;this.steps=[t.formatMessage({defaultMessage:"Create application",id:"Apis.Details.Credentials.Wizard.Wizard.create"}),t.formatMessage({defaultMessage:"Subscribe to new application",id:"Apis.Details.Credentials.Wizard.Wizard.subscribe.to.new.application"}),t.formatMessage({defaultMessage:"Generate Keys",id:"Apis.Details.Credentials.Wizard.Wizard.generate.keys"}),t.formatMessage({defaultMessage:"Generate Access Token",id:"Apis.Details.Credentials.Wizard.Wizard.generate.access.token"}),t.formatMessage({defaultMessage:"Copy Access Token",id:"Apis.Details.Credentials.Wizard.Wizard.copy.access.token"})],this.stepStatuses={PROCEED:"PROCEED",BLOCKED:"BLOCKED"},this.state={currentStep:0,createdApp:null,createdToken:null,redirect:!1,createdKeyType:"",createdSelectedTab:"",stepStatus:"PROCEED"}}render(){const{currentStep:e,stepStatus:t}=this.state,a=Wa[e];return n.createElement(Oa,null,n.createElement(l.c,{variant:"h4",component:"h2",className:Ra.titleSub},n.createElement(c.c,{id:"Apis.Details.Credentials.Credentials.api.credentials.generate",defaultMessage:"Subscription & Key Generation Wizard"})),n.createElement(y.c,{elevation:0,className:Ra.paper},n.createElement(ot.c,{py:4,mx:"auto",display:"block",width:"96%"},n.createElement(nt.cp,{item:!0,xs:12,md:12},n.createElement(Nt.c,{activeStep:e},this.steps.map((e=>n.createElement(jt.c,{key:e},n.createElement(qt.c,null,e))))))),n.createElement(ot.c,{py:1,mx:"auto",display:"block",className:Ra.boxWrapper},t===this.stepStatuses.PROCEED&&n.createElement(n.Fragment,null,n.createElement(a,Ma({},this.state,{incrementStep:this.handleNext,setStepStatus:this.setStepStatus,stepStatuses:this.stepStatuses,classes:Ra,setCreatedApp:this.setCreatedApp,setCreatedKeyType:this.setCreatedKeyType,setCreatedSelectedTab:this.setCreatedSelectedTab,setCreatedToken:this.setCreatedToken,handleReset:this.handleReset})))),n.createElement(ot.c,{py:1,mb:1,mx:"auto",display:"flex"},t===this.stepStatuses.BLOCKED&&n.createElement(ot.c,{pt:2,px:3,display:"flex"},n.createElement(l.c,{variant:"h5",component:"label"},n.createElement(c.c,{id:"Apis.Details.Credentials.Wizard.Wizard.approval.request.for.this.step.has",defaultMessage:"A request to register this step has been sent."}))))))}}La.propTypes={classes:s().shape({appBar:s().string,toolbar:s().string,subscribeTitle:s().string,plainContent:s().string,root:s().string,instructions:s().string,button:s().string,wizardContent:s().string}).isRequired,intl:s().func.isRequired,throttlingPolicyList:s().arrayOf(s().string).isRequired};const Ba=(0,D.cp)(La);var Na=a(685464);function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ja.apply(this,arguments)}const qa=(0,n.lazy)((()=>Promise.all([a.e(3568),a.e(6820),a.e(2744),a.e(5476),a.e(6336),a.e(7231),a.e(2028),a.e(9812),a.e(5176),a.e(9068)]).then(a.bind(a,261248)))),za=(0,n.lazy)((()=>Promise.all([a.e(6456),a.e(6820),a.e(5476),a.e(6336),a.e(1648),a.e(5176),a.e(4056)]).then(a.bind(a,190764)))),Ha=(0,n.lazy)((()=>Promise.all([a.e(9912),a.e(5176),a.e(6648)]).then(a.bind(a,266648)))),Ua=(0,n.lazy)((()=>Promise.all([a.e(6456),a.e(2744),a.e(3240),a.e(138),a.e(6180),a.e(6520)]).then(a.bind(a,214832)))),Va=(0,n.lazy)((()=>Promise.all([a.e(3568),a.e(6820),a.e(2744),a.e(3240),a.e(2028),a.e(6868),a.e(8404),a.e(2964)]).then(a.bind(a,607264)))),Fa=(0,n.lazy)((()=>Promise.all([a.e(6456),a.e(268),a.e(8720),a.e(4856),a.e(3928)]).then(a.bind(a,797128)))),Ga=(0,n.lazy)((()=>Promise.all([a.e(6456),a.e(6180)]).then(a.bind(a,607064)))),Ka=(0,n.lazy)((()=>a.e(9324).then(a.bind(a,289296)))),_a=(0,n.lazy)((()=>Promise.all([a.e(3568),a.e(5476),a.e(7231),a.e(6868),a.e(4960),a.e(7900)]).then(a.bind(a,499976)))),Ya=(0,n.lazy)((()=>Promise.all([a.e(5128),a.e(5176),a.e(6792)]).then(a.bind(a,625688)))),Xa=(0,i.Ak)((e=>{const{match:t,api:a,setbreadcrumbDocument:r,apiChatEnabled:o}=e,{apiUuid:s}=t.params,l="/apis/"+s+"/overview";let c;return c=a.type===Tt.c.API_TYPES.GRAPHQL?n.createElement(i.kX,{path:"/apis/:apiUuid/api-console",component:za}):a.type===Tt.c.API_TYPES.WS||a.type===Tt.c.API_TYPES.WEBSUB||a.type===Tt.c.API_TYPES.SSE||a.type===Tt.c.API_TYPES.ASYNC?n.createElement(i.kX,{path:"/apis/:apiUuid/api-console",component:Ha}):n.createElement(i.kX,{path:"/apis/:apiUuid/api-console",component:qa}),n.createElement(n.Suspense,{fallback:n.createElement(Bt.c,null)},n.createElement(i.Wk,null,n.createElement(i.YJ,{exact:!0,from:"/apis/:apiUuid",to:l}),n.createElement(i.kX,{path:"/apis/:apiUuid/overview",render:()=>n.createElement(Ua,e)}),n.createElement(i.kX,{path:"/apis/:apiUuid/documents",render:()=>n.createElement(Va,ja({},e,{setbreadcrumbDocument:r}))}),n.createElement(i.kX,{path:"/apis/:apiUuid/definition",component:_a}),n.createElement(i.kX,{path:"/apis/:apiUuid/solaceTopicsInfo",component:vt}),n.createElement(i.kX,{exact:!0,path:"/apis/:apiUuid/credentials/wizard",component:Ba}),n.createElement(i.kX,{path:"/apis/:apiUuid/comments",component:Ga}),n.createElement(i.kX,{path:"/apis/:apiUuid/credentials",component:Fa}),c,o&&n.createElement(i.kX,{path:"/apis/:apiUuid/api-chat",component:Ya}),n.createElement(i.kX,{path:"/apis/:apiUuid/sdk",component:Ka}),n.createElement(i.kX,{component:Dt.e0})))})),Ja="index",Qa={leftMenu:`${Ja}-leftMenu`,leftMenuHorizontal:`${Ja}-leftMenuHorizontal`,leftMenuVerticalLeft:`${Ja}-leftMenuVerticalLeft`,leftMenuVerticalLeftMinView:`${Ja}-leftMenuVerticalLeftMinView`,leftMenuVerticalRight:`${Ja}-leftMenuVerticalRight`,leftLInkMain:`${Ja}-leftLInkMain`,leftLInkMainText:`${Ja}-leftLInkMainText`,detailsContent:`${Ja}-detailsContent`,content:`${Ja}-content`,contentExpandView:`${Ja}-contentExpandView`,shiftLeft:`${Ja}-shiftLeft`,contentLoader:`${Ja}-contentLoader`,contentLoaderRightMenu:`${Ja}-contentLoaderRightMenu`,expandIconColor:`${Ja}-expandIconColor`},Za=(0,r.cp)("div")((e=>{let{theme:t}=e;const{custom:{leftMenu:{width:a,position:n}}}=t,i="vertical-left"===n?a:0,r="vertical-right"===n?a:0,o="vertical-left"===n?45:0,s="vertical-right"===n?45:0,l="horizontal"===n?t.spacing(3):0;return{width:"100%",[`& .${Qa.leftMenu}`]:{backgroundColor:t.custom.leftMenu.background,backgroundImage:`url(${wt.app.context}${t.custom.leftMenu.backgroundImage})`,textAlign:"left",fontFamily:t.typography.fontFamily,position:"absolute",bottom:0,paddingLeft:l},[`& .${Qa.leftMenuHorizontal}`]:{top:t.custom.infoBar.height,overflowX:"auto",height:60,display:"flex",left:0},[`& .${Qa.leftMenuVerticalLeft}`]:{width:t.custom.leftMenu.width,[t.breakpoints.down("md")]:{width:50},top:0,left:0,overflowY:"auto"},[`& .${Qa.leftMenuVerticalLeftMinView}`]:{width:45,top:0,left:0,overflowY:"auto"},[`& .${Qa.leftMenuVerticalRight}`]:{width:t.custom.leftMenu.width,top:0,right:0,overflowY:"auto"},[`& .${Qa.leftLInkMain}`]:{borderRight:"solid 1px "+t.custom.leftMenu.background,cursor:"pointer",background:t.custom.leftMenu.rootBackground,color:t.palette.getContrastText(t.custom.leftMenu.rootBackground),alignItems:"center",justifyContent:"center",display:"flex",height:t.custom.infoBar.height,textDecoration:"none"},[`& .${Qa.leftLInkMainText}`]:{fontSize:18,color:t.palette.grey[500],textDecoration:"none",paddingLeft:t.spacing(2)},[`& .${Qa.detailsContent}`]:{display:"flex",flex:1},[`& .${Qa.content}`]:{display:"flex",flex:1,flexGrow:1,flexDirection:"column",marginLeft:i,marginRight:r,[t.breakpoints.down("md")]:{marginLeft:0!==i&&50,marginRight:0!==r&&50},paddingBottom:t.spacing(3),overflowX:"hidden"},[`& .${Qa.contentExpandView}`]:{display:"flex",flex:1,flexGrow:1,flexDirection:"column",marginLeft:o,marginRight:s,paddingBottom:t.spacing(3),overflowX:"hidden",minHeight:"calc(100vh - 114px)"},[`& .${Qa.shiftLeft}`]:{marginLeft:0},[`& .${Qa.contentLoader}`]:{paddingTop:t.spacing(3)},[`& .${Qa.contentLoaderRightMenu}`]:{paddingRight:t.custom.leftMenu.width},[`& .${Qa.expandIconColor}`]:{color:"#ffffff"}}}));class en extends n.Component{constructor(e){super(e),this.updateSubscriptionData=e=>{let t=null,a=null;const n=new f.c;n.getAPIById(this.api_uuid).then((e=>{this.setState({api:e.body})})).catch((e=>{const{status:t,response:a}=e,{setTenantDomain:n,intl:i}=this.props,r=i.formatMessage({defaultMessage:"Invalid tenant domain",id:"Apis.Details.index.invalid.tenant.domain"});a&&901300===a.body.code&&(n("INVALID"),H.c.error(r)),console.error("Error when getting apis",e),404!==t&&403!==t||this.setState({notFound:!0})}));const i=Fe.c.getUser();if(null===i){const e=new Na.c;this.setState({open:e.isSideBarOpen})}if(null!=i){this.setState({open:i.isSideBarOpen}),t=n.getSubscriptions(this.api_uuid,null);const r=wt.app.subscribeApplicationLimit||5e3;t=n.getSubscriptions(this.api_uuid,null,r),a=n.getAllApplications(null,r),Promise.all([t,a]).then((t=>{const[a,n]=t.map((e=>e.obj)),i=a.list.map((e=>({value:e.applicationId,policy:e.throttlingPolicy,status:e.status,subscriptionId:e.subscriptionId,label:e.applicationInfo.name}))),r=i.map((e=>e.value)),o=n.list.filter((e=>!r.includes(e.applicationId)&&"APPROVED"===e.status)).map((e=>({value:e.applicationId,label:e.name})));this.setState({subscribedApplications:i,applicationsAvailable:o},(()=>{e&&e()}))})).catch((e=>{const{status:t}=e;404===t&&this.setState({notFound:!0})}))}},this.state={active:"overview",overviewHiden:!1,updateSubscriptionData:this.updateSubscriptionData,api:null,applications:null,subscribedApplications:[],applicationsAvailable:[],item:1,xo:null,breadcrumbDocument:"",tryOutExpanded:!0,apiChatEnabled:!1},this.setDetailsAPI=this.setDetailsAPI.bind(this),this.api_uuid=this.props.match.params.apiUuid,this.handleDrawerClose=this.handleDrawerClose.bind(this),this.handleDrawerOpen=this.handleDrawerOpen.bind(this),this.setbreadcrumbDocument=this.setbreadcrumbDocument.bind(this)}componentDidMount(){this.updateSubscriptionData(),(new f.c).getSettings().then((e=>{this.setState({apiChatEnabled:e.body.apiChatEnabled})})).catch((e=>{console.error("Error while receiving settings : ",e)}))}componentDidUpdate(e){const{match:{params:{apiUuid:t}}}=e,{match:{params:{apiUuid:a}}}=this.props;t!==a&&(this.api_uuid=a,this.updateSubscriptionData())}setbreadcrumbDocument(e){this.setState({breadcrumbDocument:e})}setDetailsAPI(e){this.setState({api:e})}handleDrawerClose(){this.setState({open:!1});const e=Fe.c.getUser();null!=e&&(e.isSideBarOpen=!1,Fe.c.setUser(e))}handleDrawerOpen(){this.setState({open:!0});const e=Fe.c.getUser();null!==e&&(e.isSideBarOpen=!0,Fe.c.setUser(e))}isAsyncAPI(e){return e&&(e.type===Tt.c.API_TYPES.WS||e.type===Tt.c.API_TYPES.WEBSUB||e.type===Tt.c.API_TYPES.SSE||e.type===Tt.c.API_TYPES.ASYNC)}render(){const{theme:e,intl:t}=this.props,a=Fe.c.getUser(),{api:i,notFound:r,open:o,breadcrumbDocument:s,tryOutExpanded:p,apiChatEnabled:d}=this.state,{custom:{leftMenu:{rootIconSize:u,rootIconTextVisible:h,rootIconVisible:f,position:b},apiDetailPages:{showCredentials:y,showComments:E,showTryout:v,showDocuments:w,showSdks:C,showAsyncSpecification:T,showSolaceTopics:S},title:{prefix:k,sufix:A}}}=e,$="body{ font-family: "+e.typography.fontFamily+"}",P="/apis/"+this.api_uuid+"/";if(!i&&r)return n.createElement(Dt.e0,null);const M=new URL(window.location).searchParams.get("widget"),D=this.isAsyncAPI(i);return i?n.createElement(Za,null,n.createElement(_.U.Provider,{value:this.state},n.createElement(xt.S,null,n.createElement("title",null,`${k} ${i.name}${A}`)),n.createElement("style",null,$),!M&&n.createElement("nav",{role:"navigation","aria-label":t.formatMessage({id:"Apis.Details.index.secondary.navigation",defaultMessage:"Secondary Navigation"}),className:m()(Qa.leftMenu,{[Qa.leftMenuHorizontal]:"horizontal"===b},{[Qa.leftMenuVerticalLeft]:"vertical-left"===b&&o,[Qa.leftMenuVerticalLeftMinView]:"vertical-left"===b&&!o},{[Qa.leftMenuVerticalRight]:"vertical-right"===b},"left-menu")},f&&n.createElement(x.cH,{to:"/apis",className:Qa.leftLInkMain,"aria-label":"ALL APIs"},n.createElement(g.c,{width:u,height:u,icon:"api"}),h&&n.createElement(l.c,{className:Qa.leftLInkMainText},n.createElement(c.c,{id:"Apis.Details.index.all.apis",defaultMessage:"ALL APIs"}))),n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.overview",defaultMessage:"Overview"}),route:"overview",iconText:"overview",to:P+"overview",open:o,id:"left-menu-overview"}),a&&y&&n.createElement(n.Fragment,null,n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.subscriptions",defaultMessage:"Subscriptions"}),route:"credentials",iconText:"credentials",to:P+"credentials",open:o,id:"left-menu-credentials"})),v&&("wso2"===i.gatewayVendor||"APIPRODUCT"===i.type&&!i.gatewayVendor)&&n.createElement(n.Fragment,null,n.createElement(St.c,{id:"left-menu-try-out",expanded:p,elevation:0,style:{backgroundColor:"transparent",margin:0},onChange:(e,t)=>this.setState({tryOutExpanded:t})},n.createElement(kt.c,{expandIcon:n.createElement($t.c,{className:Qa.expandIconColor}),style:{padding:"0 12px 0 5px",maxHeight:43,minHeight:43}},n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.try.out.",defaultMessage:"Try Out"}),iconText:"test",open:o,id:"left-menu-try-out"})),n.createElement(At.c,{style:{paddingTop:0,paddingBottom:0,margin:0}},n.createElement("div",null,n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.try.out.api.console",defaultMessage:"API Console"}),route:"api-console",iconText:"api-console",to:P+"api-console",open:o,id:"left-menu-test"}),i.type!==Tt.c.API_TYPES.GRAPHQL&&!D&&d&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.try.out.api.chat",defaultMessage:"API Chat"}),route:"api-chat",Icon:n.createElement(Pt.c,{style:{fontSize:"large",padding:8}}),to:P+"api-chat",open:o,id:"left-menu-api-chat"}))))),S&&"solace"===i.gatewayVendor&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.solaceTopicsInfo",defaultMessage:"Solace Info"}),route:"solaceTopicsInfo",iconText:"test",to:P+"solaceTopicsInfo",open:o,id:"left-menu-solace-info"}),D&&T&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.definition",defaultMessage:"Definition"}),route:"definition",iconText:"Definition",to:P+"definition",open:o,id:"left-menu-definition"}),E&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.comments",defaultMessage:"Comments"}),route:"comments",iconText:"comments",to:P+"comments",open:o,id:"left-menu-comments"}),w&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.documentation",defaultMessage:"Documents"}),route:"documents",iconText:"docs",to:P+"documents",open:o,id:"left-menu-documents"}),!D&&C&&n.createElement(Mt.c,{text:n.createElement(c.c,{id:"Apis.Details.index.sdk",defaultMessage:"SDKs"}),route:"sdk",iconText:"sdk",to:P+"sdk",open:o,id:"left-menu-sdk"}),o?n.createElement("div",{onClick:this.handleDrawerClose,onKeyDown:this.handleDrawerClose,style:{width:100,paddingLeft:"15px",position:"absolute",bottom:0,cursor:"pointer"}},n.createElement(et.c,{fontSize:"medium",style:{color:"white"}})):n.createElement("div",{onClick:this.handleDrawerOpen,onKeyDown:this.handleDrawerOpen,style:{paddingLeft:"15px",position:"absolute",bottom:0,cursor:"pointer"}},n.createElement(tt.c,{fontSize:"medium",style:{color:"white"}}))),n.createElement("div",{className:m()({[Qa.content]:o},{[Qa.contentExpandView]:!o})},n.createElement(Lt,{breadcrumbDocument:s}),n.createElement("div",{className:m()({[Qa.contentLoader]:"horizontal"===b},{[Qa.contentLoaderRightMenu]:"vertical-right"===b})},n.createElement(Xa,{api:i,updateSubscriptionData:this.updateSubscriptionData,setbreadcrumbDocument:this.setbreadcrumbDocument,apiChatEnabled:d}))))):n.createElement("div",{className:"apim-dual-ring"})}}en.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,match:s().shape({}).isRequired,intl:s().shape({formatMessage:s().func}).isRequired};const tn=(0,q.c)((0,D.cp)((function(e){const t=(0,b.c)();return n.createElement(en,ja({},e,{theme:t}))})));var an=a(33964),nn=a(947992),rn=a(431904),on=a(847440);function sn(e){const{toggleChatbot:t,handleDisableChatbot:a,chatbotDisabled:i}=e,[r,o]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement("div",{style:{position:"fixed",bottom:20,right:30},onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)}},i?null:n.createElement(ue.c,{title:"Open Chat",placement:"left"},n.createElement(nn.c,{color:"primary","aria-label":"chat",onClick:t,style:{boxShadow:"none"}},n.createElement(rn.c,null))),r&&n.createElement(ue.c,{title:"Disable chat",placement:"left"},n.createElement(nn.c,{color:"secondary",variant:"round","aria-label":"close",onClick:()=>{o(!1),a()},style:{position:"absolute",top:-18,right:-18,width:34,height:16,backgroundColor:"transparent",boxShadow:"none"}},n.createElement(on.default,{fontSize:"medium",style:{fill:"#000",stroke:"#000"}})))))}sn.propTypes={toggleChatbot:s().func.isRequired,handleDisableChatbot:s().func.isRequired,chatbotDisabled:s().bool.isRequired};const ln=sn;var cn=a(964408),pn=a(764364),dn=(a(899636),a(286572)),un=a(946350),mn=a(725444),gn=a(293184);function hn(e){const{onSend:t,loading:a}=e,[i,r]=(0,n.useState)(""),[o,s]=(0,n.useState)(!1),{settings:{marketplaceAssistantEnabled:c,aiAuthTokenProvided:d}}=(0,h.k1)(),u=()=>{i&&(t({role:"user",content:i}),r(""))};return n.createElement("div",null,n.createElement(it.c,{placeholder:"Type a message...",value:i,onChange:e=>{let{value:t}=e.target;t.length>500&&(t=t.slice(0,500)),r(t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),a||u()),13===e.keyCode&&e.shiftKey&&(e.preventDefault(),r(`${i}\n`))},fullWidth:!0,multiline:!0,size:"small",maxRows:12,disabled:c&&!d||!c,InputProps:{style:{borderRadius:10,padding:18,paddingRight:4},endAdornment:n.createElement(gn.c,{position:"end"},n.createElement(p.c,{"aria-label":"marketplace-chat-message",onClick:u,disabled:a},n.createElement(mn.c,{color:"primary"})))}}),n.createElement(ot.c,{display:"flex",justifyContent:"flex-end",mt:1,mr:1},n.createElement(l.c,{variant:"caption"},i.length,"/",500)),n.createElement(un.c,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:o,autoHideDuration:500,onClose:()=>{s(!1)},message:"Please enter a message",sx:{position:"absolute",bottom:0,right:0,transform:"translate(50%, 50%)",marginBottom:"300px"}}))}hn.propTypes={onSend:s().func.isRequired,loading:s().bool.isRequired};const fn=hn;var bn=a(759724);function yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function En(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vn(e){const{message:t,user:a}=e,i=(0,n.useRef)(null),r=(0,b.c)(),{colorMap:o,offset:s}=r.custom.thumbnail,c={width:"26px",height:"26px",backgroundColor:"assistant"===t.role?"#10597f":"#6d6d6d",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:(t.role,"50% 50% 50% 0")},p={textAlign:"left",justifyContent:"flex-start",background:"assistant"===t.role?r.palette.grey[100]:"#fff",color:"black",borderRadius:"8px",overflow:"auto",overflowX:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",marginLeft:"20px",maxWidth:"84%"};return n.createElement(ot.c,{display:"flex",flexDirection:"column",alignItems:"flex-start"},"assistant"===t.role&&n.createElement(ot.c,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},n.createElement(ot.c,{display:"flex",alignItems:"center",width:"100%"},n.createElement("div",{style:c},n.createElement(rn.c,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(l.c,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant"))),"user"===t.role&&n.createElement(ot.c,{display:"flex",alignItems:"center"},n.createElement("div",{style:c},n.createElement(bn.c,{style:{fill:"#fff",stroke:"#fff",fontSize:"large"}})),n.createElement(l.c,{variant:"body1",fontWeight:"500",fontSize:"12pt"},a.charAt(0).toUpperCase()+a.slice(1))),n.createElement(ot.c,{style:En(En({},p),{},{maxWidth:"84%"}),ref:i,px:2,py:"assistant"===t.role?2:0},n.createElement(l.c,null,t.content)),n.createElement(ot.c,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},t.apis&&n.createElement(ot.c,{display:"flex",flexDirection:"row",flexWrap:"wrap",marginLeft:"20px",marginRight:"16px",width:"100%"},t.apis.map((e=>{const[t,a]=((e,t,a)=>{let n=t[e.toLowerCase()];if(!n){const a=parseInt(e,10);if(!a)return[null,null];n=t[String.fromCharCode(111+a)]}const{r:i,g:r,b:o}=an.c.hexToRGBHash(n);return[n,an.c.rgbToHex(i-Math.ceil(i*a),r-Math.ceil(a*r),o-Math.ceil(a*o))]})(e.name.substring(0,1),o,s),i=t&&`linear-gradient(to right, ${t}, ${a})`;return n.createElement("a",{key:e.id,href:e.apiPath,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",width:"33%"}},n.createElement(Pe.c,{style:{margin:"10px 10px 0 0",width:"97%",height:"70px",background:i}},n.createElement(De.c,{style:{wordWrap:"break-word",alignItems:"center",cursor:"pointer"}},n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,color:"#fff",fontWeight:"bold"}},e.name),n.createElement(l.c,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",color:"#fff"}},"Version:",e.version))))})))))}vn.propTypes={message:o.PropTypes.shape({role:o.PropTypes.string.isRequired,content:o.PropTypes.string.isRequired,apis:o.PropTypes.arrayOf(o.PropTypes.string)}).isRequired,user:o.PropTypes.string.isRequired};const xn=vn,wn=()=>n.createElement("div",{className:"loader"});function Cn(e){const{messages:t,loading:a,onSend:i,user:r}=e,{settings:{aiAuthTokenProvided:o}}=(0,h.k1)(),s=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]);const p=n.createElement(c.c,{id:"Apis.Details.ApiChat.warning.authTokenMissing",defaultMessage:"You must provide a token to start using the API Marketplace Assistant. To obtain one, follow the steps provided under {marketplaceAssistantDocLink} ",values:{marketplaceAssistantDocLink:n.createElement("a",{id:"marketplace-assistant-doc-link",href:"https://apim.docs.wso2.com/en/4.3.0/consume/discover-apis/marketplace-assistant/",target:"_blank",rel:"noopener noreferrer"},"Search APIs with Marketplace Assistant",n.createElement(dn.c,{style:{marginLeft:"2px"},fontSize:"small"}))}});return n.createElement(ot.c,{maxHeight:"100%",display:"flex",flexDirection:"column",marginLeft:"5%"},n.createElement(ot.c,{display:"flex",justifyContent:"center",overflow:"auto"},n.createElement(ot.c,{maxWidth:"1320px",width:"100%"},o?t&&t.map((e=>n.createElement(ot.c,{my:1},n.createElement(xn,{message:e,user:r})))):n.createElement(ot.c,{display:"flex",justifyContent:"center",alignItems:"center",mr:"5%",mb:1},n.createElement(cn.c,{severity:"warning"},p)),a&&n.createElement(ot.c,{display:"flex",flexDirection:"column",alignItems:"flex-start"},n.createElement(ot.c,{display:"flex",alignItems:"center"},n.createElement("div",{style:{width:"26px",height:"26px",backgroundColor:"#10597f",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:"50% 50% 50% 0"}},n.createElement(rn.c,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(l.c,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant")),n.createElement(ot.c,{textAlign:"left",bgcolor:"#fff",borderRadius:"10px",justifyContent:"flex-start",px:3,marginLeft:"12px",marginBottom:"10px"},n.createElement(wn,null))),n.createElement("div",{ref:s}))),n.createElement(ot.c,{display:"flex",justifyContent:"center"},n.createElement(ot.c,{mt:1.5,mb:.5,width:"100%",maxWidth:"1380px",marginRight:"5%"},n.createElement(fn,{onSend:i,loading:a}))),n.createElement(ot.c,{mb:1},n.createElement(l.c,{color:"grey",variant:"body2",fontSize:"8pt",textAlign:"center",lineHeight:"1.4",marginRight:"5%"},"API Marketplace Assistant is an early feature and can make mistakes. Verify its outputs.")))}Cn.propTypes={messages:o.PropTypes.instanceOf(Array).isRequired,loading:o.PropTypes.bool.isRequired,onSend:o.PropTypes.func.isRequired,user:o.PropTypes.string.isRequired};const Tn=Cn;var Sn=a(560880),kn=a(213044),An=a(529456),$n=a(517856),Pn=a(367728);const Mn="marketplace-assistant-chatbot-header",Dn={mainHeader:`${Mn}-mainHeader`,chatbotNameBox:`${Mn}-chatbotNameBox`,chatbotName:`${Mn}-chatbotName`},In=(0,r.cp)("div")((e=>{let{theme:t}=e;return{[`& .${Dn.chatbotNameBox}`]:{padding:"2px 18px 1px 10px",margin:"12px 0 12px auto",borderBottom:"2px solid #10597f",borderLeft:"2px solid #10597f",borderRight:"2px solid #10597f",borderRadius:"38px"},[`& .${Dn.chatbotName}`]:{marginBottom:-5,fontSize:"12pt",fontWeight:"500",color:"#10597f"},[`& .${Dn.mainHeader}`]:{borderColor:(0,Pn.W4)(t.palette.common.black,.1)}}}));function Rn(e){const{toggleChatbot:t,toggleFullScreen:a,isClicked:i,handleReset:r}=e;return n.createElement(In,null,n.createElement(ot.c,{display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:1,className:Dn.mainHeader},n.createElement(ot.c,null,n.createElement(p.c,{onClick:a,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},i?n.createElement(kn.c,{fontSize:"large"}):n.createElement(Sn.c,{fontSize:"large"})),n.createElement(ue.c,{title:"Reset Chat",placement:"right"},n.createElement(p.c,{onClick:r,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 0"}},n.createElement($n.c,{fontSize:"large"})))),n.createElement(ot.c,{display:"flex",flexDirection:"column",className:Dn.chatbotNameBox},n.createElement(l.c,{variant:"body1",className:Dn.chatbotName},n.createElement(c.c,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.title",defaultMessage:"API Marketplace Assistant"})),n.createElement(l.c,{variant:"caption",sx:{textAlign:"right",marginRight:-1}},n.createElement(c.c,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.experimental",defaultMessage:"Experimental"}))),n.createElement(ot.c,null,n.createElement(p.c,{onClick:t,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},n.createElement(An.c,{fontSize:"large"})))))}Rn.propTypes={toggleChatbot:s().func.isRequired,toggleFullScreen:s().func.isRequired,isClicked:s().bool.isRequired,handleReset:s().func.isRequired};const On=Rn,Wn={hi:"Hello there!, How can I assist you today?",hiii:"Hello there!, How can I assist you today?",hello:"Hi! How can I assist you today?",hey:"Hey! How can I help you?",greetings:"Greetings! What can I assist you with?",thanks:"You're welcome!",bye:"Goodbye! Have a great day!",goodbye:"Goodbye! Have a great day!","thank you":"You're welcome!","thank you for your help":"You're welcome!","good morning":"Good morning! How can I assist you today?","good afternoon":"Good afternoon! What can I do for you?","good evening":"Good evening! How can I help?","hey there":"Hey! What can I assist you with?","hi there":"Hello! How may I assist you?","hello there":"Hello! How can I assist you today?","how are you":"I'm doing well, thank you! How can I help you?","can you help me":"You can ask me anything related to APIs!","what can I ask you":"You can ask me anything related to APIs!","what can you do":"I can help you with finding APIs and providing information related to APIs.","what do you do":"I can help you with finding APIs and providing information related to APIs.","what do you know":"I know a lot about APIs! What are you looking for?","what are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","who are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","what is your name":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs."},Ln=(e,t)=>{const a=e.toLowerCase(),n=t.toLowerCase();if(a.length<2||n.length<2)return 0;const i=new Map;for(let e=0;e<a.length-1;e++){const t=a.substr(e,2);i.set(t,i.has(t)?i.get(t)+1:1)}let r=0;for(let e=0;e<n.length-1;e++){const t=n.substr(e,2),a=i.has(t)?i.get(t):0;a>0&&(i.set(t,a-1),r++)}return 2*r/(a.length+n.length-2)};function Bn(e){const{toggleChatbot:t,toggleClearChatbot:a,messages:i,setMessages:r,introMessage:o,user:s,loading:l,responseRef:c,apiCall:p}=e,[d,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[E,v]=(0,n.useState)(null),{settings:{marketplaceAssistantEnabled:x,aiAuthTokenProvided:w}}=(0,h.k1)(),[,C]=(0,n.useState)({width:window.innerWidth,height:window.innerHeight}),T=()=>{c.current=[o],r([o])};return(0,n.useEffect)((()=>{c.current=i,x&&w&&(new f.c).getMarketplaceAssistantApiCount().then((e=>{const t=e.body.count,a=e.body.limit;y(t),v(a),t>=a-50&&g(!0)})).catch((e=>{console.error(e)}))}),[]),(0,n.useEffect)((()=>{const e=()=>{C({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),n.createElement(pn.ResizableBox,{width:d?window.innerWidth:500,height:window.innerHeight-64,minConstraints:[500,window.innerHeight],maxConstraints:[window.innerWidth,window.innerHeight-64],resizeHandles:["w"],style:{position:"fixed",bottom:1,right:0,display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse",zIndex:1200},handle:n.createElement("span",{style:{width:"4px",cursor:"ew-resize",minWidth:"4px"}})},n.createElement(dt.c,{maxWidth:!1,style:{padding:0,backgroundColor:"#fff",border:"0px solid #808e96",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",borderRadius:"4px",margin:"4px 4px 4px 0"}},n.createElement(ot.c,{display:"flex",flexDirection:"column",style:{height:"100%"}},n.createElement(On,{toggleChatbot:t,toggleFullScreen:e=>{e.preventDefault(),u(!d)},handleClear:()=>{r([o]),a()},handleReset:T,isClicked:d}),x&&w&&m&&(b>=E?n.createElement(cn.c,{severity:"error",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are reached your maximum limit (${E} apis) for API usage.`):n.createElement(cn.c,{severity:"warning",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are approaching your maximum limit for API usage. You can utilize up to ${E} APIs.\n                                    Currently, you have utilized ${b} APIs.`)),n.createElement(ot.c,{flexGrow:1,display:"flex",overflow:"auto",flexDirection:"column",justifyContent:"flex-end"},n.createElement(Tn,{messages:i,loading:l,onSend:async e=>{c.current=[...c.current,{role:"user",content:e.content.trim()}],r(c.current);const t=(e=>{let t=null,a=-1;const n=e.toLowerCase();if(n.length<2)return null;for(const[e]of Object.entries(Wn)){const i=e.toLowerCase(),r=Ln(n,i);r>a&&(a=r,t=e)}return a<.8?null:Wn[t]})(e.content.trim().toLowerCase());t?(c.current=[...c.current,{role:"assistant",content:t.trim()}],r(c.current)):p(e.content)},onReset:T,user:s})))))}Bn.propTypes={toggleChatbot:s().func.isRequired,toggleClearChatbot:s().func.isRequired,messages:s().instanceOf(Array).isRequired,setMessages:s().func.isRequired,introMessage:s().shape({role:s().string.isRequired,content:s().string.isRequired}).isRequired,user:s().string.isRequired,loading:s().bool.isRequired,responseRef:s().shape({current:s().arrayOf(s().shape({role:s().string.isRequired,content:s().string.isRequired})).isRequired}).isRequired,apiCall:s().func.isRequired};const Nn=Bn,jn=["apis"];const qn=function(){const{settings:{marketplaceAssistantEnabled:e,aiAuthTokenProvided:t}}=(0,h.k1)(),[a,i]=(0,n.useState)(!0),[r,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[c,p]=(0,n.useState)(!e),[d,u]=(0,n.useState)("You"),m=(0,n.useRef)([]),g={role:"assistant",content:"Hello! I'm here to assist you in discovering and obtaining information about APIs. How can I help you?"},b=window.location.pathname,{search:y,origin:E}=window.location,v=()=>{i(!a)};return(0,n.useEffect)((()=>{if(s){const e=JSON.stringify({messages:s,timestamp:Date.now()});localStorage.setItem("messages",e)}}),[s]),(0,n.useEffect)((()=>{try{const e=an.c.getUser();e&&u(e);const t=localStorage.getItem("messages");if(t){const{messages:e,timestamp:a}=JSON.parse(t);Date.now()-a>36e5?(l([g]),localStorage.setItem("messages",JSON.stringify({messages:[g],timestamp:Date.now()}))):l(e)}else l([g]),localStorage.setItem("messages",JSON.stringify({messages:[g],timestamp:Date.now()}))}catch(e){console.error("Error loading messages from localStorage:",e)}}),[]),n.createElement(ot.c,null,!c&&(a?n.createElement(ot.c,{position:"absolute",bottom:24,right:24},n.createElement(ln,{toggleChatbot:v,handleDisableChatbot:()=>{p(!0),l([g])},chatbotDisabled:c})):n.createElement(Nn,{toggleChatbot:v,messages:s,setMessages:l,introMessage:g,user:d,loading:r,responseRef:m,apiCall:a=>{if(o(!0),e&&t){const e=new f.c,t=s.slice(-10).map((e=>{let{apis:t}=e,a=function(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}(e,jn);if(!t)return a;const n=t.map((e=>({apiName:e.name,version:e.version})));return{role:a.role,content:JSON.stringify({response:a.content,apis:n})}}));e.marketplaceAssistantExecute(a,t).then((e=>{const{apis:t}=e.body,a=t.map((e=>({apiPath:`${E}${b}/${e.apiId}/overview${y}`,name:e.apiName,version:e.version})));return m.current=[...m.current,{role:"assistant",content:e.body.response,apis:a}],l(m.current),e.body})).catch((e=>{let t;try{switch(e.response.status){case 401:t="Apologies for the inconvenience. It appears that your token is invalid or expired. Please provide a valid token or upgrade your subscription plan.";break;case 429:t="Apologies for the inconvenience. It appears that the token limit has been exceeded.";break;default:t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}}catch(e){t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}const a={role:"assistant",content:t};throw m.current=[...m.current,a],l(m.current),e})).finally((()=>{o(!1)}))}}})))},zn=function(){return n.createElement(i.Wk,null,n.createElement(i.kX,{exact:!0,path:"/api-groups",render:e=>n.createElement(Ze.default,e)}),n.createElement(i.kX,{exact:!0,path:"/apis",render:e=>n.createElement(n.Fragment,null,n.createElement(Qe,e),n.createElement(qn,null))}),n.createElement(i.kX,{path:"/apis/search",render:e=>n.createElement(Qe,e)}),n.createElement(i.kX,{path:"/apis/:apiUuid/",render:e=>n.createElement(tn,e)}),n.createElement(i.kX,{component:Dt.e0}))}},667660:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(811504),i=a(906940),r=a(542592),o=a(162248),s=a(404292),l=a(273384),c=a(779288),p=a(602640);const d="TagCloudListing",u={appBar:`${d}-appBar`,mainIconWrapper:`${d}-mainIconWrapper`,mainTitle:`${d}-mainTitle`,mainTitleWrapper:`${d}-mainTitleWrapper`,content:`${d}-content`,listContentWrapper:`${d}-listContentWrapper`,iconDefault:`${d}-iconDefault`},m=(0,i.cp)("main")((e=>{let{theme:t}=e;return{[`& .${u.appBar}`]:{height:70,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${u.mainIconWrapper}`]:{paddingTop:13,paddingLeft:20,paddingRight:20},[`& .${u.mainTitle}`]:{paddingTop:10},[`& .${u.mainTitleWrapper}`]:{flexGrow:1},[`&.${u.content}`]:{flexGrow:1},[`& .${u.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${u.iconDefault}`]:{color:t.palette.getContrastText(t.custom.infoBar.background)}}}));function g(){const e=(0,r.c)(),[t,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(new l.c).getAllTags().then((e=>{a(e.body.list)})).catch((e=>{console.log(e)}))}),[]);const i=e.palette.getContrastText(e.palette.background.paper);return n.createElement(m,{className:u.content},n.createElement("div",{className:u.appBar},n.createElement("div",{className:u.mainIconWrapper},n.createElement(p.c,{strokeColor:i,width:42,height:42,icon:"api"})),n.createElement("div",{className:u.mainTitleWrapper},n.createElement(o.c,{variant:"h4",className:u.mainTitle},n.createElement(s.c,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListing.apigroups.main"})))),n.createElement("div",{className:u.listContentWrapper},t&&n.createElement(c.c,{allTags:t,mainPage:!0})))}},779288:(e,t,a)=>{"use strict";a.d(t,{c:()=>P});var n=a(811504),i=a(906940),r=a(542592),o=a(203268),s=a.n(o),l=a(570440),c=a(162248),p=a(135800),d=a(205420),u=a(672),m=a(773680),g=a(139760),h=a(226120),f=a(404292),b=a(482084),y=a.n(b),E=a(219811);const v="ApiTagThumb",x={thumbContent:`${v}-thumbContent`,thumbLeft:`${v}-thumbLeft`,thumbRight:`${v}-thumbRight`,thumbInfo:`${v}-thumbInfo`,thumbHeader:`${v}-thumbHeader`,contextBox:`${v}-contextBox`,thumbWrapper:`${v}-thumbWrapper`,deleteIcon:`${v}-deleteIcon`,textWrapper:`${v}-textWrapper`,image:`${v}-image`,imageWrapper:`${v}-imageWrapper`,imageOverlap:`${v}-imageOverlap`},w=(0,i.cp)("div")((e=>{let{theme:t}=e;return{[`& .${x.thumbContent}`]:{width:t.custom.tagWise.thumbnail.width-t.spacing(1),backgroundColor:t.palette.background.paper,padding:t.spacing(1)},[`& .${x.thumbLeft}`]:{alignSelf:"flex-start",flex:1},[`& .${x.thumbRight}`]:{alignSelf:"flex-end"},[`& .${x.thumbInfo}`]:{display:"flex"},[`& .${x.thumbHeader}`]:{width:t.custom.tagWise.thumbnail.width-t.spacing(1),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",justifyContent:"center",margin:0},[`& .${x.contextBox}`]:{width:parseInt(150-t.spacing(.5)),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em"},[`&.${x.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:t.spacing(2)},[`& .${x.deleteIcon}`]:{fill:"red"},[`& .${x.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${x.image}`]:{width:t.custom.tagWise.thumbnail.width},[`& .${x.imageWrapper}`]:{color:t.palette.text.secondary,backgroundColor:t.palette.background.paper,width:t.custom.tagWise.thumbnail.width+t.spacing(1),display:"flex",alignItems:"center",justifyContent:"center"},[`& .${x.imageOverlap}`]:{position:"absolute",bottom:1,backgroundColor:t.custom.thumbnail.contentBackgroundColor}}}));function C(e){const{tag:t,path:a,style:i,mainPage:o}=e,s=(0,r.c)(),p=a+":"+t.value,{tagWise:{thumbnail:{image:d}}}=s.custom,f=t.value.split(s.custom.tagWise.key)[0];return"fixed-left"!==i&&o?n.createElement(w,{className:x.thumbWrapper},n.createElement(l.cH,{to:p,className:x.imageWrapper},n.createElement("img",{src:E.app.context+d,className:x.image,alt:""})),n.createElement("center",null,n.createElement("div",{className:y()(x.thumbContent)},n.createElement(l.cH,{to:p,className:x.textWrapper},n.createElement(c.c,{className:x.thumbHeader,variant:"h4",gutterBottom:!0,title:f},f))))):n.createElement(l.cH,{to:p,className:x.textWrapper},n.createElement(u.cp,{button:!0},n.createElement(m.c,null,n.createElement(h.c,null,"label")),n.createElement(g.c,{primary:f})))}C.propTypes={classes:s().shape({thumbWrapper:s().shape({}).isRequired,imageWrapper:s().shape({}).isRequired,thumbContent:s().shape({}).isRequired,imageOverlap:s().shape({}).isRequired,textWrapper:s().shape({}).isRequired,thumbHeader:s().shape({}).isRequired,image:s().shape({}).isRequired}).isRequired,theme:s().shape({custom:s().shape({tagWise:s().shape({}).isRequired}).isRequired}).isRequired,tag:s().shape({value:s().shape({split:s().func}).isRequired}).isRequired,path:s().shape({}).isRequired,style:s().string.isRequired};const T=C,S="TagCloudListingTags",k={mainTitle:`${S}-mainTitle`,mainTitleWrapper:`${S}-mainTitleWrapper`,listContentWrapper:`${S}-listContentWrapper`,textWrapper:`${S}-textWrapper`,linkTextWrapper:`${S}-linkTextWrapper`,tagWiseThumbWrapper:`${S}-tagWiseThumbWrapper`,filterTitle:`${S}-filterTitle`,mainPageList:`${S}-mainPageList`,mainPageAllApis:`${S}-mainPageAllApis`},A=(0,i.cp)("div")((e=>{let{theme:t}=e;return{[`& .${k.mainTitle}`]:{paddingTop:10},[`& .${k.mainTitleWrapper}`]:{flexGrow:1},[`& .${k.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${k.textWrapper}`]:{color:t.custom.tagCloud.leftMenu.color,"& .material-icons":{color:t.custom.tagCloud.leftMenu.color}},[`& .${k.linkTextWrapper}`]:{color:t.palette.primary.main},[`& .${k.tagWiseThumbWrapper}`]:{display:"flex"},[`& .${k.filterTitle}`]:{fontWeight:200,paddingLeft:t.spacing(2),background:t.custom.tagCloud.leftMenu.titleBackground,color:t.palette.getContrastText(t.custom.tagCloud.leftMenu.titleBackground),height:t.custom.infoBar.height,alignItems:"center",display:"flex"},[`& .${k.mainPageList}`]:{display:"flex",flexWrap:"wrap"},[`& .${k.mainPageAllApis}`]:{width:"100%"}}}));function $(e){const t=(0,r.c)(),{custom:{tagWise:{key:a,active:i,style:o,showAllApis:s}}}=t,{allTags:b,mainPage:E}=e;let v=null;return 0!==b.count&&(null!==b&&(v=b.filter((e=>!0===i&&e.value.split(a).length>1))),v&&v.length),v&&v.length>0?n.createElement(A,null,!E&&n.createElement(c.c,{variant:"h6",gutterBottom:!0,className:y()(k.filterTitle,"api-listing-tags-title")},n.createElement(f.c,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListingTags.title"})),n.createElement(p.c,{component:"nav","aria-label":"main mailbox folders",className:y()({[k.mainPageList]:E})},Object.keys(v).map((e=>n.createElement(T,{key:e,tag:v[e],path:"/apis?offset=0&query=tag",style:o,mainPage:E})))),s&&n.createElement("div",{className:y()({[k.mainPageAllApis]:E},"tag-cloud-listing-wrapper")},n.createElement(d.c,null),n.createElement(l.cH,{to:"apis/",className:k.textWrapper},n.createElement(u.cp,{button:!0},n.createElement(m.c,null,n.createElement(h.c,null,"label")),n.createElement(g.c,{primary:n.createElement(f.c,{defaultMessage:"All Apis",id:"Apis.Listing.TagCloudListingTags.allApis"})}))))):n.createElement(A,null,!E&&n.createElement(c.c,{variant:"h6",gutterBottom:!0,className:y()(k.filterTitle,"apis-listing-tags-group")},n.createElement(f.c,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListingTags.title"})),n.createElement("div",{className:y()(k.mainTitle,"apis-listing-tags-empty")},n.createElement(c.c,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(f.c,{defaultMessage:"API groups cannot be found",id:"Apis.Listing.TagCloudListingTags.tagsNotFound"})),n.createElement(l.cH,{to:"apis/",className:y()(k.linkTextWrapper,"apis-listing-tags-group-all-apis-link")},n.createElement(c.c,{variant:"subtitle1",gutterBottom:!0,align:"center"},n.createElement(f.c,{defaultMessage:"All Apis",id:"Apis.Listing.TagCloudListingTags.allApis"})))))}$.propTypes={classes:s().shape({}).isRequired,theme:s().shape({}).isRequired,allTags:s().shape({}).isRequired};const P=$},624492:(e,t,a)=>{"use strict";a.d(t,{c:()=>k});var n=a(811504),i=a(906940),r=a(340056),o=a(377384),s=a(715656),l=a(139760),c=a(981392),p=a(162248),d=a(622037),u=a(631408),m=a(203268),g=a.n(m),h=a(470184),f=a(404292),b=a(482084),y=a.n(b);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E.apply(this,arguments)}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){var n,i,r,o;n=e,i=t,r=a[t],(i="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i))?o:String(o))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const w="SubscribeToApi",C={titleBar:`${w}-titleBar`,buttonLeft:`${w}-buttonLeft`,buttonRight:`${w}-buttonRight`,title:`${w}-title`,buttonsWrapper:`${w}-buttonsWrapper`,legend:`${w}-legend`,inputText:`${w}-inputText`,buttonRightLink:`${w}-buttonRightLink`,FormControl:`${w}-FormControl`,fullWidth:`${w}-fullWidth`,FormControlOdd:`${w}-FormControlOdd`,quotaHelp:`${w}-quotaHelp`,subscribeRoot:`${w}-subscribeRoot`,subscribeRootSmall:`${w}-subscribeRootSmall`,smallDisplay:`${w}-smallDisplay`,smallDisplayFix:`${w}-smallDisplayFix`,selectMenuRoot:`${w}-selectMenuRoot`,appDropDown:`${w}-appDropDown`},T=(0,i.cp)(s.cp)((e=>{let{theme:t}=e;return{[`& .${C.titleBar}`]:{display:"flex",justifyContent:"space-between",borderBottomWidth:"1px",borderBottomStyle:"solid",borderColor:t.palette.text.secondary,marginBottom:20},[`& .${C.buttonLeft}`]:{alignSelf:"flex-start",display:"flex"},[`& .${C.buttonRight}`]:{alignSelf:"flex-end",display:"flex",marginLeft:20},[`& .${C.title}`]:{display:"inline-block",marginLeft:20},[`& .${C.buttonsWrapper}`]:{marginTop:40},[`& .${C.legend}`]:{marginBottom:0,borderBottomStyle:"none",marginTop:20,fontSize:12},[`& .${C.inputText}`]:{marginTop:20},[`& .${C.buttonRightLink}`]:{textDecoration:"none"},[`& .${C.FormControl}`]:{padding:t.spacing(2),width:"100%"},[`& .${C.fullWidth}`]:{"& .MuiFormControl-root":{width:"100%"}},[`& .${C.FormControlOdd}`]:{backgroundColor:t.palette.background.paper},[`& .${C.quotaHelp}`]:{position:"relative"},[`&.${C.subscribeRoot}`]:{paddingLeft:t.spacing(2)},[`&.${C.subscribeRootSmall}`]:{marginLeft:t.spacing(-4)},[`& .${C.smallDisplay}`]:{width:240,"& .MuiInput-formControl":{marginTop:0}},[`& .${C.smallDisplayFix}`]:{"& .MuiSelect-selectMenu":{padding:0}},[`& .${C.selectMenuRoot}`]:{margin:0,padding:0},[`& .${C.appDropDown}`]:{color:t.palette.getContrastText(t.palette.background.paper),"&:hover":{backgroundColor:"unset"}}}})),S=e=>{const[t,a]=(0,n.useState)(""),[i,m]=(0,n.useState)({tierName:""}),[g,b]=(0,n.useState)([]),{throttlingPolicyList:v,applicationsAvailable:w,subscriptionRequest:S,updateSubscriptionRequest:k,renderSmall:A}=e;(0,n.useEffect)((()=>{v&&v[0]&&m(v[0])}),[v]),(0,n.useEffect)((()=>{w&&w[0]&&(b(w),a(w[0]),x({},S).applicationId=w[0].value)}),[w]);const $=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=x({},S),{target:r}=t;switch(e){case"application":i.applicationId=n.value,a(n);break;case"throttlingPolicy":i.throttlingPolicy=n.tierName,m(n)}k(i)};return n.createElement(T,{container:!0,className:y()(C.subscribeRoot,{[C.subscribeRootSmall]:A})},n.createElement(s.cp,{item:!0,xs:12,md:A?12:6},t&&n.createElement(o.c,{variant:"standard",className:y()(C.FormControl,{[C.smallDisplay]:A})},n.createElement(c.c,{shrink:!0,for:"application-subscribe",className:C.quotaHelp},n.createElement(f.c,{id:"Shared.AppsAndKeys.SubscribeToApi.application",defaultMessage:"Application"})),n.createElement(u.c,{id:"application-subscribe","aria-describedby":"application-helper-text",options:g,disableClearable:!0,value:0!==g.length&&""===t?g[0]:t,onChange:(e,t)=>$("application",e,t),getOptionLabel:e=>e.label,classes:{root:C.fullWidth},renderInput:e=>n.createElement(d.c,E({variant:"standard"},e))}),n.createElement(h.c,{id:"application-helper-text"},n.createElement(f.c,{id:"Shared.AppsAndKeys.SubscribeToApi.select.an.application.to.subscribe",defaultMessage:"Select an Application to subscribe"}))),v&&n.createElement(o.c,{variant:"standard",className:y()(C.FormControl,C.smallDisplayFix,{[C.smallDisplay]:A,[C.FormControlOdd]:!A})},n.createElement(c.c,{shrink:!0,htmlFor:"policy-label-placeholder",className:C.quotaHelp},n.createElement(f.c,{id:"Shared.AppsAndKeys.SubscribeToApi.business.plan",defaultMessage:"Business Plan"})),n.createElement(u.c,{id:"application-policy","aria-describedby":"policies-helper-text",options:v,disableClearable:!0,value:i,getOptionLabel:e=>e.tierName,getOptionSelected:(e,t)=>e.tierName===t.tierName,onChange:(e,t)=>$("throttlingPolicy",e,t),classes:{root:C.fullWidth},renderInput:e=>n.createElement(d.c,E({variant:"standard"},e)),groupBy:e=>"COMMERCIAL"===e.tierPlan?"Commercial":"Free",renderOption:(e,t)=>n.createElement(r.c,E({},e,{value:t.tierName,key:t.tierName,className:C.appDropDown}),"COMMERCIAL"===t.tierPlan?n.createElement(n.Fragment,null,n.createElement(l.c,{classes:{root:C.selectMenuRoot},primary:t.tierName,secondary:t.monetizationAttributes.pricePerRequest?n.createElement(p.c,null,t.monetizationAttributes.pricePerRequest," ",t.monetizationAttributes.currencyType," per Request"):n.createElement(p.c,null,t.monetizationAttributes.fixedPrice," ",t.monetizationAttributes.currencyType," per ",t.monetizationAttributes.billingCycle)})):n.createElement(l.c,{primary:t.tierName}))}))))};S.propTypes={classes:g().shape({FormControl:g().string,quotaHelp:g().string,selectEmpty:g().string,FormControlOdd:g().string,subscribeRoot:g().string,subscribeRootSmall:g().string,smallDisplayFix:g().string,selectMenuRoot:g().string,smallDisplay:g().string}).isRequired,applicationsAvailable:g().arrayOf(g().shape({value:g().string,label:g().string})).isRequired,throttlingPolicyList:g().arrayOf(g().shape({})).isRequired,subscriptionRequest:g().shape({}).isRequired,updateSubscriptionRequest:g().func.isRequired,renderSmall:g().bool},S.defaultProps={renderSmall:!1};const k=S},687372:(e,t,a)=>{"use strict";a.d(t,{c:()=>o});var n=a(811504),i=a(209176);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}const o=e=>function(t){return n.createElement(i.i5,null,(a=>n.createElement(e,r({},a,t))))}},910604:()=>{}}]);
//# sourceMappingURL=Apis.e85995e8a08620a26830.bundle.js.map