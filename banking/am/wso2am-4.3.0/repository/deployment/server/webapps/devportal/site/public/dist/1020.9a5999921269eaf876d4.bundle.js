"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[1020],{47568:(e,t,a)=>{a.d(t,{U:()=>i});const i=a(811504).createContext({active:"overview",handleMenuSelect:()=>{},api:null,applications:null,subscribedApplications:[],applicationsAvailable:[],updateSubscriptionData:()=>{}})},123324:(e,t,a)=>{a.d(t,{c:()=>d});var i=a(811504),n=a(906940),r=a(95900),o=a(226120),l=a(162248),s=a(404292),c=a(542592);const m="StarRatingSummary",p={starRate:`${m}-starRate`,userRating:`${m}-userRating`},u=(0,n.cp)("div")((e=>{let{theme:t}=e;return{[`& .${p.starRate}`]:{marginRight:t.spacing(),color:t.custom.infoBar.starColor||t.palette.getContrastText(t.custom.infoBar.background),"&.material-icons":{fontSize:30}},[`& .${p.userRating}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center"}}})),d=function(e){const{avgRating:t,reviewCount:a,returnCount:n}=e,m=(0,c.c)();return i.createElement(u,null,n>0?i.createElement(i.Fragment,null,i.createElement(o.c,{className:p.starRate},"star"),i.createElement("div",{className:p.ratingSummary},i.createElement("div",{"aria-label":"User rating",className:p.userRating},i.createElement(l.c,{variant:"body1"},t),i.createElement(l.c,{"aria-label":"out of five",variant:"body1"},"/5.0")),i.createElement(l.c,{"aria-label":"Number of users who has rated",variant:"body1",gutterBottom:!0,align:"left"},a," ",1===a?i.createElement(s.c,{defaultMessage:"user",id:"Apis.Details.StarRatingSummary.user"}):i.createElement(s.c,{defaultMessage:"users",id:"Apis.Details.StarRatingSummary.users"})))):i.createElement(i.Fragment,null,i.createElement(r.c,{className:p.starRate,style:{color:m.palette.grey.A200}}),i.createElement("div",{className:p.ratingSummary},i.createElement(l.c,{variant:"caption",gutterBottom:!0,align:"left"},i.createElement(s.c,{defaultMessage:"Not Rated",id:"Apis.Details.StarRatingSummary.not.rated"})))))}},642496:(e,t,a)=>{a.d(t,{c:()=>w});var i=a(811504),n=a(906940),r=a(203268),o=a.n(r),l=a(226120),s=a(235154),c=a.n(s),m=a(542592);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},p.apply(this,arguments)}const u="Background-svgImage",d=(0,n.cp)("svg")({[`&.${u}`]:{cursor:"pointer",objectFit:"cover"}});function g(e){return("0x"+e.substring(7,9))/256}function h(e){return e.substring(0,7)}function b(e){const{colorPair:t,width:a,height:n}=e,r={width:50,height:50},o=[];for(let e=0;e<=4;e++)for(let a=0;a<=4;a++){const n="#"+(t.sub-(37*e-21*a)).toString(16);o.push(i.createElement("rect",p({key:e+"_"+a},r,{fill:h(n),fillOpacity:g(n),x:200-54*e,y:54*a})))}const l="#"+t.prime.toString(16);return i.createElement(d,{width:a,height:n,className:u,"aria-hidden":"true"},i.createElement("rect",p({},{width:250,height:200},{fill:h(l),fillOpacity:g(l)})),o)}b.propTypes={classes:o().shape({svgImage:o().string}).isRequired,width:o().number.isRequired,height:o().number.isRequired,colorPair:o().shape({sub:o().number,prime:o().number}).isRequired};const f=b,E="ImageGeneratorLegacy",v={icon:`${E}-icon`,iconWrapper:`${E}-iconWrapper`},y=(0,n.cp)("div")({[`& .${v.icon}`]:{},[`&.${v.iconWrapper}`]:{position:"relative",display:"flex",justifyContent:"center","& span":{position:"absolute",right:"auto"}}});class x extends i.PureComponent{render(){const{api:e,width:t,height:a,theme:n,fixedIcon:r}=this.props,{category:o,key:s,color:m,backgroundIndex:p}=r;let u,d,g,h,b=e;"object"==typeof e&&(b=e.name);const E=n.custom.thumbnail.backgrounds;if(s&&o)h=s;else if("DOC"===e.type)h=n.custom.thumbnail.document.icon;else{u=c().categories[10].icons.length;const e=(b.charCodeAt(0)+b.charCodeAt(b.length-1))%u;h=c().categories[10].icons[e].id}return"DOC"===e.type?d=n.custom.thumbnail.document.backgrounds:p&&E.length>p?d=E[p]:(g=(b.charCodeAt(0)+b.charCodeAt(b.length-1))%E.length,d=E[g]),i.createElement(y,{className:v.iconWrapper,style:{width:t}},i.createElement(l.c,{className:v.icon,style:{fontSize:a+"px",color:m}},h),i.createElement(f,{width:t,height:a,colorPair:d}))}}x.defaultProps={height:190,width:250,fixedIcon:{category:null,key:null,color:"",backgroundIndex:null}},x.propTypes={classes:o().shape({}).isRequired,height:o().number,width:o().number,fixedIcon:o().shape({}),api:o().shape({}).isRequired,theme:o().shape({}).isRequired};const w=function(e){const{width:t,height:a,api:n,fixedIcon:r}=e,o=(0,m.c)();return i.createElement(x,{width:t,height:a,api:n,fixedIcon:r,theme:o})}},721020:(e,t,a)=>{a.d(t,{c:()=>Y});var i=a(811504),n=a(542592),r=a(906940),o=a(162248),l=a(677516),s=a(316672),c=a(614477),m=a(385388),p=a(570440),u=a(203268),d=a.n(u),g=a(404292),h=a(235154),b=a.n(h),f=a(591800),E=a(219811),v=a(482084),y=a.n(v),x=a(991568),w=a(235296),R=a(982608),$=a(158080),A=a(205420),S=a(542112),I=a(642496),O=a(273384),T=a(47568),N=a(96032),C=a(366048),L=a(33964);const B=e=>{const{artifact:t,width:a,height:r,charLength:o=2,ThumbIcon:l,bgColor:s}=e,c=(0,n.c)(),m=t.name.substring(0,o),{colorMap:p,offset:u,width:d,textShadow:g}=c.custom.thumbnail;return i.createElement(x.c,{sx:{display:"flex"}},i.createElement(N.c,{variant:"square",sx:()=>{const[e,t]=((e,t,a)=>{let i=t[e.toLowerCase()];if(!i){const a=parseInt(e,10);if(!a)return[null,null];i=t[String.fromCharCode(111+a)]}const{r:n,g:r,b:o}=L.c.hexToRGBHash(i);return[i,L.c.rgbToHex(n-Math.ceil(n*a),r-Math.ceil(a*r),o-Math.ceil(a*o))]})(!1===s?"":m.substring(0,1),p,u),i=Math.ceil(70*a/d),n=e&&`linear-gradient(to right, ${e}, ${t})`;return{color:e&&c.palette.getContrastText(t),background:n,fallbacks:[{background:e},{background:`-webkit-linear-gradient(to right, ${e}, ${t})`}],height:r,width:a,fontSize:`${i}px`,textShadow:g}}},l?i.createElement(l,{sx:()=>({fontSize:Math.ceil(90*a/d)})}):(0,C.k0)(m)))};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},P.apply(this,arguments)}function k(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const W="ApiThumbClassicLegacy",M={card:`${W}-card`,apiDetails:`${W}-apiDetails`,suppressLinkStyles:`${W}-suppressLinkStyles`,row:`${W}-row`,thumbBy:`${W}-thumbBy`,media:`${W}-media`,thumbContent:`${W}-thumbContent`,thumbLeft:`${W}-thumbLeft`,thumbLeftAction:`${W}-thumbLeftAction`,thumbRight:`${W}-thumbRight`,thumbInfo:`${W}-thumbInfo`,thumbHeader:`${W}-thumbHeader`,contextBox:`${W}-contextBox`,context:`${W}-context`,thumbWrapper:`${W}-thumbWrapper`,deleteIcon:`${W}-deleteIcon`,textWrapper:`${W}-textWrapper`,imageWrapper:`${W}-imageWrapper`,imageOverlap:`${W}-imageOverlap`,chipWrapper:`${W}-chipWrapper`,chipWrapper2:`${W}-chipWrapper2`,chipWrapper3:`${W}-chipWrapper3`,ratingWrapper:`${W}-ratingWrapper`,textblock:`${W}-textblock`,actionArea:`${W}-actionArea`,ribbon:`${W}-ribbon`,truncate:`${W}-truncate`,businessDetail:`${W}-businessDetail`,popover:`${W}-popover`,paper:`${W}-paper`,typo:`${W}-typo`},D=(0,r.cp)(l.c)((e=>{let{theme:t}=e;return{[`&.${M.card}`]:{margin:t.spacing(1.5),maxWidth:t.custom.thumbnail.width,transition:"box-shadow 0.3s ease-in-out",position:"relative"},[`& .${M.apiDetails}`]:{background:t.custom.thumbnail.contentBackgroundColor,padding:t.spacing(1),color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor),"& a":{color:t.palette.getContrastText(t.custom.thumbnail.contentBackgroundColor)},position:t.custom.thumbnail.contentPictureOverlap?"absolute":"relative",top:0},[`& .${M.suppressLinkStyles}`]:{textDecoration:"none",color:t.palette.text.disabled},[`& .${M.row}`]:{display:"inline-block"},[`& .${M.thumbBy}`]:{"padding-left":"5px"},[`& .${M.media}`]:{objectFit:"cover"},[`& .${M.thumbContent}`]:{width:t.custom.thumbnail.width-t.spacing(2)},[`& .${M.thumbLeft}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},[`& .${M.thumbLeftAction}`]:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"10px"},[`& .${M.thumbRight}`]:{display:"flex",alignItems:"flex-start",flexDirection:"column"},[`& .${M.thumbInfo}`]:{display:"flex"},[`& .${M.thumbHeader}`]:{width:t.custom.thumbnail.width-t.spacing(1),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${M.contextBox}`]:{width:`calc((${parseInt(t.custom.thumbnail.width,10)}px - ${t.spacing(1)}) / 2)`,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},[`& .${M.context}`]:{marginTop:5},[`& .${M.thumbWrapper}`]:{position:"relative",paddingTop:20,marginRight:t.spacing(2)},[`& .${M.deleteIcon}`]:{fill:"red"},[`& .${M.textWrapper}`]:{color:t.palette.text.secondary,textDecoration:"none"},[`& .${M.imageWrapper}`]:{color:t.custom.thumbnail.iconColor,width:t.custom.thumbnail.width,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${M.imageOverlap}`]:{position:"absolute",bottom:1},[`& .${M.chipWrapper}`]:{marginTop:"15px"},[`& .${M.chipWrapper2}`]:{marginBottom:"10px"},[`& .${M.chipWrapper3}`]:{marginTop:"12px"},[`& .${M.ratingWrapper}`]:{marginTop:"20px"},[`& .${M.textblock}`]:{color:t.palette.text.secondary,position:"absolute",bottom:"35px",right:"10px",background:t.custom.thumbnail.contentBackgroundColor,"padding-left":"10px","padding-right":"10px"},[`& .${M.actionArea}`]:{display:"block !important","&:focus":{border:"1px solid"+t.palette.primary.main}},[`& .${M.ribbon}`]:{fontFamily:t.typography.fontFamily,fontSize:"12px",fontWeight:800,backgroundColor:t.palette.primary.main,color:"white",position:"absolute",padding:"5px",width:"80px",zIndex:3,textAlign:"center",textTransform:"uppercase"},[`& .${M.truncate}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"175px"},[`& .${M.businessDetail}`]:{display:"flex"},[`& .${M.popover}`]:{pointerEvents:"none"},[`& .${M.paper}`]:{padding:t.spacing(1),maxWidth:"300px"},[`& .${M.typo}`]:{display:"flex"}}})),z=window.URL||window.webkitURL;class U extends i.Component{constructor(e){super(e),k(this,"handleBusinessPopoverOpen",(e=>{this.setState({businessAnchorEl:e.currentTarget,buniessOpenPopover:!0})})),k(this,"handleBusinessPopoverClose",(()=>{this.setState({businessAnchorEl:null,buniessOpenPopover:!1})})),k(this,"handleTechnicalPopoverOpen",(e=>{this.setState({technicalAnchorEl:e.currentTarget,technicalOpenPopover:!0})})),k(this,"handleTechnicalPopoverClose",(()=>{this.setState({technicalAnchorEl:null,technicalOpenPopover:!1})}));const{theme:{custom:{thumbnail:{defaultApiImage:t}}}}=e;this.state={category:b().categories[0].name,selectedIcon:null,color:null,backgroundIndex:null,imageObj:null,imageLoaded:!!t,businessAnchorEl:null,buniessOpenPopover:!1,technicalAnchorEl:null,technicalOpenPopover:!1}}componentDidMount(){const{imageLoaded:e}=this.state;if(e)return;const{api:t}=this.props;(new O.c).getAPIThumbnail(t.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);this.setState({selectedIcon:t.key,category:t.category,color:t.color,backgroundIndex:t.backgroundIndex})}else if(e&&e.data.size>0){const t=z.createObjectURL(e.data);this.setState({imageObj:t})}})).finally((()=>{this.setState({imageLoaded:!0})}))}componentWillUnmount(){this.state.thumbnail&&z.revokeObjectURL(this.state.imageObj)}getPathPrefix(){return"/apis/"}render(){const{imageObj:e,selectedIcon:t,color:a,backgroundIndex:n,category:r,imageLoaded:l}=this.state,u=this.getPathPrefix(),{isMonetizationEnabled:d}=this.context,h=u+this.props.api.id,{api:b,theme:v,customWidth:O,customHeight:T,showInfo:N}=this.props,{custom:{thumbnail:C,social:{showRating:L},thumbnailTemplates:{variant:P,active:k}}}=v,{name:W,version:z,context:U}=b;let{provider:F}=b;b.businessInformation&&b.businessInformation.businessOwner&&""!==b.businessInformation.businessOwner.trim()&&(F=b.businessInformation.businessOwner),b.lifeCycleStatus||(b.lifeCycleStatus=b.status);const j=O||C.width,H=T||140,q=C.defaultApiImage,{tileDisplayInfo:G}=E.apis;let Q;return Q=l?e?i.createElement("img",{height:H,width:j,src:e,alt:"API Thumbnail",className:M.media}):"text"===P&&k?i.createElement(B,{width:j,height:H,artifact:b}):i.createElement(I.c,{width:j,height:H,api:b,fixedIcon:{key:t,color:a||C.iconColor,backgroundIndex:n,category:r,api:b}}):i.createElement("div",{className:"image-load-frame"},i.createElement("div",{className:"image-load-animation1"}),i.createElement("div",{className:"image-load-animation2"})),N?i.createElement(D,{className:y()("image-thumbnail",M.card)},i.createElement(S.c,null,b.advertiseInfo&&b.advertiseInfo.advertised&&i.createElement("div",{className:M.ribbon,"data-testid":"third-party-api-card-label"},"third party"),d&&i.createElement("div",{className:y()(M.textblock,"image-thumb-text-block")},b.monetizationLabel),i.createElement(p.cH,{className:y()(M.actionArea,"image-thumb-action-area"),to:h,"area-label":"Go to "+W},i.createElement("div",{style:{position:"relative"}},i.createElement(s.c,{"area-hidden":"true",classes:{root:"image-thumb-card-root"}},!q&&Q,q&&i.createElement("img",{src:E.app.context+q,alt:"img"})),G.showMonetizedState&&b.monetizedInfo&&i.createElement("div",{className:M.thumbLeft,style:{position:"absolute",bottom:0}},i.createElement(R.c,{fontSize:"medium",style:{color:"#FFD700",paddingLeft:"2px"}}))),i.createElement(c.c,{classes:{root:y()(M.apiDetails,"image-thumb-card-content")}},i.createElement(o.c,{className:y()(M.thumbHeader,"image-thumb-card-thumb-header"),variant:"h5",component:"h2",gutterBottom:!0,onClick:this.handleRedirectToAPIOverview,title:W},W),i.createElement("div",{className:y()(M.row,"image-thumb-provider-wrapper")},i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",className:y()(M.thumbBy,"image-thumb-provider")},i.createElement(g.c,{defaultMessage:"By",id:"Apis.Listing.ApiThumb.by"}),i.createElement(g.c,{defaultMessage:" : ",id:"Apis.Listing.ApiThumb.by.colon"}),F)),i.createElement("div",{className:y()(M.thumbInfo,"image-thumb-info")},i.createElement("div",{className:y()(M.row,"image-thumb-row")},i.createElement("div",{className:y()(M.thumbLeft,"image-thumb-left-version")},i.createElement(o.c,{variant:"subtitle1",component:"div"},z),i.createElement(o.c,{variant:"caption",component:"div",gutterBottom:!0,align:"left"},i.createElement(g.c,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"})))),i.createElement("div",{className:y()(M.row,"image-thumb-context")},i.createElement("div",{className:M.thumbRight},i.createElement(o.c,{variant:"subtitle1",component:"div",align:"right",className:M.contextBox},U),i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"right",className:M.context,Component:"div"},i.createElement(g.c,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"}))))),(G.showBusinessDetails||G.showTechnicalDetails)&&i.createElement(i.Fragment,null,i.createElement(x.c,{mt:1,mb:1},i.createElement(A.c,null),i.createElement("div",null,i.createElement("div",{className:M.row},i.createElement("div",{className:M.thumbLeft},i.createElement(o.c,{variant:"body2",gutterBottom:!0,align:"left"},i.createElement(g.c,{defaultMessage:"Owners",id:"Apis.Listing.ApiThumb.owners"}))),G.showBusinessDetails&&i.createElement("div",null,i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:this.handleBusinessPopoverOpen,onMouseLeave:this.handleBusinessPopoverClose,className:M.typo},i.createElement("div",{style:{paddingLeft:"5px",whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.c,{defaultMessage:"Business",id:"Apis.Listing.ApiThumb.owners.business"})," : "),i.createElement("div",{className:M.truncate},b.businessInformation.businessOwner?b.businessInformation.businessOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),b.businessInformation.businessOwnerEmail&&i.createElement(w.cp,{id:"mouse-over-popover",className:M.popover,classes:{paper:M.paper},open:this.state.buniessOpenPopover,anchorEl:this.state.businessAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleBusinessPopoverClose,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.createElement($.c,{fontSize:"small"}),i.createElement(o.c,{variant:"body2",style:{marginLeft:"8px"}},b.businessInformation.businessOwnerEmail)))),G.showTechnicalDetails&&i.createElement("div",null,i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:this.handleTechnicalPopoverOpen,onMouseLeave:this.handleTechnicalPopoverClose,className:M.typo},i.createElement("div",{style:{paddingLeft:"5px",whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.c,{defaultMessage:"Technical",id:"Apis.Listing.ApiThumb.owners.technical"})," : "),i.createElement("div",{className:M.truncate},b.businessInformation.technicalOwner?b.businessInformation.technicalOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),b.businessInformation.technicalOwnerEmail&&i.createElement(w.cp,{id:"mouse-over-popover",className:M.popover,classes:{paper:M.paper},open:this.state.technicalOpenPopover,anchorEl:this.state.technicalAnchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleTechnicalPopoverClose,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.createElement($.c,{fontSize:"small"}),i.createElement(o.c,{variant:"body2",style:{marginLeft:"8px"}},b.businessInformation.technicalOwnerEmail)))))),i.createElement(A.c,null))),i.createElement("div",{className:y()(M.thumbInfo,"api-thumb-rating-chip-wrapper")},L&&i.createElement("div",{className:y()(M.thumbLeftAction,"api-thumb-rating-wrapper")},i.createElement(o.c,{variant:"subtitle1",component:"div","aria-label":"API Rating",gutterBottom:!0,align:"left",className:y()("api-thumb-rating",M.ratingWrapper)},i.createElement(f.c,{apiRating:b.avgRating,apiId:b.id,isEditable:!1,showSummary:!1}))),i.createElement("div",{className:y()(M.thumbRight,"api-thumb-chips-wrapper")},i.createElement(o.c,{variant:"subtitle1",component:"div",gutterBottom:!0,align:"right",className:M.chipWrapper},"PROTOTYPED"===b.lifeCycleStatus?"GRAPHQL"===b.type||"GRAPHQL"===b.transportType?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:y()(M.chipWrapper2,"api-thumb-chip-wrapper")},i.createElement(m.c,{label:void 0===b.transportType?b.type:b.transportType,color:"primary"})),i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:M.chipWrapper3},i.createElement(m.c,{label:"PRE-RELEASED",color:"default"}))):"solace"===b.gatewayVendor?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:M.chipWrapper2},i.createElement(m.c,{label:"SOLACE",color:"primary"})),i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:M.chipWrapper3},i.createElement(m.c,{label:"PRE-RELEASED",color:"default"}))):i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.c,{label:"PRE-RELEASED",color:"default"})):"GRAPHQL"===b.type||"GRAPHQL"===b.transportType?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.c,{label:void 0===b.transportType?b.type:b.transportType,color:"primary"})):"solace"===b.gatewayVendor?i.createElement("div",{className:"api-thumb-chip-main"},i.createElement(m.c,{"data-testid":"solace-label",label:"SOLACE",color:"primary"})):null))))))):i.createElement("div",{className:"api-thumb-image-view"},!q&&Q,q&&i.createElement("img",{src:E.app.context+q,alt:"img"}))}}U.defaultProps={customWidth:null,customHeight:null,showInfo:!0},U.propTypes={classes:d().shape({}).isRequired,theme:d().shape({}).isRequired,customWidth:d().number,customHeight:d().number,showInfo:d().bool},U.contextType=T.U;const F=function(e){const t=(0,n.c)();return i.createElement(U,P({},e,{theme:t}))};var j=a(226120);const H="APIThumbPlain",q={root:`${H}-root`,bullet:`${H}-bullet`,title:`${H}-title`,pos:`${H}-pos`,thumbHeader:`${H}-thumbHeader`,contextBox:`${H}-contextBox`,caption:`${H}-caption`,imageDisplay:`${H}-imageDisplay`,typo:`${H}-typo`,truncate:`${H}-truncate`,popover:`${H}-popover`,paper:`${H}-paper`,ribbon:`${H}-ribbon`},G=(0,r.cp)(l.c)((e=>{let{theme:t}=e;return{[`&.${q.root}`]:{minWidth:200,marginTop:10},[`& .${q.bullet}`]:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},[`& .${q.title}`]:{fontSize:14},[`& .${q.pos}`]:{marginBottom:12},[`& .${q.thumbHeader}`]:{width:"150px",color:"#444",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},[`& .${q.contextBox}`]:{maxWidth:120,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:"5px"},[`& .${q.caption}`]:{color:t.palette.grey[700]},[`& .${q.imageDisplay}`]:{maxWidth:"40px",maxHeight:"40px"},[`& .${q.typo}`]:{display:"flex"},[`& .${q.truncate}`]:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"175px"},[`& .${q.popover}`]:{pointerEvents:"none"},[`& .${q.paper}`]:{padding:t.spacing(1),maxWidth:"300px"},[`& .${q.ribbon}`]:{fontFamily:t.typography.fontFamily,fontSize:"12px",fontWeight:800,color:"#616161",position:"absolute",padding:"5px",width:"80px",zIndex:3,textAlign:"center",textTransform:"uppercase"}}})),Q=window.URL||window.webkitURL;function _(e){const t=(0,n.c)(),{api:a,showInfo:r}=e,{custom:{thumbnail:l,social:{showRating:s}}}=t,{name:u,version:d,context:h,provider:b}=a,[v,A]=(0,i.useState)({selectedIcon:"",category:"",color:"#ccc"}),[S,I]=(0,i.useState)(null),[T,N]=(0,i.useState)(!1),{tileDisplayInfo:C}=E.apis,[L,B]=(0,i.useState)(null),[P,k]=(0,i.useState)(null),[W,M]=(0,i.useState)(!1),[D,z]=(0,i.useState)(!1);let U;if((0,i.useEffect)((()=>{(new O.c).getAPIThumbnail(a.id).then((e=>{if(e&&e.data)if("application/json"===e.headers["content-type"]){const t=JSON.parse(e.data);A({selectedIcon:t.key,category:t.category,color:t.color})}else e&&e.data.size>0&&I(Q.createObjectURL(e.data))})).finally((()=>{N(!0)}))}),[]),U=T?S?i.createElement("img",{src:S,alt:"API Thumbnail",className:q.imageDisplay}):i.createElement(j.c,{className:q.icon,style:{fontSize:"40px",color:v.color}},((e,t,a,i)=>{let n;return n=e&&t?e:"DOC"===i.type?a.custom.thumbnail.document.icon:"settings",n})(v.selectedIcon,v.category,t,a)):i.createElement("div",{className:"image-load-frame"},i.createElement("div",{className:"image-load-animation1"}),i.createElement("div",{className:"image-load-animation2"})),!r)return i.createElement(p.cH,{to:"/apis/"+a.id,"aria-hidden":"true"},i.createElement(x.c,{display:"flex"},i.createElement(x.c,null,!l.defaultApiImage&&U,l.defaultApiImage&&i.createElement("img",{src:E.app.context+l.defaultApiImage,alt:"img"}))));const F=()=>{B(null),M(!1)},H=()=>{k(null),z(!1)};return i.createElement(G,{className:q.root,variant:"outlined"},i.createElement(x.c,{mb:2,pl:1},a.advertiseInfo&&a.advertiseInfo.advertised&&i.createElement("div",{className:q.ribbon},"third party")),i.createElement(c.c,null,i.createElement(x.c,null,i.createElement(p.cH,{to:"/apis/"+a.id,"aria-hidden":"true"},i.createElement(x.c,{display:"flex"},i.createElement(x.c,null,!l.defaultApiImage&&U,l.defaultApiImage&&i.createElement("img",{src:E.app.context+l.defaultApiImage,alt:"img"})),i.createElement(o.c,{variant:"h5",gutterBottom:!0,title:u,className:q.thumbHeader},u)))),i.createElement(x.c,{display:"flex"},i.createElement(x.c,{flex:1},b&&i.createElement(i.Fragment,null,i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",className:q.caption,component:"span"},i.createElement(g.c,{defaultMessage:"By",id:"Apis.Listing.ApiThumb.by"}),i.createElement(g.c,{defaultMessage:" : ",id:"Apis.Listing.ApiThumb.by.colon"})),i.createElement(o.c,{variant:"body2",component:"span"},b))),i.createElement(x.c,null,a.monetizedInfo&&C.showMonetizedState&&i.createElement(R.c,{fontSize:"medium"}))),i.createElement(x.c,{display:"flex",mt:2},i.createElement(x.c,{flex:1},i.createElement(o.c,{variant:"subtitle1"},d),i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",className:q.caption},i.createElement(g.c,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"}))),i.createElement(x.c,null,i.createElement(o.c,{variant:"subtitle1",align:"right",className:q.contextBox},h),i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"right",className:q.caption,Component:"div"},i.createElement(g.c,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"})))),(C.showBusinessDetails||C.showTechnicalDetails)&&i.createElement(i.Fragment,null,i.createElement("hr",null),i.createElement("div",null,i.createElement("div",null,i.createElement("div",null,i.createElement(o.c,{variant:"body2",gutterBottom:!0,align:"left"},i.createElement(g.c,{defaultMessage:"Owners",id:"Apis.Listing.ApiThumb.owners"}))),C.showBusinessDetails&&i.createElement("div",null,i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:e=>{M(!0),B(e.currentTarget)},onMouseLeave:F,className:q.typo},i.createElement("div",{style:{whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.c,{defaultMessage:"Business",id:"Apis.Listing.ApiThumb.owners.business"})," : "),i.createElement("div",{className:q.truncate},a.businessInformation.businessOwner?a.businessInformation.businessOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),a.businessInformation.businessOwnerEmail&&i.createElement(w.cp,{id:"mouse-over-popover",className:q.popover,classes:{paper:q.paper},open:W,anchorEl:L,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:F,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement($.c,{fontSize:"small"}),i.createElement(o.c,{variant:"body2",style:{marginLeft:"8px"}},a.businessInformation.businessOwnerEmail))))),C.showTechnicalDetails&&i.createElement("div",null,i.createElement(o.c,{variant:"caption",gutterBottom:!0,align:"left",onMouseEnter:e=>{k(e.currentTarget),z(!0)},onMouseLeave:H,className:q.typo},i.createElement("div",{style:{whiteSpace:"nowrap",paddingRight:"5px"}},i.createElement(g.c,{defaultMessage:"Technical",id:"Apis.Listing.ApiThumb.owners.technical"})," : "),i.createElement("div",{className:q.truncate},a.businessInformation.technicalOwner?a.businessInformation.technicalOwner:i.createElement("span",{style:{color:"#808080",fontWeight:"bold"}},"Not Provided"))),a.businessInformation.technicalOwnerEmail&&i.createElement(w.cp,{id:"mouse-over-popover",className:q.popover,classes:{paper:q.paper},open:D,anchorEl:P,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onClose:H,disableRestoreFocus:!0},i.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.createElement("div",{style:{display:"flex"}},i.createElement($.c,{fontSize:"small"}),i.createElement(o.c,{variant:"body2",style:{marginLeft:"8px"}},a.businessInformation.technicalOwnerEmail))))))),i.createElement("hr",null)),i.createElement(x.c,{display:"flex",mt:2},s&&i.createElement(x.c,{flex:1},i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"left",className:y()("api-thumb-rating",q.ratingWrapper)},i.createElement(f.c,{apiRating:a.avgRating,apiId:a.id,isEditable:!1,showSummary:!1}))),i.createElement(x.c,null,i.createElement(o.c,{variant:"subtitle1",gutterBottom:!0,align:"right",className:q.chipWrapper},("GRAPHQL"===a.type||"GRAPHQL"===a.transportType)&&i.createElement(m.c,{label:void 0===a.transportType?a.type:a.transportType,color:"primary"}),"PROTOTYPED"===a.lifeCycleStatus&&i.createElement(m.c,{label:"APIProduct"===a.apiType?a.state:"PROTOTYPE",color:"default"}))))))}_.defaultProps={showInfo:!0},_.propTypes={showInfo:d().bool};const V=_;function Y(e){const t=(0,n.c)(),{custom:a}=t;if(!a.thumbnailTemplates||!a.thumbnailTemplates.active)return i.createElement(F,e);const{thumbnailTemplates:{variant:r,active:o}}=a;return o&&"plain"===r?i.createElement(V,e):o&&"text"===r?i.createElement(F,e):void 0}},591800:(e,t,a)=>{a.d(t,{c:()=>O});var i=a(811504),n=a(906940),r=a(203268),o=a.n(r),l=a(162248),s=a(991568),c=a(96144),m=a(658880),p=a(384888),u=a(95900),d=a(842280),g=a(603660),h=a(628136),b=a(141776),f=a(273384),E=a(669872),v=a(123324),y=a(361792),x=a(404292),w=a(153032),R=a(542592);const $="StarRatingBarLegacy",A={starRate:`${$}-starRate`,noStarRate:`${$}-noStarRate`,iconFilled:`${$}-iconFilled`,iconEmpty:`${$}-iconEmpty`,removeRating:`${$}-removeRating`,closeRating:`${$}-closeRating`,userRating:`${$}-userRating`,rateThis:`${$}-rateThis`},S=(0,n.cp)("div")((e=>{let{theme:t}=e;return{[`& .${A.starRate}`]:{fontSize:30,color:t.custom.infoBar.starColor},[`& .${A.noStarRate}`]:{fontSize:30,color:t.palette.grey.A400},[`& .${A.iconFilled}`]:{color:t.custom.infoBar.starColor},[`& .${A.iconEmpty}`]:{color:t.custom.infoBar.starColorEmpty||"#cfcfcf"},[`& .${A.removeRating}`]:{fontSize:20,color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${A.closeRating}`]:{position:"absolute",right:t.spacing(-2),top:t.spacing(-2)},[`& .${A.userRating}`]:{display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",padding:"5px",background:"#efefef",borderRadius:"3px",position:"absolute",right:0,top:"-50px",marginLeft:"125px"},[`& .${A.rateThis}`]:{lineHeight:"15px",width:40}}}));class I extends i.Component{constructor(e){super(e),this.state={avgRating:0,userRating:0,count:0,total:0,showEditing:!1},this.getApiRating=this.getApiRating.bind(this),this.removeUserRating=this.removeUserRating.bind(this),this.doRate=this.doRate.bind(this),this.toggleEditRating=this.toggleEditRating.bind(this)}componentDidMount(){this.getApiRating()}componentDidUpdate(e){const{ratingUpdate:t}=this.props;t!==e.ratingUpdate&&this.getApiRating()}getApiRating(){const{apiId:e,setRatingUpdate:t}=this.props,a=E.c.getUser(),i=new f.c;null!=a&&i.getRatingFromUser(e,null).then((e=>{this.setState({avgRating:e.body.avgRating,userRating:e.body.userRating,count:e.body.count,total:e.body.pagination.total}),t&&t({avgRating:e.body.avgRating,count:e.body.count,total:e.body.pagination.total})}))}doRate(e){const{apiId:t,intl:a}=this.props,i={rating:e};(new f.c).addRating(t,i).then((()=>{this.getApiRating()})).catch((e=>{b.c.error(a.formatMessage({defaultMessage:"Error occurred while adding ratings",id:"Apis.Listing.StarRatingBar.error.occurred.adding"}))})).finally((()=>{this.toggleEditRating()}))}removeUserRating(){const{apiId:e,setRatingUpdate:t,intl:a}=this.props;(new f.c).removeRatingOfUser(e,null).then((()=>{this.getApiRating(),t()})).catch((e=>{b.c.error(a.formatMessage({defaultMessage:"Error occurred while removing ratings",id:"Apis.Listing.StarRatingBar.error.occurred"}))})).finally((()=>{this.toggleEditRating()}))}toggleEditRating(){this.setState((e=>({showEditing:!e.showEditing})))}render(){const{avgRating:e,userRating:t,count:a,total:n,showEditing:r}=this.state,{isEditable:o,showSummary:b,apiRating:f}=this.props,E=parseFloat(f);return i.createElement(S,null,b?i.createElement(v.c,{avgRating:e,reviewCount:n,returnCount:a}):i.createElement(i.Fragment,null,o?i.createElement(s.c,{position:"relative"},i.createElement(c.c,{component:"div",onClick:this.toggleEditRating,display:"flex",style:{cursor:"pointer"},size:"large"},0===t?i.createElement(g.c,{style:{fontSize:30}}):i.createElement(d.c,{style:{fontSize:30,color:"#75d5fa"}}),i.createElement(l.c,{variant:"body2",className:A.rateThis},0===t?i.createElement(x.c,{defaultMessage:"Rate This",id:"Apis.Listing.StarRatingBar.rate.this"}):i.createElement(s.c,null,i.createElement(s.c,{fontSize:22,ml:1,mb:.5},t),i.createElement(s.c,null,i.createElement(x.c,{defaultMessage:"You",id:"Apis.Listing.StarRatingBar.you"}))))),r&&i.createElement(i.Fragment,null,i.createElement(h.q,{onClickAway:this.toggleEditRating},i.createElement("div",{className:A.userRating},[1,2,3,4,5].map((e=>i.createElement(c.c,{"area-label":"Rate "+e,onClick:()=>this.doRate(e),size:"large"},i.createElement(u.c,{key:e,className:t>=e?A.starRate:A.noStarRate})))),i.createElement(c.c,{"area-label":"Clear rating",onClick:()=>this.removeUserRating(),size:"large"},i.createElement(p.default,{className:A.removeRating})),i.createElement(c.c,{className:A.closeRating,"area-label":"Close rating popup",onClick:this.toggleEditRating,size:"large"},i.createElement(m.c,{className:A.removeRating})))))):i.createElement(i.Fragment,null,i.createElement(y.c,{name:"half-rating",value:E,precision:.1,readOnly:!0,classes:{iconEmpty:A.iconEmpty,iconFilled:A.iconFilled}}),i.createElement(l.c,{variant:"caption",gutterBottom:!0,align:"left",component:"div"},`${f}/5.0`,n>0&&i.createElement(i.Fragment,null,` (${n} `,1===n?i.createElement(x.c,{defaultMessage:"user",id:"Apis.Listing.StarRatingBar.user"}):i.createElement(x.c,{defaultMessage:" users",id:"Apis.Listing.StarRatingBar.users"}),")")))))}}I.defaultProps={apiRating:0,ratingUpdate:0,setRatingUpdate:()=>{}},I.propTypes={classes:o().shape({}).isRequired,theme:o().shape({}).isRequired,apiId:o().string.isRequired,isEditable:o().bool.isRequired,showSummary:o().bool.isRequired,apiRating:o().oneOfType([o().string,o().number]),ratingUpdate:o().number,setRatingUpdate:o().func};const O=(0,w.cp)((function(e){const{apiRating:t,apiId:a,isEditable:n,showSummary:r}=e,o=(0,R.c)();return i.createElement(I,{apiRating:t,apiId:a,isEditable:n,showSummary:r,theme:o})}))},366048:(e,t,a)=>{function i(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function n(e){return e.toUpperCase()}a.d(t,{W8:()=>n,k0:()=>i})}}]);
//# sourceMappingURL=1020.9a5999921269eaf876d4.bundle.js.map