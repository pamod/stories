{"version":3,"file":"972.770cd339a97916be54f8.bundle.js","mappings":"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","sources":["webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/AsyncAPI/Steps/ProvideAsyncAPI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/GraphQL/Steps/ProvideGraphQL.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/OpenAPI/Steps/ValidationResults.tsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/OpenAPI/Steps/ProvideOpenAPI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Create/WSDL/Steps/ProvideWSDL.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/LinterUI/LinterUI.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/ProductResources/MethodView.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/ProductResources/ProductResourcesEditWorkspace.jsx","webpack://@wso2apim/publisher/./source/src/app/components/Shared/DropZoneLocal.jsx","webpack://@wso2apim/publisher/./source/src/app/data/Wsdl.js","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/Linting/APILintingSummary.tsx","webpack://@wso2apim/publisher/./source/src/app/components/Apis/Details/APIDefinition/Linting/Linting.tsx"],"sourcesContent":["/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport CheckIcon from '@mui/icons-material/Check';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\n\nimport Banner from 'AppComponents/Shared/Banner';\nimport APIValidation from 'AppData/APIValidation';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport CheckCircleSharpIcon from '@mui/icons-material/CheckCircleSharp';\nimport Chip from '@mui/material/Chip';\n\nconst PREFIX = 'ProvideAsyncAPI';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using AsyncAPI UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using AsyncAPI wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideAsyncAPI(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const { inputType, inputValue } = apiInputs;\n\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({});\n    const [isValidating, setIsValidating] = useState(false);\n    const [validationErrors, setValidationErrors] = useState([]);\n    const [gatewayVendor, setGatewayVendor] = useState('wso2');\n\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one AsyncAPI file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateAsyncAPIByFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, info, errors },\n                } = response;\n                setGatewayVendor(info.gatewayVendor);\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    // eslint-disable-next-line max-len\n                    setValidity({ ...isValid, file: { message: 'AsyncAPI content validation failed! ' } });\n                    setValidationErrors(errors);\n                }\n            })\n            .catch((error) => {\n                setValidity({ ...isValid, file: { message: 'AsyncAPI content validation failed!' } });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: validFile });\n            });\n    }\n\n    /**\n     * Trigger the provided onValidate call back on each input validation run\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object returned from Joi `.validate()` method\n     */\n    function validateURL(value) {\n        const state = APIValidation.url.required().validate(value).error;\n        // State `null` means URL is valid, We do backend validation only in valid URLs\n        if (state === null) {\n            setIsValidating(true);\n            API.validateAsyncAPIByUrl(apiInputs.inputValue, { returnContent: true }).then((response) => {\n                const {\n                    body: {\n                        isValid: isValidURL, info, content, errors,\n                    },\n                } = response;\n                if (isValidURL) {\n                    info.content = content;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, url: null });\n                } else {\n                    setValidity({ ...isValid, url: { message: 'AsyncAPI content validation failed!' } });\n                    setValidationErrors(errors);\n                }\n                onValidate(isValidURL);\n                setIsValidating(false);\n            }).catch((error) => {\n                setValidity({ url: { message: error.message } });\n                onValidate(false);\n                setIsValidating(false);\n                console.error(error);\n            });\n            // Valid URL string\n            // TODO: Handle catch network or api call failures ~tmkb\n        } else {\n            setValidity({ ...isValid, url: state });\n            onValidate(false);\n        }\n    }\n\n    useEffect(() => {\n        if (inputValue) {\n            if (inputType === ProvideAsyncAPI.INPUT_TYPES.FILE) {\n                onDrop([inputValue]);\n            } else if (inputType === ProvideAsyncAPI.INPUT_TYPES.URL) {\n                validateURL(inputValue);\n            }\n        }\n    }, [inputType, inputValue]);\n\n    // TODO: Use validation + input to separate component that can be share with wsdl,swagger,graphql URL inputs ~tmkb\n    const isInvalidURL = Boolean(isValid.url);\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isValid.url !== undefined) {\n        if (isInvalidURL) {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <ErrorOutlineIcon fontSize='large' color='error' />\n                </InputAdornment>\n            );\n        } else {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <CheckIcon fontSize='large' color='primary' />\n                </InputAdornment>\n            );\n        }\n    }\n\n    return (\n        <Root>\n            <Grid container>\n                <Grid item xs={12} sx={{ mb: 2 }}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input type'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                data-testid='input-asyncapi-url'\n                                value={ProvideAsyncAPI.INPUT_TYPES.URL}\n                                control={<Radio color='primary' />}\n                                label='AsyncAPI URL'\n                            />\n                            <FormControlLabel\n                                data-testid='input-asyncapi-file'\n                                value={ProvideAsyncAPI.INPUT_TYPES.FILE}\n                                control={<Radio color='primary' />}\n                                label='AsyncAPI File'\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {isValid.file\n                && (\n                    <Grid item md={12}>\n                        <Banner\n                            onClose={() => setValidity({ file: null })}\n                            disableActions\n                            dense\n                            paperProps={{ elevation: 1 }}\n                            type='error'\n                            message={isValid.file.message}\n                            errors={validationErrors}\n                        />\n                    </Grid>\n                )}\n                <Grid item xs={12}>\n                    {isFileInput ? (\n                        <>\n                            {apiInputs.inputValue ? (\n                                <List>\n                                    <ListItem key={apiInputs.inputValue.path}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <InsertDriveFile />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`${apiInputs.inputValue.path} -\n                                    ${humanFileSize(apiInputs.inputValue.size)}`}\n                                        />\n                                        <ListItemSecondaryAction>\n                                            <IconButton\n                                                edge='end'\n                                                aria-label='delete'\n                                                onClick={() => {\n                                                    inputsDispatcher({ action: 'inputValue', value: null });\n                                                    inputsDispatcher({ action: 'isFormValid', value: false });\n                                                }}\n                                                size='large'>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            ) : (\n                                <DropZoneLocal\n                                    error={isValid.file}\n                                    onDrop={onDrop}\n                                    files={apiInputs.inputValue}\n                                    accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml,.yml'\n                                >\n                                    {isValidating ? (<CircularProgress />)\n                                        : ([\n                                            <FormattedMessage\n                                                id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.dropzone'\n                                                defaultMessage={'Drag & Drop AsyncAPI File '\n                                                + 'here {break} or {break} Browse files'}\n                                                values={{ break: <br /> }}\n                                            />,\n                                            <Button\n                                                data-testid='upload-api-file'\n                                                color='primary'\n                                                variant='contained'\n                                                sx={{ mt: 1 }}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Create.AsyncAPI.Steps.ProvideAsyncAPI.Input.file.upload'\n                                                    defaultMessage='Browse File to Upload'\n                                                />\n                                            </Button>,\n                                        ]\n                                        )}\n                                </DropZoneLocal>\n                            )}\n                        </>\n                    ) : (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width'\n                            label='AsyncAPI URL'\n                            placeholder='Enter AsyncAPI URL'\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            // 'Give the URL of AsyncAPI endpoint'\n                            helperText={(isValid.url && isValid.url.message) || 'Click away to validate the URL'}\n                            error={isInvalidURL}\n                        />\n                    )}\n                </Grid>\n                { gatewayVendor === 'solace' && (\n                    <Grid item xs={10} md={11}>\n                        <Chip\n                            data-testid='solace-api-label'\n                            label='Identified as Solace Event Portal API'\n                            icon={<CheckCircleSharpIcon style={{ color: 'green' }} />}\n                            variant='outlined'\n                            style={{ color: 'green' }}\n                        />\n                    </Grid>\n                )}\n                <Grid item xs={2} md={5} />\n            </Grid>\n        </Root>\n    );\n}\n\nProvideAsyncAPI.defaultProps = {\n    onValidate: () => { },\n};\nProvideAsyncAPI.INPUT_TYPES = {\n    URL: 'url',\n    FILE: 'file',\n};\nProvideAsyncAPI.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        inputValue: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Grid from '@mui/material/Grid';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport Banner from 'AppComponents/Shared/Banner';\n\nconst PREFIX = 'ProvideGraphQL';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using GraphQL UI, This is handling the taking input of GraphQL file or URL from the user\n * In the create API using OpenAPI wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideGraphQL(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const { inputValue } = apiInputs;\n\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({ file: null });\n    const [isValidating, setIsValidating] = useState(false);\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one graphQL file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateGraphQLFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, graphQLInfo },\n                } = response;\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'graphQLInfo', value: graphQLInfo });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    setValidity({ ...isValid, file: { message: 'GraphQL content validation failed!' } });\n                }\n            })\n            .catch((error) => {\n                setValidity({ ...isValid, file: { message: 'GraphQL content validation failed!' } });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: validFile });\n            });\n    }\n\n    useEffect(() => {\n        if (inputValue) {\n            onDrop([inputValue]);\n        }\n    }, [inputValue]);\n    const accept = '.graphql,text/plain';\n    return (\n        <Root>\n            <Grid container>\n                {!apiInputs.inputValue && (\n                    <Grid item md={12} sx={{ mb: 2 }}>\n                        <FormControl component='fieldset'>\n                            <FormLabel component='legend'>\n                                <>\n                                    <sup className={classes.mandatoryStar}>*</sup>\n                                    {' '}\n                                    <FormattedMessage\n                                        id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.type'\n                                        defaultMessage='Provide GraphQL File'\n                                    />\n                                </>\n                            </FormLabel>\n                        </FormControl>\n                    </Grid>\n                )}\n                {isValid.file\n                    && (\n                        <Grid item md={12}>\n                            <Banner\n                                onClose={() => setValidity({ file: null })}\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='error'\n                                message={isValid.file.message}\n                            />\n                        </Grid>\n                    )}\n                <Grid item md={12}>\n                    {apiInputs.inputValue ? (\n                        <List data-testid='uploaded-list-graphql'>\n                            <ListItem key={apiInputs.inputValue.path} data-testid='uploaded-list-content-graphql' >\n                                <ListItemAvatar>\n                                    <Avatar>\n                                        <InsertDriveFile />\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary={`${apiInputs.inputValue.path} - \n                                    ${humanFileSize(apiInputs.inputValue.size)}`}\n                                    data-testid={'file-input-'+apiInputs.inputValue.path}\n                                />\n                                <ListItemSecondaryAction>\n                                    <IconButton\n                                        edge='end'\n                                        aria-label='delete'\n                                        onClick={() => {\n                                            inputsDispatcher({ action: 'inputValue', value: null });\n                                            inputsDispatcher({ action: 'isFormValid', value: false });\n                                        }}\n                                        data-testid='btn-delete-imported-file'\n                                        size='large'>\n                                        <DeleteIcon />\n                                    </IconButton>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        </List>\n                    ) : (\n                        <DropZoneLocal\n                            error={isValid.file}\n                            onDrop={onDrop}\n                            files={apiInputs.inputValue}\n                            accept={accept}\n                            ariaLabel='GraphQL file upload'\n                        >\n                            {isValidating ? (<CircularProgress />)\n                                : ([\n                                    <FormattedMessage\n                                        id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.dropzone'\n                                        defaultMessage={'Drag & Drop files here {break} or {break} '\n                                        + 'Browse files{break}({accept})'}\n                                        values={{ break: <br />, accept }}\n                                    />,\n                                    <Button\n                                        color='primary'\n                                        variant='contained'\n                                        data-testid='browse-to-upload-btn'\n                                        sx={{ mt: 1 }}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Create.GraphQL.Steps.ProvideGraphQL.Input.file.upload'\n                                            defaultMessage='Browse File to Upload'\n                                        />\n                                    </Button>,\n                                ]\n                                )}\n                        </DropZoneLocal>\n                    )}\n                </Grid>\n            </Grid>\n        </Root>\n    );\n}\n\nProvideGraphQL.defaultProps = {\n    onValidate: () => {},\n};\nProvideGraphQL.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from \"react\";\nimport { Accordion, AccordionDetails, AccordionSummary, Box, CircularProgress, Grid, List, ListItem, \n    ListItemIcon, ListItemText, Typography } from '@mui/material';\nimport { ExpandMore } from '@mui/icons-material';\nimport { FormattedMessage } from \"react-intl\";\nimport LinterUI from \"AppComponents/Apis/Details/APIDefinition/LinterUI/LinterUI\";\nimport APILintingSummary from \"AppComponents/Apis/Details/APIDefinition/Linting/APILintingSummary\";\nimport {  \n    spectralSeverityMap as severityMap } from \"../../../Details/APIDefinition/Linting/Linting\"\n\ntype APILintingProps = {\n    inputValue: any,\n    isValidating: boolean,\n    isLinting: boolean,\n    linterResults: any,\n    validationErrors: any,\n    onLinterLineSelect: Function,\n};\n\nexport default function ValidationResults(props: APILintingProps) {\n    const {inputValue, isValidating, isLinting, linterResults, validationErrors, onLinterLineSelect} = props;\n    const [expandValidationErrors, setExpandValidationErrors] = useState(true);\n    const [expandLinterResults, setExpandLinterResults] = useState(false);\n    const [linterSelectedSeverity, setLinterSelectedSeverity] = useState(-1);\n\n\n    return (\n        (<>\n            <Grid item xs={10} md={12}>\n                <List>\n                    {inputValue && isValidating && (\n                        <ListItem>\n                            <ListItemIcon><CircularProgress /></ListItemIcon>\n                            <ListItemText>\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ValidationResults.validating'\n                                    defaultMessage='Validating API definition'\n                                />\n                            </ListItemText>\n                        </ListItem>\n                    )}\n                    {inputValue && !isValidating && isLinting && (\n                        <ListItem>\n                            <ListItemIcon><CircularProgress /></ListItemIcon>\n                            <ListItemText>\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ValidationResults.linting'\n                                    defaultMessage='Generating Linter Results'\n                                />\n                            </ListItemText>\n                        </ListItem>\n                    )}\n                </List>\n            </Grid>\n            {!isValidating && validationErrors.length>0 && (\n                <Grid item xs={10} md={12}>\n                    <Accordion\n                        expanded={expandValidationErrors}\n                        onChange={()=>{setExpandValidationErrors(!expandValidationErrors)}}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMore/>}\n                            aria-controls='panel1bh-content'\n                            id='panel1bh-header'>\n                            <Grid container direction='row' \n                                justifyContent='space-between' alignItems='center'>\n                                <Typography sx={{ fontWeight: 600 }}>\n                                    <FormattedMessage\n                                        id='Apis.Create.OpenAPI.Steps.ValidationResults.validation.errros'\n                                        defaultMessage='Validation Errors'\n                                    />\n                                </Typography>\n                            </Grid>\n                        </AccordionSummary>\n                        <AccordionDetails>\n                            <List>\n                                {validationErrors.map((error:any)=>(\n                                    <ListItem>\n                                        <ListItemIcon>\n                                            {severityMap[0]}\n                                        </ListItemIcon>\n                                        <ListItemText>\n                                            <Typography>\n                                                <Box sx={{ fontWeight: 'bold' }}>{error.message}</Box>\n                                            </Typography>\n                                            <Typography>{error.description}</Typography>\n                                        </ListItemText>\n                                    </ListItem>\n                                    \n                                ))}\n                            </List>\n                            \n                        </AccordionDetails>\n                        \n                    </Accordion>\n                </Grid>\n            )}\n            {!isLinting && linterResults.length>0 && (\n                <Grid item xs={10} md={12}\n                    data-testid='itest-id-linter-results' sx={{ pt: 2 }}>\n                    <Accordion\n                        expanded={expandLinterResults}\n                        onChange={()=>{setExpandLinterResults(!expandLinterResults)}}>\n                        <AccordionSummary\n                            expandIcon={<ExpandMore />}\n                            aria-controls='panel1bh-content'\n                            id='panel1bh-header'>\n                            <Grid container direction='row' \n                                justifyContent='space-between' alignItems='center'>\n                                <Typography sx={{ fontWeight: 600 }}>\n                                    <FormattedMessage\n                                        id='Apis.Create.OpenAPI.Steps.ValidationResults.linter.results'\n                                        defaultMessage='Linter Results'\n                                    />\n                                </Typography>\n                                <APILintingSummary\n                                    linterResults={ linterResults }\n                                    handleChange = { (event:any, value:any)=>{\n                                        event.stopPropagation();\n                                        setLinterSelectedSeverity(value);\n                                        setExpandLinterResults(true);\n                                    } }\n                                />\n                            </Grid>\n                        </AccordionSummary>\n                        <AccordionDetails\n                            style={{padding:0}}>\n                            <LinterUI\n                                linterResults={ linterResults.filter(\n                                    (item: any)=> linterSelectedSeverity===-1||\n                                            item.severity===Number(linterSelectedSeverity))\n                                }\n                                severityMap={ severityMap }\n                                handleRowClick={ (line: any) => { \n                                    if(onLinterLineSelect) onLinterLineSelect(line);\n                                } }\n                            />\n                        </AccordionDetails>\n                    </Accordion>\n                </Grid>\n            )}\n        </>)\n    );\n}","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport CheckIcon from '@mui/icons-material/Check';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport debounce from 'lodash.debounce'; // WARNING: This is coming from mui-datatable as a transitive dependency\nimport YAML from 'js-yaml';\n\nimport APIValidation from 'AppData/APIValidation';\nimport API from 'AppData/api';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\nimport {  \n    getLinterResultsFromContent } from \"../../../Details/APIDefinition/Linting/Linting\";\nimport ValidationResults from './ValidationResults';\n\nconst PREFIX = 'ProvideOpenAPI';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using OpenAPI UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using OpenAPI wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideOpenAPI(props) {\n    const { apiInputs, inputsDispatcher, onValidate, onLinterLineSelect } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const { inputType, inputValue } = apiInputs;\n\n    // If valid value is `null`,that means valid, else an error object will be there\n    const [isValid, setValidity] = useState({});\n    const [linterResults, setLinterResults] = useState ([]);\n    const [validationErrors, setValidationErrors] = useState([]);\n    const [isValidating, setIsValidating] = useState(false);\n    const [isLinting, setIsLinting] = useState(false);\n    \n    function lint(content) {\n        // Validate and linting\n        setIsLinting(true);\n        getLinterResultsFromContent(content).then((results)=>{\n            if (results) {\n                setLinterResults(results);\n            } else {\n                setLinterResults([]);\n            }\n        }).finally(()=>{setIsLinting(false);});\n    }\n\n    function reset() {\n        setIsLinting(false);\n        setLinterResults([]);\n        setValidationErrors([]);\n        inputsDispatcher({ action: 'importingContent', value: null });\n        inputsDispatcher({ action: 'inputValue', value: null });\n        inputsDispatcher({ action: 'isFormValid', value: false });\n    }\n\n    function hasJSONStructure (definition) {\n        if (typeof definition !== 'string') return false;\n        try {\n            const result = JSON.parse(definition);\n            return result && typeof result === 'object';\n        } catch (err) {\n            console.log(\"API definition is in not in JSON format\");\n            return false;\n        }\n    }\n\n    const validateURLDebounced = useCallback(\n        debounce((newURL) => { // Example: https://codesandbox.io/s/debounce-example-l7fq3?file=/src/App.js\n            API.validateOpenAPIByUrl(newURL, { returnContent: true }).then((response) => {\n                const {\n                    body: {\n                        isValid: isValidURL, info, content, errors,\n                    },\n                } = response;\n                if (isValidURL) {\n                    let formattedContent;\n                    if (hasJSONStructure(content)) {\n                        formattedContent = JSON.stringify(JSON.parse(content), null, 2);\n                    } else {\n                        formattedContent = JSON.stringify(YAML.load(content), null, 2);\n                    }\n                    lint(formattedContent);\n                    inputsDispatcher({ action: 'importingContent', value: formattedContent});\n                    info.content = content;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, url: null });\n                    setValidationErrors([]);\n                } else {\n                    setValidity({ ...isValid, url: { message: 'OpenAPI content validation failed!' } });\n                    setValidationErrors(errors);\n                }\n                onValidate(isValidURL);\n                setIsValidating(false);\n            }).catch((error) => {\n                setValidity({ url: { message: error.message } });\n                onValidate(false);\n                setIsValidating(false);\n                console.error(error);\n                \n            });\n        }, 750),\n        [],\n    );\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        setIsValidating(true);\n\n        // Why `files.pop()` below is , We only handle one OpenAPI file at a time,\n        // So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        const file = files.pop();\n        let validFile = null;\n        API.validateOpenAPIByFile(file)\n            .then((response) => {\n                const {\n                    body: { isValid: isValidFile, info, errors },\n                } = response;\n                if (isValidFile) {\n                    validFile = file;\n                    inputsDispatcher({ action: 'preSetAPI', value: info });\n                    setValidity({ ...isValid, file: null });\n                } else {\n                    setValidity({ ...isValid, file: { message: 'OpenAPI content validation failed!' } });\n                    setValidationErrors(errors);\n                }\n            })\n            .catch((error) => {\n                setValidity({ ...isValid, file: { message: 'OpenAPI content validation failed!' } });\n                console.error(error);\n            })\n            .finally(() => {\n                setIsValidating(false); // Stop the loading animation\n                onValidate(validFile !== null); // If there is a valid file then validation has passed\n                // If the given file is valid , we set it as the inputValue else set `null`\n                inputsDispatcher({ action: 'inputValue', value: file });\n            });\n\n        if (!file.path.endsWith(\".zip\")){\n            const read = new FileReader();\n            read.readAsText(file);\n            read.onloadend = function(){\n                const content = read.result?.toString();\n                inputsDispatcher({ action: 'importingContent', value: content });\n                lint(content);\n            }\n        }\n    }\n\n    /**\n     * Trigger the provided onValidate call back on each input validation run\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object returned from Joi `.validate()` method\n     */\n    function validateURL(value) {\n        const state = APIValidation.url.required().validate(value).error;\n        // State `null` means URL is valid, We do backend validation only if it's a valid URL\n        if (state === null) {\n            setIsValidating(true);\n            validateURLDebounced(apiInputs.inputValue);\n            // Valid URL string\n            // TODO: Handle catch network or api call failures ~tmkb\n        } else {\n            setValidity({ ...isValid, url: state });\n            onValidate(false);\n        }\n    }\n\n    useEffect(() => {\n        reset();\n    }, [inputType]);\n\n    useEffect(() => {\n        if (inputValue) {\n            if (inputType === ProvideOpenAPI.INPUT_TYPES.FILE) {\n                onDrop([inputValue]);\n            } else if (inputType === ProvideOpenAPI.INPUT_TYPES.URL) {\n                validateURL(inputValue);\n            }\n        }\n    }, [inputType, inputValue]);\n\n    // TODO: Use validation + input to separate component that can be share with wsdl,swagger,graphql URL inputs ~tmkb\n    const isInvalidURL = Boolean(isValid.url);\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isValid.url !== undefined) {\n        if (isInvalidURL) {\n            urlStateEndAdornment = (\n                <InputAdornment position='end'>\n                    <ErrorOutlineIcon fontSize='large' color='error' />\n                </InputAdornment>\n            );\n        } else {\n            urlStateEndAdornment = (\n                <InputAdornment position='end' id='url-validated'>\n                    <CheckIcon fontSize='large' color='primary' />\n                </InputAdornment>\n            );\n        }\n    }\n\n    return (\n        <Root>\n            <Grid container>\n                <Grid item xs={12} sx={{ mb: 2 }}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input Source'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', \n                                value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                disabled={isLinting || isValidating}\n                                value={ProvideOpenAPI.INPUT_TYPES.URL}\n                                control={<Radio color='primary' />}\n                                label='OpenAPI URL'\n                                id='open-api-url-select-radio'\n                            />\n                            <FormControlLabel\n                                disabled={isLinting || isValidating}\n                                value={ProvideOpenAPI.INPUT_TYPES.FILE}\n                                control={<Radio color='primary' />}\n                                label='OpenAPI File/Archive'\n                                aria-label='OpenAPI File/Archive'\n                                id='open-api-file-select-radio'\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12}>\n                    {isFileInput ? (\n                        <>\n                            {apiInputs.inputValue ? (\n                                <List>\n                                    <ListItem key={apiInputs.inputValue.path}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <InsertDriveFile />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`${apiInputs.inputValue.path} -\n                                    ${humanFileSize(apiInputs.inputValue.size)}`}\n                                        />\n                                        <ListItemSecondaryAction>\n                                            <IconButton edge='end' aria-label='delete' onClick={reset} size='large'>\n                                                <DeleteIcon />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                                </List>\n                            ) : (\n                                <DropZoneLocal\n                                    error={isValid.file}\n                                    onDrop={onDrop}\n                                    files={apiInputs.inputValue}\n                                    accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.json,application/json,.yaml'\n                                >\n                                    {isValidating ? (<CircularProgress />)\n                                        : ([\n                                            <FormattedMessage\n                                                id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.dropzone'\n                                                defaultMessage={'Drag & Drop Open API File/Archive '\n                                                 + 'here {break} or {break} Browse files'}\n                                                values={{ break: <br /> }}\n                                            />,\n                                            <Button\n                                                color='primary'\n                                                variant='contained'\n                                                id='browse-to-upload-btn'\n                                                onClick={ reset }\n                                                sx={{ mt: 1 }}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Create.OpenAPI.Steps.ProvideOpenAPI.Input.file.upload'\n                                                    defaultMessage='Browse File to Upload'\n                                                />\n                                            </Button>,\n                                        ]\n                                        )}\n                                </DropZoneLocal>\n                            )}\n                        </>\n                    ) : (\n                        <TextField\n                            autoFocus\n                            id='outlined-full-width'\n                            label='OpenAPI URL'\n                            placeholder='Enter OpenAPI URL'\n                            fullWidth\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                            value={apiInputs.inputValue}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    validateURL(value);\n                                },\n                                endAdornment: urlStateEndAdornment,\n                            }}\n                            // 'Give the URL of OpenAPI endpoint'\n                            helperText={(isValid.url && isValid.url.message) || 'Click away to validate the URL'}\n                            error={isInvalidURL}\n                            data-testid='swagger-url-endpoint'\n                        />\n                    )}\n                </Grid>\n                <ValidationResults \n                    inputValue={inputValue} \n                    isValidating={isValidating}\n                    isLinting={isLinting}\n                    validationErrors={validationErrors}\n                    linterResults={linterResults}\n                    onLinterLineSelect={onLinterLineSelect}\n                />\n                <Grid item xs={2} md={5} />\n            </Grid>\n        </Root>\n    );\n}\n\nProvideOpenAPI.defaultProps = {\n    onValidate: () => { },\n};\nProvideOpenAPI.INPUT_TYPES = {\n    URL: 'url',\n    FILE: 'file',\n};\nProvideOpenAPI.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        inputValue: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Radio from '@mui/material/Radio';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormLabel from '@mui/material/FormLabel';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport InsertDriveFile from '@mui/icons-material/InsertDriveFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport CheckIcon from '@mui/icons-material/Check';\n\nimport APIValidation from 'AppData/APIValidation';\nimport Wsdl from 'AppData/Wsdl';\nimport Banner from 'AppComponents/Shared/Banner';\nimport DropZoneLocal, { humanFileSize } from 'AppComponents/Shared/DropZoneLocal';\n\nconst PREFIX = 'ProvideWSDL';\n\nconst classes = {\n    mandatoryStar: `${PREFIX}-mandatoryStar`\n};\n\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.mandatoryStar}`]: {\n        color: theme.palette.error.main,\n    }\n}));\n\n/**\n * Sub component of API Create using WSDL UI, This is handling the taking input of WSDL file or URL from the user\n * In the create API using WSDL wizard first step out of 2 steps\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function ProvideWSDL(props) {\n    const { apiInputs, inputsDispatcher, onValidate } = props;\n    const isFileInput = apiInputs.inputType === 'file';\n    const isGenerateRESTAPI = apiInputs.type === 'SOAPTOREST';\n\n    const [isError, setValidity] = useState(); // If valid value is `null` else an error object will be there\n    const [isValidating, setIsValidating] = useState(false);\n    const isCreateMode = apiInputs.mode === 'create';\n\n    /**\n     * Handles WSDL validation response and returns the state.\n     *\n     * @param {*} response WSDL validation response\n     * @param {string} type of the input; file or url\n     * @returns {boolean} validation status\n     */\n    function handleWSDLValidationResponse(response, type) {\n        const isWSDLValid = response.body.isValid;\n        let success = false;\n        if (isWSDLValid) {\n            if (type === 'file') {\n                setValidity({ ...isError, file: null });\n            } else {\n                setValidity({ ...isError, url: null });\n            }\n            success = true;\n        } else if (type === 'file') {\n            setValidity({ ...isError, file: { message: 'WSDL content validation failed!' } });\n        } else {\n            setValidity({ ...isError, url: { message: 'Invalid WSDL URL!' } });\n        }\n        onValidate(isWSDLValid);\n        setIsValidating(false);\n        return success;\n    }\n\n    /**\n     * Handles WSDL validation error response.\n     *\n     * @param error {*} error object\n     * @param type {string} file/url type\n     */\n    function handleWSDLValidationErrorResponse(error, type) {\n        let message = 'Error occurred during validation';\n        if (error.response && error.response.body.description) {\n            message = error.response.body.description;\n        }\n        if (type === 'file') {\n            setValidity({ ...isError, file: { message } });\n        } else {\n            setValidity({ ...isError, url: { message } });\n        }\n        setIsValidating(false);\n    }\n\n    /**\n     * Trigger the onValidate call back after validating WSDL url from the state.\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {Object} state Validation state object\n     */\n    function validateUrl(state) {\n        if (state === null) {\n            setIsValidating(true);\n            Wsdl.validateUrl(apiInputs.inputValue).then((response) => {\n                handleWSDLValidationResponse(response, 'url');\n            }).catch((error) => {\n                handleWSDLValidationErrorResponse(error, 'url');\n            });\n        } else {\n            setValidity({ ...isError, url: state });\n            onValidate(false);\n        }\n    }\n\n    /**\n     * Trigger the provided onValidate callback after validating the provided WSDL file.\n     * Do the validation state aggregation and call the onValidate method with aggregated value\n     * @param {*} file WSDL file or archive\n     * @param {Object} state Validation state object\n     */\n    function validateFileOrArchive(file, state = null) {\n        if (state === null) {\n            setIsValidating(true);\n            Wsdl.validateFileOrArchive(file).then((response) => {\n                if (handleWSDLValidationResponse(response, 'file')) {\n                    inputsDispatcher({ action: 'inputValue', value: file });\n                }\n            }).catch((error) => {\n                handleWSDLValidationErrorResponse(error, 'file');\n            });\n        } else {\n            setValidity({ ...isError, file: state });\n            onValidate(false);\n        }\n    }\n\n    /**\n     *\n     *\n     * @param {*} files\n     */\n    function onDrop(files) {\n        // Why `files[0]` below is , We only handle one wsdl file at a time, So if use provide multiple, We would only\n        // accept the first file. This information is shown in the dropdown helper text\n        validateFileOrArchive(files[0]);\n    }\n\n    /**\n     *  Render uploaded WSDL schema list\n     */\n    function renderUploadedList() {\n        return (\n            <List>\n                <ListItem key={apiInputs.inputValue.path}>\n                    <ListItemAvatar>\n                        <Avatar>\n                            <InsertDriveFile />\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={`${apiInputs.inputValue.path} - ${humanFileSize(apiInputs.inputValue.size)}`}\n                    />\n                    <ListItemSecondaryAction>\n                        <IconButton\n                            edge='end'\n                            aria-label='delete'\n                            onClick={() => {\n                                inputsDispatcher({ action: 'inputValue', value: null });\n                                inputsDispatcher({ action: 'isFormValid', value: false });\n                            }}\n                            size='large'>\n                            <DeleteIcon />\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            </List>\n        );\n    }\n\n    const dropBoxControlLabel = isGenerateRESTAPI ? (\n        <FormattedMessage\n            id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.dropzone'\n            defaultMessage='Drag & Drop WSDL file {break} -or-'\n            values={{ break: <br /> }}\n        />\n    ) : (\n        <FormattedMessage\n            id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.archive.dropzone'\n            defaultMessage='Drag & Drop WSDL file/archive {break} -or-'\n            values={{ break: <br /> }}\n        />\n    );\n\n    /**\n     * Render file upload UI.\n     *\n     */\n    function renderFileUpload() {\n        if (apiInputs.inputValue) {\n            return renderUploadedList();\n        }\n        // TODO: Pass message saying accepting only one file ~tmkb\n        return (\n            <DropZoneLocal\n                error={isError && isError.file}\n                onDrop={onDrop}\n                files={apiInputs.inputValue}\n                accept='.bz,.bz2,.gz,.rar,.tar,.zip,.7z,.wsdl'\n            >\n                {isValidating ? (<CircularProgress />)\n                    : (\n                        (<Root>\n                            { dropBoxControlLabel }\n                            <Button\n                                color='primary'\n                                variant='contained'\n                            >\n                                <FormattedMessage\n                                    id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.file.upload'\n                                    defaultMessage='Browse File to Upload'\n                                />\n                            </Button>\n                        </Root>)\n                    )}\n            </DropZoneLocal>\n        );\n    }\n\n    let urlStateEndAdornment = null;\n    if (isValidating) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CircularProgress />\n            </InputAdornment>\n        );\n    } else if (isError && isError.url) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <ErrorOutlineIcon fontSize='large' color='error' />\n            </InputAdornment>\n        );\n    } else if (isError && !isError.url) {\n        urlStateEndAdornment = (\n            <InputAdornment position='end'>\n                <CheckIcon fontSize='large' color='primary' />\n            </InputAdornment>\n        );\n    }\n\n    return (\n        <>\n            <Grid container spacing={5}>\n                {isCreateMode\n                && (\n                    <Grid item md={12}>\n                        <FormControl component='fieldset'>\n                            <FormLabel component='legend'>\n                                <>\n                                    <sup className={classes.mandatoryStar}>*</sup>\n                                    {' '}\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.implementation.type'\n                                        defaultMessage='Implementation Type'\n                                    />\n                                </>\n                            </FormLabel>\n                            <RadioGroup\n                                aria-label='Implementation type'\n                                value={apiInputs.type ? apiInputs.type : 'SOAP'}\n                                onChange={\n                                    (event) => {\n                                        inputsDispatcher({ action: 'type', value: event.target.value });\n                                        inputsDispatcher({ action: 'isFormValid', value: false });\n                                        inputsDispatcher({ action: 'inputValue', value: null });\n                                        inputsDispatcher({ action: 'inputType', value: 'url' });\n                                    }\n                                }\n                            >\n                                <FormControlLabel\n                                    value='SOAP'\n                                    control={<Radio color='primary' />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Create.WSDL.Steps.ProvideWSDL.passthrough.label'\n                                            defaultMessage='Pass Through'\n                                        />\n                                    )}\n                                />\n                                <FormControlLabel\n                                    value='SOAPTOREST'\n                                    control={<Radio color='primary' />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Create.WSDL.Steps.ProvideWSDL.SOAPtoREST.label'\n                                            defaultMessage='Generate REST APIs'\n                                        />\n                                    )}\n                                />\n                            </RadioGroup>\n                        </FormControl>\n                    </Grid>\n                )}\n                <Grid item md={12}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>\n                            <>\n                                <sup className={classes.mandatoryStar}>*</sup>\n                                {' '}\n                                <FormattedMessage\n                                    id='Apis.Create.WSDL.Steps.ProvideWSDL.Input.type'\n                                    defaultMessage='Input Type'\n                                />\n                            </>\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Input type'\n                            value={apiInputs.inputType}\n                            onChange={(event) => inputsDispatcher({ action: 'inputType', value: event.target.value })}\n                        >\n                            <FormControlLabel\n                                value='url'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.url.label'\n                                        defaultMessage='WSDL URL'\n                                    />\n                                )}\n                            />\n                            <FormControlLabel\n                                value='file'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Create.WSDL.Steps.ProvideWSDL.file.label.wsdl.file.archive'\n                                        defaultMessage='WSDL File/Archive'\n                                    />\n                                )}\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                {isError && isError.file\n                    && (\n                        <Grid item md={11}>\n                            <Banner\n                                onClose={() => setValidity({ file: null })}\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='error'\n                                message={isError.file.message}\n                            />\n                        </Grid>\n                    )}\n                <Grid item md={11}>\n                    {isFileInput ? renderFileUpload()\n                        : (\n                            <TextField\n                                autoFocus\n                                id='outlined-full-width'\n                                label='WSDL URL'\n                                placeholder='Enter WSDL URL'\n                                fullWidth\n                                margin='normal'\n                                variant='outlined'\n                                onChange={({ target: { value } }) => inputsDispatcher({ action: 'inputValue', value })}\n                                value={apiInputs.inputValue}\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                InputProps={{\n                                    onBlur: ({ target: { value } }) => {\n                                        validateUrl(APIValidation.url.required().validate(value).error);\n                                    },\n                                    endAdornment: urlStateEndAdornment,\n                                }}\n                                helperText={\n                                    (isError && isError.url && isError.url.message) || 'Click away to validate the URL'\n                                }\n                                error={isError && Boolean(isError.url)}\n                                disabled={isValidating}\n                            />\n                        )}\n\n                </Grid>\n            </Grid>\n        </>\n    );\n}\n\nProvideWSDL.defaultProps = {\n    onValidate: () => { },\n};\nProvideWSDL.propTypes = {\n    apiInputs: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n        mode: PropTypes.string,\n    }).isRequired,\n    inputsDispatcher: PropTypes.func.isRequired,\n    onValidate: PropTypes.func,\n};\n","/* eslint-disable */\n/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\nimport React from 'react';\nimport { styled } from '@mui/material/styles';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TablePagination from '@mui/material/TablePagination';\nimport TableRow from '@mui/material/TableRow';\nimport { spectralSeverityMap as severityMap} from '../Linting/Linting'\n\nconst PREFIX = 'LinterUI';\n\nconst classes = {\n    tableCell: `${PREFIX}-tableCell`,\n    headerTableCell: `${PREFIX}-headerTableCell`,\n    tableRow: `${PREFIX}-tableRow`,\n    tableWrapper: `${PREFIX}-tableWrapper`,\n    headerTableRow: `${PREFIX}-headerTableRow`\n};\n\nconst StyledPaper = styled(Paper)((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.tableCell}`]: {\n        border: 'none',\n        fontSize: '10px !important',\n    },\n\n    [`& .${classes.headerTableCell}`]: {\n        background: 'transparent',\n        fontSize: 10,\n        fontWeight: 'bold',\n        border: 'none',\n    },\n\n    [`& .${classes.tableRow}`]: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.action.hover,\n        },\n        cursor: 'pointer',\n    },\n\n    [`& .${classes.tableWrapper}`]: {\n        '& table tr td:first-child': {\n            width: 10,\n        },\n        '& table tr td:nth-child(2)': {\n            width: 10,\n        },\n    },\n\n    [`& .${classes.headerTableRow}`]: {\n        display: 'flex',\n    }\n}));\n\nexport default function LinterUI(props) {\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const { linterResults, handleRowClick } = props;\n\n\n    function getData(type, line, message, code) {\n        return { type, line, message, code};\n    }\n\n    const columns = [\n        { id: 'type',\n            label: 'Type',\n            minWidth: 50,\n        },\n        { id: 'line',\n            label: 'Line',\n            minWidth: 50\n        },\n        {\n            id: 'message',\n            label: 'Message',\n            minWidth: 170,\n            align: 'left',\n        },\n    ];\n\n    const  rows = linterResults.map((item, index) => getData(\n            severityMap[item.severity],\n            item.range.start.line + 1, \n            item.message,\n            index,\n    ));\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n    };\n\n    return (\n        <StyledPaper sx={{ width: '100%', overflow: 'hidden' }}>\n            <TableContainer sx={{ maxHeight: 440 }} className={classes.tableWrapper}>\n                <Table stickyHeader aria-label='linter-table'>\n                    <TableHead>\n                        <TableRow>\n                            {columns.map((column) => (\n                                <TableCell\n                                    key={column.id}\n                                    align={column.align}\n                                    className={classes.headerTableCell}\n                                    style={{ minWidth: column.minWidth }}\n                                >\n                                    {column.label}\n                                </TableCell>\n                            ))}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {rows\n                            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                            .map((row) => {\n                                return (\n                                    <TableRow\n                                        key={row.code}\n                                        className={classes.tableRow}\n                                        onClick={() => handleRowClick(row.line)}\n                                    >\n                                        {columns.map((column) => {\n                                            const value = row[column.id];\n                                            return (\n                                                <TableCell\n                                                    key={column.id}\n                                                    align={column.align}\n                                                    className={classes.tableCell}>\n                                                    {column.format && typeof value === 'number'\n                                                        ? column.format(value)\n                                                        : value}\n                                                </TableCell>\n                                            );\n                                        })}\n                                    </TableRow>\n                                );\n                            })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <TablePagination\n                rowsPerPageOptions={[10, 25, 100]}\n                component='div'\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n        </StyledPaper>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport Chip from '@mui/material/Chip';\nimport PropTypes from 'prop-types';\nimport Configurations from 'Config';\n\nfunction MethodView(props) {\n    console.info(Configurations.app);\n    const theme = useTheme();\n    const { method, className } = props;\n    let chipColor = theme.custom.resourceChipColors ? theme.custom.resourceChipColors[method.toLowerCase()] : null;\n    let chipTextColor = '#000000';\n    if (!chipColor) {\n        console.log('Check the theme settings. The resourceChipColors is not populated properly');\n        chipColor = '#cccccc';\n    } else {\n        chipTextColor = theme.palette.getContrastText(theme.custom.resourceChipColors[method.toLowerCase()]);\n    }\n    return (\n        <Chip\n            label={method}\n            className={className || ''}\n            style={{\n                backgroundColor: chipColor, color: chipTextColor, height: 20, width: 65,\n            }}\n        />\n    );\n}\nMethodView.propTypes = {\n    className: PropTypes.string.isRequired,\n    method: PropTypes.string.isRequired,\n};\n\nexport default MethodView;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable array-callback-return */\n/* eslint no-param-reassign: [\"error\", { \"props\": true, \"ignorePropertyModificationsFor\": [\"operationObj\"] }] */\n\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Paper from '@mui/material/Paper';\nimport TextField from '@mui/material/TextField';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Icon from '@mui/material/Icon';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport Checkbox from '@mui/material/Checkbox';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport queryString from 'query-string';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport cloneDeep from 'lodash.clonedeep';\nimport PropTypes from 'prop-types';\nimport API from 'AppData/api';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport MethodView from 'AppComponents/Apis/Details/ProductResources/MethodView';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport CONSTS from 'AppData/Constants';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\n\nconst PREFIX = 'ProductResourcesEdit';\n\nconst classes = {\n    searchWrapper: `${PREFIX}-searchWrapper`,\n    paper: `${PREFIX}-paper`,\n    apiWrapper: `${PREFIX}-apiWrapper`,\n    ResourceWrapper: `${PREFIX}-ResourceWrapper`,\n    SelectedResourceWrapper: `${PREFIX}-SelectedResourceWrapper`,\n    leftMost: `${PREFIX}-leftMost`,\n    rightMost: `${PREFIX}-rightMost`,\n    colTitle: `${PREFIX}-colTitle`,\n    treeItemMain: `${PREFIX}-treeItemMain`,\n    treeItemMainWrapper: `${PREFIX}-treeItemMainWrapper`,\n    treeItem: `${PREFIX}-treeItem`,\n    hr: `${PREFIX}-hr`,\n    methodView: `${PREFIX}-methodView`,\n    middleText: `${PREFIX}-middleText`,\n    selectedApi: `${PREFIX}-selectedApi`,\n    selectedTitle: `${PREFIX}-selectedTitle`,\n    buttonWrapper: `${PREFIX}-buttonWrapper`,\n    selectedApiDescription: `${PREFIX}-selectedApiDescription`,\n    messageWrapper: `${PREFIX}-messageWrapper`,\n    tootBar: `${PREFIX}-tootBar`,\n    inactiveIcon: `${PREFIX}-inactiveIcon`\n};\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.searchWrapper}`]: {\n        padding: 0,\n        marginTop: theme.spacing(1),\n        '& input': {\n            padding: '12px 14px',\n        },\n        display: 'flex',\n    },\n\n    [`& .${classes.paper}`]: {\n        height: '100%',\n        borderRadius: 0,\n    },\n\n    [`& .${classes.apiWrapper}`]: {\n        overflowY: 'auto',\n        height: 349,\n    },\n\n    [`& .${classes.ResourceWrapper}`]: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        '& .frame': {\n            overflowY: 'auto',\n            height: 328,\n            border: '1px solid ' + theme.palette.grey[400],\n            borderRadius: theme.spacing(1),\n        },\n        '& .frame::-webkit-scrollbar': {\n            '-webkit-appearance': 'none',\n        },\n        '& .frame::-webkit-scrollbar:vertical': {\n            width: 11,\n        },\n        '& .frame::-webkit-scrollbar:horizontal': {\n            height: 11,\n        },\n        '& .frame::-webkit-scrollbar-thumb': {\n            borderRadius: theme.spacing(1),\n            border: '2px solid' + theme.palette.common.white,\n            backgroundColor: theme.palette.grey[400],\n        },\n        '& .frame.rightFrame': {\n            height: 369,\n        },\n    },\n\n    [`& .${classes.SelectedResourceWrapper}`]: {\n        overflowY: 'auto',\n        overflowX: 'auto',\n        height: 321,\n    },\n\n    [`& .${classes.leftMost}`]: {\n        background: theme.palette.grey[700],\n        color: theme.palette.getContrastText(theme.palette.grey[700]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.rightMost}`]: {\n        background: theme.palette.grey[600],\n        color: theme.palette.getContrastText(theme.palette.grey[600]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.colTitle}`]: {\n        background: theme.palette.grey[400],\n        color: theme.palette.getContrastText(theme.palette.grey[400]),\n        padding: theme.spacing(1),\n        fontWeight: 200,\n        minHeight: 25,\n    },\n\n    [`& .${classes.treeItemMain}`]: {\n        background: theme.palette.grey[100],\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n        padding: theme.spacing(1),\n    },\n\n    [`& .${classes.treeItemMainWrapper}`]: {\n        paddingLeft: theme.spacing(2),\n    },\n\n    [`& .${classes.treeItem}`]: {\n        '& .material-icons': {\n            fontSize: theme.spacing(2),\n            cursor: 'pointer',\n            marginRight: theme.spacing(1),\n        },\n        display: 'flex',\n        alignItems: 'center',\n        padding: '6px 0',\n    },\n\n    [`& .${classes.hr}`]: {\n        flex: 1,\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n    },\n\n    [`& .${classes.methodView}`]: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n\n    [`& .${classes.middleText}`]: {\n        flex: 1,\n    },\n\n    [`& .${classes.selectedApi}`]: {\n        background: theme.palette.grey[100],\n    },\n\n    [`& .${classes.selectedTitle}`]: {\n        padding: theme.spacing(2),\n    },\n\n    [`& .${classes.buttonWrapper}`]: {\n        marginTop: theme.spacing(2),\n        textDecorate: 'none',\n    },\n\n    [`& .${classes.selectedApiDescription}`]: {\n        padding: '0px 16px',\n    },\n\n    [`& .${classes.messageWrapper}`]: {\n        padding: theme.spacing(3),\n    },\n\n    [`& .${classes.tootBar}`]: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        margin: '0 16px',\n        background: theme.palette.grey[100],\n        color: theme.palette.getContrastText(theme.palette.grey[100]),\n        padding: 5,\n        borderRadius: 5,\n        '& a': {\n            cursor: 'pointer',\n            display: 'flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n        },\n    },\n\n    [`& .${classes.inactiveIcon}`]: {\n        color: theme.palette.grey[300],\n    }\n}));\n\nconst resourceMethod = {\n    POST: 'post',\n    PUT: 'put',\n    GET: 'get',\n    DELETE: 'delete',\n    PATCH: 'patch',\n    OPTIONS: 'options',\n    HEAD: 'head',\n};\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction ProductResourcesEdit(props) {\n\n    const {\n        apiResources, setApiResources, isStateCreate, api, resourceNotFountMessage,\n    } = props;\n\n    // Define states\n    const [allApis, setAllApis] = useState([]);\n    const [notFound, setNotFound] = useState(false);\n    const [searchText, setSearchText] = useState('');\n    const [selectedApiPaths, setSelectedApiPaths] = useState([]);\n    const [selectedApi, setSelectedApi] = useState(null);\n    const [fromSearch, setFromSearch] = useState(false);\n    // Initialize the rest api libraries\n    const apiRestClient = new API();\n\n    /**\n     * This method is filtering apis base on the searchText entered. In no searchText provided it will give all apis.\n     *\n     * @param {*} [text=null]\n     * @returns a promise\n     */\n    const filterAPIs = (text = null) => {\n        if (text) {\n            // Build the search query and update\n            const inputValue = text.trim().toLowerCase();\n            const composeQuery = '?query=name:' + inputValue + ' type:HTTP';\n            const composeQueryJSON = queryString.parse(composeQuery);\n            // TODO we need to make the limit and offset changeable from the UI ( paggination )\n            composeQueryJSON.limit = 100;\n            composeQueryJSON.offset = 0;\n            return API.search(composeQueryJSON);\n        } else {\n            return API.all({\n                query: {\n                    type: 'HTTP',\n                },\n            });\n        }\n    };\n\n    const isValidHttpVerb = (innerKey) => {\n        if (innerKey === resourceMethod.DELETE || innerKey === resourceMethod.POST\n                || innerKey === resourceMethod.GET || innerKey === resourceMethod.PUT\n                || innerKey === resourceMethod.PATCH || innerKey === resourceMethod.OPTIONS\n                || innerKey === resourceMethod.HEAD) {\n            return true;\n        }\n        return false;\n    };\n\n    const addPropsToSelectedApiPaths = (paths, apiId, latestApiResources = apiResources) => {\n        /* Add checked field to each resource object */\n        Object.keys(paths).map((key) => {\n            const methodObj = paths[key];\n            Object.keys(methodObj).map((innerKey) => {\n                // We are setting the check property at this level because we need to\n                // add resources for each verb ( post, get, put etc.. )\n                if (isValidHttpVerb(innerKey)) {\n                    methodObj[innerKey].checked = false;\n\n                    // We need to check the latestApiResources for the same\n                    // API/Resource Name / Verb and  indicate it differently\n                    // Loop latestApiResources object\n                    const target = key;\n                    const verb = innerKey;\n                    let resourceFound = false;\n                    if (latestApiResources) {\n                        Object.keys(latestApiResources).map((resourcekey) => {\n                            const apiResource = latestApiResources[resourcekey];\n\n                            // Check if the the api slected from UI is same as the operation api id checking\n                            if (apiResource && apiId === apiResource.apiId) {\n                                // API is the same\n                                Object.keys(apiResource.operations).map((operationKey) => {\n                                    const operation = apiResource.operations[operationKey];\n                                    if (\n                                        operation\n                                        && operation.target === target\n                                        && operation.verb.toLowerCase() === verb.toLowerCase()\n                                    ) {\n                                        // Operation is already there\n                                        resourceFound = true;\n                                    }\n                                });\n                            }\n                        });\n                    }\n                    if (resourceFound) {\n                        methodObj[innerKey].allreadyAdded = true;\n                    } else {\n                        methodObj[innerKey].allreadyAdded = false;\n                    }\n                }\n            });\n        });\n        setSelectedApiPaths(paths);\n    };\n\n    // Get the api swagger after an api is selected\n    const getApiSwagger = (apiSelected) => {\n        const { id } = apiSelected;\n        const promisedAPI = apiRestClient.getSwagger(id);\n        promisedAPI\n            .then((response) => {\n                if (response.obj.paths !== undefined) {\n                    addPropsToSelectedApiPaths(response.obj.paths, id);\n                    setSelectedApi(apiSelected);\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    };\n    const handleSearchTextChange = (event) => {\n        const apiPromise = filterAPIs(event.target.value);\n        apiPromise\n            .then((response) => {\n                const {\n                    body: { list },\n                } = response;\n                const filteredList = list.filter((theApi) => theApi.status !== 'PROTOTYPED');\n                if (filteredList.length > 0) {\n                    setSelectedApi(list[0]);\n                }\n                setAllApis(filteredList);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n        setSearchText(event.target.value);\n        setFromSearch(event.target.value);\n    };\n    const updateResourceTree = (resourceToAdd, action, inputApiResources = null) => {\n        let updateStateHere = false;\n        let newApiResources = null;\n        if (!inputApiResources) {\n            // If a copy of the state variable is not passed from the calling method we\n            // have to make a copy inside here before doing modifications to that\n            newApiResources = cloneDeep(apiResources);\n            updateStateHere = true;\n        } else {\n            newApiResources = inputApiResources;\n        }\n        const {\n            target, verb, apiId, name, version,\n        } = resourceToAdd;\n        const newResource = {\n            id: null,\n            target,\n            verb: verb.toUpperCase(),\n            authType: null,\n            throttlingPolicy: null,\n            scopes: [],\n        };\n        let apiFound = false;\n\n        // Loop copy of apiResources object\n        Object.keys(newApiResources).map((key, indexA) => {\n            const apiResource = newApiResources[key];\n\n            // Check if the the api slected from UI is same as the operation api id trying to remove.\n            if (apiResource && apiId === apiResource.apiId) {\n                apiFound = true;\n                let operationFound = false;\n                Object.keys(apiResource.operations).map((innerKey, indexB) => {\n                    const operation = apiResource.operations[innerKey];\n                    if (\n                        operation\n                        && operation.target === target\n                        && operation.verb.toLowerCase() === verb.toLowerCase()\n                    ) {\n                        // Operation is already there\n                        operationFound = true;\n                        if (action === 'remove') {\n                            if (apiResource.operations.length > 1) {\n                                apiResource.operations.splice(indexB, 1);\n                            } else {\n                                newApiResources.splice(indexA, 1);\n                            }\n                        }\n                    }\n                });\n                // Operation not added .. so we need to add that\n                if (!operationFound && action === 'add') {\n                    apiResource.operations.push(newResource);\n                }\n            }\n        });\n\n        if (!apiFound) {\n            // Add api object\n            newApiResources.push({\n                name,\n                apiId,\n                operations: [newResource],\n                version,\n            });\n        }\n        // When we are adding the resources in a loop we do not care about the return but we simply set the state here.\n        if (updateStateHere) {\n            setApiResources(newApiResources);\n            // We need to call this in order to set other properties\n            if (apiId === selectedApi.id) {\n                addPropsToSelectedApiPaths(cloneDeep(selectedApiPaths), apiId, newApiResources);\n            }\n        }\n        return newApiResources;\n    };\n\n    const updateCheckBox = (key, innerKey) => {\n        // we need to copy the object from the state and modify it before set it to the state\n        const prevSelectedApiPaths = { ...selectedApiPaths };\n\n        // Now we inverse the checked value\n        prevSelectedApiPaths[key][innerKey].checked = !prevSelectedApiPaths[key][innerKey].checked;\n\n        // Then we set state\n        setSelectedApiPaths(prevSelectedApiPaths);\n    };\n    const addSelectedResourcesToTree = (addAll = false) => {\n        /* Add checked field to each resource object */\n        const newApiResources = cloneDeep(apiResources);\n        Object.keys(selectedApiPaths).map((key) => {\n            const methodObj = selectedApiPaths[key];\n            Object.keys(methodObj).map((innerKey) => {\n                // We are setting the check property at this level because we need to\n                // add resources for each verb ( post, get, put etc.. )\n                if ((methodObj[innerKey].checked || addAll) && isValidHttpVerb(innerKey)) {\n                    // We need to add this to apiResources array\n                    updateResourceTree(\n                        {\n                            target: key,\n                            verb: innerKey,\n                            apiId: selectedApi.id,\n                            name: selectedApi.name,\n                            version: selectedApi.version,\n                        },\n                        'add',\n                        newApiResources,\n                    );\n                }\n            });\n        });\n        setApiResources(newApiResources);\n        addPropsToSelectedApiPaths(cloneDeep(selectedApiPaths), selectedApi.id, newApiResources);\n    };\n    useEffect(() => {\n        // Get all apis\n        const apiPromise = filterAPIs();\n        apiPromise\n            .then((response) => {\n                const {\n                    body: { list },\n                } = response;\n                const filteredList = list.filter((theApi) => theApi.lifeCycleStatus !== 'PROTOTYPED' &&\n                    theApi.lifeCycleStatus !== 'RETIRED' && theApi.lifeCycleStatus !== 'DEPRECATED' &&\n                    theApi.gatewayType === 'wso2/synapse'\n                );\n\n                setAllApis(filteredList);\n                if (filteredList.length > 0) {\n                    setSelectedApi(filteredList[0]);\n                    getApiSwagger(filteredList[0]);\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    }, []);\n    if (notFound) {\n        return <ResourceNotFound message={resourceNotFountMessage} />;\n    }\n    return (\n        <Root>\n            {allApis.length === 0 && !fromSearch ? (\n                <Grid container>\n                    <Typography className={classes.messageWrapper}>\n                        <FormattedMessage\n                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.ApisnotFound'\n                            defaultMessage='No REST APIs are created yet'\n                        />\n                    </Typography>\n                </Grid>\n            ) : (\n                <>\n                    {!isStateCreate && (\n                        <Grid container>\n                            <>\n                                <Grid item xs={8} className={classes.leftMost}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.find.and.select'\n                                            defaultMessage='Find and select resources for the API Product'\n                                        />\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4} className={classes.rightMost}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesWorkspace.selected'\n                                            defaultMessage='Selected resources of API Product'\n                                        />\n                                    </Typography>\n                                </Grid>\n                            </>\n                        </Grid>\n                    )}\n                    <Grid container>\n                        {/* ************************************************ */}\n                        {/* 1st column API search and select column          */}\n                        {/* ************************************************ */}\n                        <Grid item xs={3}>\n                            <div className={classes.colTitle}>\n                                <Typography>\n                                    <FormattedMessage\n                                        id='Apis.Details.ProductResources.ProductResourcesWorkspace.select.an.api'\n                                        defaultMessage='Select an API'\n                                    />\n                                </Typography>\n                            </div>\n                            <Paper>\n                                <div className={classes.searchWrapper}>\n                                    <TextField\n                                        id='outlined-full-width'\n                                        label='API'\n                                        style={{ margin: 8 }}\n                                        placeholder='Filter APIs'\n                                        helperText='Filter by name'\n                                        onChange={handleSearchTextChange}\n                                        value={searchText}\n                                        fullWidth\n                                        margin='normal'\n                                        variant='outlined'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </div>\n                                <div className={classes.apiWrapper}>\n                                    <List dense component='nav'>\n                                        {allApis.map((apiObj) => {\n                                            const labelId = `checkbox-list-label-${apiObj.id}`;\n\n                                            return (\n                                                <ListItem\n                                                    key={apiObj.id}\n                                                    role={undefined}\n                                                    dense\n                                                    button\n                                                    className={\n                                                        selectedApi\n                                                        && apiObj.id === selectedApi.id\n                                                        && classes.selectedApi\n                                                    }\n                                                >\n                                                    <ListItemText\n                                                        id={labelId}\n                                                        primary={apiObj.name}\n                                                        secondary={`${apiObj.version} - ${apiObj.context}`}\n                                                        onClick={() => getApiSwagger(apiObj)}\n                                                    />\n                                                </ListItem>\n                                            );\n                                        })}\n                                    </List>\n                                </div>\n                            </Paper>\n                        </Grid>\n                        {/* ************************************************ */}\n                        {/* 2nd column Resource Selection                    */}\n                        {/* ************************************************ */}\n                        <Grid item xs={5}>\n                            <Paper className={classes.paper}>\n                                <div className={classes.colTitle}>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesEdit.api.resources'\n                                            defaultMessage='Select API Resources'\n                                        />\n                                    </Typography>\n                                </div>\n                                {selectedApi && (\n                                    <Typography variant='h5' component='h2' className={classes.selectedTitle}>\n                                        {selectedApi.name}\n                                    </Typography>\n                                )}\n                                <div className={classes.tootBar}>\n                                    <Button\n                                        onClick={() => addSelectedResourcesToTree()}\n                                        onKeyDown={() => addSelectedResourcesToTree()}\n                                        id='add-selected-resources'\n                                    >\n                                        <Typography variant='body2'>\n                                            <FormattedMessage\n                                                id='Apis.Details.ProductResources.ProductResourcesWorkspace.\n                                        toolbar.add.selected'\n                                                defaultMessage='Add Selected'\n                                            />\n                                        </Typography>\n                                        <Icon>fast_forward</Icon>\n                                    </Button>\n                                    <VerticalDivider />\n                                    <Button\n                                        onClick={() => addSelectedResourcesToTree(true)}\n                                        onKeyDown={() => addSelectedResourcesToTree(true)}\n                                        id='add-all-resources-btn'\n                                    >\n                                        <Typography variant='body2'>\n                                            <FormattedMessage\n                                                id='Apis.Details.ProductResources.ProductResourcesWorkspace.toolbar.\n                                                add.all'\n                                                defaultMessage='Add All'\n                                            />\n                                        </Typography>\n                                        <Icon>fast_forward</Icon>\n                                    </Button>\n                                </div>\n                                <div className={classes.ResourceWrapper}>\n                                    <div className='frame'>\n                                        <List dense id='resource-wrapper'>\n                                            {Object.keys(selectedApiPaths).map((key) => {\n                                                const path = selectedApiPaths[key];\n                                                const labelId = `checkbox-list-label_${key}`;\n                                                return Object.keys(path).map((innerKey) => {\n                                                    const methodObj = path[innerKey];\n                                                    return CONSTS.HTTP_METHODS.includes(innerKey) && (\n                                                        <ListItem\n                                                            key={`${innerKey} - ${key}`}\n                                                            role={undefined}\n                                                            dense\n                                                        >\n                                                            <ListItemIcon style={{ minWidth: 35 }}>\n                                                                <Checkbox\n                                                                    edge='start'\n                                                                    checked={methodObj.checked}\n                                                                    tabIndex={-1}\n                                                                    disableRipple\n                                                                    onChange={() => updateCheckBox(key, innerKey)}\n                                                                    color='primary'\n                                                                    disabled={methodObj.allreadyAdded}\n                                                                    inputProps={\n                                                                        {\n                                                                            'aria-label': 'Select API resource',\n                                                                        }\n                                                                    }\n                                                                />\n                                                            </ListItemIcon>\n                                                            <ListItemText\n                                                                id={labelId + innerKey}\n                                                                primary={(\n                                                                    <div>\n                                                                        <MethodView\n                                                                            method={innerKey}\n                                                                            className={classes.methodView}\n                                                                        />\n                                                                        <span>{key}</span>\n                                                                    </div>\n                                                                )}\n                                                                secondary={\n                                                                    methodObj['x-auth-type']\n                                                                && methodObj['x-throttling-tier']\n                                                                && `${methodObj['x-auth-type']} - ${\n                                                                    methodObj['x-throttling-tier']\n                                                                }`\n                                                                }\n                                                                onClick={() => updateResourceTree(\n                                                                    {\n                                                                        target: key,\n                                                                        verb: innerKey,\n                                                                        apiId: selectedApi.id,\n                                                                        name: selectedApi.name,\n                                                                        version: selectedApi.version,\n                                                                    },\n                                                                    'add',\n                                                                )}\n                                                                className={classes.middleText}\n                                                            />\n                                                            <ListItemSecondaryAction>\n                                                                {methodObj.allreadyAdded && (\n                                                                    <Icon className={classes.inactiveIcon}>\n                                                                        chevron_right\n                                                                    </Icon>\n                                                                )}\n                                                                {!methodObj.allreadyAdded && (\n                                                                    <IconButton\n                                                                        edge='end'\n                                                                        aria-label='comments'\n                                                                        onClick={() => updateResourceTree(\n                                                                            {\n                                                                                target: key,\n                                                                                verb: innerKey,\n                                                                                apiId: selectedApi.id,\n                                                                                name: selectedApi.name,\n                                                                                version: selectedApi.version,\n                                                                            },\n                                                                            'add',\n                                                                        )}\n                                                                        size='large'>\n                                                                        <Icon>chevron_right</Icon>\n                                                                    </IconButton>\n                                                                )}\n                                                            </ListItemSecondaryAction>\n                                                        </ListItem>\n                                                    );\n                                                });\n                                            })}\n                                        </List>\n                                    </div>\n                                </div>\n                            </Paper>\n                        </Grid>\n                        {/* ************************************************ */}\n                        {/* Third column with  selected resources            */}\n                        {/* ************************************************ */}\n                        <Grid item xs={4}>\n                            <Paper className={classes.paper}>\n                                <div className={classes.colTitle} />\n                                {api.name && (\n                                    <>\n                                        <Typography variant='h5' component='h2' className={classes.selectedTitle}>\n                                            {api.name}\n                                        </Typography>\n                                    </>\n                                )}\n                                <div className={classes.ResourceWrapper}>\n                                    <div className='frame rightFrame'>\n                                        {allApis.length > 0 && apiResources && apiResources.length === 0 && (\n                                            <div className={classes.messageWrapper}>\n                                                <Typography component='p'>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.ProductResources.ProductResourcesWorkspace.\n                                                    empty.title'\n                                                        defaultMessage='Use the left side panel to add resources'\n                                                    />\n                                                </Typography>\n                                            </div>\n                                        )}\n                                        {apiResources\n                                        && apiResources.length > 0\n                                        && Object.keys(apiResources).map((key) => {\n                                            const apiResource = apiResources[key];\n                                            return (\n                                                <div key={apiResource.name}>\n                                                    <div className={classes.treeItemMain}>\n                                                        <Typography component='p'>\n                                                            {apiResource.name}\n                                                            {' - '}\n                                                            {apiResource.version}\n                                                        </Typography>\n                                                    </div>\n                                                    <div className={classes.treeItemMainWrapper}>\n                                                        {Object.keys(apiResource.operations).map((innerKey) => {\n                                                            const operation = apiResource.operations[innerKey];\n                                                            const { target, verb } = operation;\n                                                            return (\n                                                                <div\n                                                                    key={`${apiResource.apiId}_${verb}_${target}`}\n                                                                    className={classes.treeItem}\n                                                                >\n                                                                    <MethodView\n                                                                        method={verb}\n                                                                        className={classes.methodView}\n                                                                    />\n                                                                    <Typography variant='body2'>{target}</Typography>\n                                                                    <hr className={classes.hr} />\n                                                                    <IconButton\n                                                                        onClick={() => updateResourceTree(\n                                                                            {\n                                                                                target,\n                                                                                verb,\n                                                                                apiId: apiResource.apiId,\n                                                                                name: apiResource.name,\n                                                                                version: apiResource.version,\n                                                                            },\n                                                                            'remove',\n                                                                        )}\n                                                                        aria-label={\n                                                                            'delete resource ' + apiResource.name\n                                                                        }\n                                                                        size='large'>\n                                                                        <Icon>\n                                                                            delete\n                                                                        </Icon>\n                                                                    </IconButton>\n                                                                </div>\n                                                            );\n                                                        })}\n                                                    </div>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </>\n            )}\n        </Root>\n    );\n}\nProductResourcesEdit.propTypes = {\n    apiResources: PropTypes.instanceOf(Array).isRequired,\n    setApiResources: PropTypes.func.isRequired,\n    isStateCreate: PropTypes.isRequired,\n    api: PropTypes.isRequired,\n    resourceNotFountMessage: PropTypes.string.isRequired,\n};\nexport default ProductResourcesEdit;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDropzone } from 'react-dropzone';\nimport { useTheme } from '@mui/material/styles';\n\n/**\n *\n * Convert raw byte values to human readable format\n * @param {Number} bytes number of bytes\n * @param {boolean} [si=false]\n * @returns {String} Human readable string format\n */\nexport function humanFileSize(bytesParam, si = false) {\n    let bytes = bytesParam; // To prevent `no-param-reassign` eslint rule violation\n    const thresh = si ? 1000 : 1024;\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n    const units = si\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n    let u = -1;\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1);\n    return bytes.toFixed(1) + ' ' + units[u];\n}\n\nconst baseStyle = {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: '100px 20px',\n    borderWidth: 2,\n    borderRadius: 2,\n    borderColor: '#eeeeee',\n    borderStyle: 'dashed',\n    backgroundColor: '#fafafa',\n    color: '#bdbdbd',\n    outline: 'none',\n    transition: 'border .24s ease-in-out',\n};\n\nconst activeStyle = {\n    borderColor: '#2196f3',\n};\n\nconst acceptStyle = {\n    borderColor: '#00e676',\n};\n\nconst rejectStyle = {\n    borderColor: '#ff1744',\n};\n\n/**\n *\n * Provide a class friendly Dropzone wrapper using hooks.\n * @export\n * @returns\n */\nexport default function DropZoneLocal(props) {\n    const {\n        message, onDrop, error, children, accept, ariaLabel,\n    } = props;\n    const dropZoneObject = useDropzone({ onDrop });\n    const {\n        getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject,\n    } = dropZoneObject;\n\n    const style = useMemo(\n        () => ({\n            ...baseStyle,\n            ...(isDragActive ? activeStyle : {}),\n            ...(isDragAccept ? acceptStyle : {}),\n            ...(isDragReject ? rejectStyle : {}),\n        }),\n        [isDragActive, isDragReject, error],\n    );\n    const theme = useTheme();\n\n    const containerStyles = {\n        fontFamily: theme.typography.fontFamily,\n        textAlign: 'center',\n    };\n\n    return (\n        <section className='container' style={containerStyles}>\n            <div {...getRootProps({ style })}>\n                <input\n                    // In accordance with https://www.w3.org/TR/WCAG20-TECHS/ARIA14.html\n                    aria-label={ariaLabel}\n                    {...getInputProps()}\n                    multiple={false}\n                    accept={accept}\n                />\n                {children || message}\n            </div>\n        </section>\n    );\n}\nDropZoneLocal.defaultProps = {\n    message: \"Drag 'n' drop some files here, or click to select files\",\n    onDrop: () => {},\n    showFilesList: true,\n    children: null,\n    error: false,\n    accept: '*',\n};\nDropZoneLocal.propTypes = {\n    message: PropTypes.string,\n    onDrop: PropTypes.func,\n    accept: PropTypes.string,\n    showFilesList: PropTypes.bool,\n    children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.shape({}))]),\n    error: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({})]),\n};\n","/**\n * Copyright (c) 2019, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport API from 'AppData/api';\n\nimport APIClientFactory from './APIClientFactory';\nimport Utils from './Utils';\nimport Resource from './Resource';\n\n/**\n * An abstract representation of a Scopes\n */\nclass Wsdl extends Resource {\n    /**\n     * Validate a WSDL file or an archive\n     *\n     * @static\n     * @param {*} file WSDL file or archive\n     * @returns {*} WSDL validation response\n     * @memberof Wsdl\n     */\n    static validateFileOrArchive(file) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        const requestBody = {\n            requestBody: {\n                file,\n            },\n        };\n        return apiClient.then((client) => {\n            return client.apis.Validation.validateWSDLDefinition(null, requestBody);\n        });\n    }\n\n    /**\n     * Validate a WSDL URL\n     *\n     * @static\n     * @param {*} url WSDL URL\n     * @returns {*} WSDL validation response\n     * @memberof Wsdl\n     */\n    static validateUrl(url) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            return client.apis.Validation.validateWSDLDefinition(\n                {},\n                {\n                    requestBody: { url },\n                },\n            );\n        });\n    }\n\n    /**\n     * Importing a WSDL and creating an API by a .wsdl file or a WSDL archive zip file\n     *\n     * @static\n     * @param {*} url WSDL url\n     * @param {*} additionalProperties additional properties of the API eg: name, version, context\n     * @param {*} implementationType SOAPTOREST or SOAP\n     * @returns {API} API object which was created\n     * @memberof Wsdl\n     */\n    static importByUrl(url, additionalProperties, implementationType = 'SOAP') {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            const promisedResponse = client.apis.APIs.importWSDLDefinition(\n                {},\n                {\n                    requestBody: {\n                        url,\n                        additionalProperties: JSON.stringify(additionalProperties),\n                        implementationType,\n                    },\n                },\n            );\n            return promisedResponse.then((response) => new API(response.body));\n        });\n    }\n\n    /**\n     * Importing a WSDL and creating an API by a .wsdl file or a WSDL archive zip file\n     *\n     * @static\n     * @param {*} file WSDL file or archive\n     * @param {*} additionalProperties additional properties of the API eg: name, version, context\n     * @param {*} implementationType SOAPTOREST or SOAP\n     * @returns {API} API object which was created\n     * @memberof Wsdl\n     */\n    static importByFileOrArchive(file, additionalProperties, implementationType = 'SOAP') {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment(), Utils.CONST.API_CLIENT)\n            .client;\n        return apiClient.then((client) => {\n            const promisedResponse = client.apis.APIs.importWSDLDefinition(\n                null,\n                {\n                    requestBody: {\n                        file,\n                        additionalProperties: JSON.stringify(additionalProperties),\n                        implementationType,\n                    },\n                },\n            );\n\n            return promisedResponse.then((response) => new API(response.body));\n        });\n    }\n}\n\nexport default Wsdl;\n","/* eslint-disable */\n/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { styled } from '@mui/material/styles';\nimport {\n    ISpectralDiagnostic,\n} from '@stoplight/spectral-core';\nimport { oas } from '@stoplight/spectral-rulesets';\nimport { FormattedMessage } from 'react-intl';\nimport Box from '@mui/material/Box';\nimport { spectralSeverityMap, spectralSeverityNames } from \"./Linting\"\nimport { Grid, Tooltip, Typography } from '@mui/material';\nimport { ToggleButton, ToggleButtonGroup } from '@mui/lab';\nconst PREFIX = 'APILintingSummary';\n\nconst classes = {\n    activeButton: `${PREFIX}-activeButton`\n};\n\nconst StyledBox = styled(Box)((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.activeButton}`]: {\n        \"&:selected\": {\n            backgroundColor: theme.palette.background.default,\n        }\n    }\n}));\n\n// TODO tmkasun: Possible to extend AsyncAPI rule set as well\nconst defaultRuleSet = { extends: [oas], rules: {} };\ntype APILintingProps = {\n    linterResults: ISpectralDiagnostic[],\n    handleChange: Function,\n};\n\nexport const APILintingSummary = (props: APILintingProps) => {\n    const { linterResults, handleChange } = props;\n\n    const [selectedSeverity, setSelectedSeverity] = useState(null);\n    const severityCounts: { [key: number]: number } = {};\n    \n    if (linterResults) {\n        linterResults.forEach(({ severity }) => {\n            severityCounts[severity] = severityCounts[severity] + 1 || 1;\n        });\n    }\n    \n    return (\n        <StyledBox ml={3}>\n            {linterResults === null && (\n                <FormattedMessage\n                    id=\"Apis.Details.APIDefinition.Linting.APILintingSummary.loading\"\n                    defaultMessage=\"Linting . . .\"\n                />\n            )}\n            {linterResults && (\n                <Tooltip title={\n                    Object.entries(spectralSeverityNames).map(([severity, name]) => {\n                        return `${name}:${severityCounts[Number(severity)]||0}${(Number(severity) !== 3) ? \", \": \"\"}` || '-';\n                    })\n                }>\n                    <ToggleButtonGroup\n                        exclusive\n                        value={selectedSeverity}\n                        size=\"small\"\n                        onChange={(event, value) => { \n                            setSelectedSeverity(value);\n                            handleChange(event, value) }}>\n                        {Object.entries(spectralSeverityMap).map(([severity, component]) => (\n                            <ToggleButton\n                                key={Math.random()}\n                                value={String(severity)}\n                            >\n                                <Box ml={1} display=\"flex\">\n                                    {component}\n                                    <Grid item>\n                                        <Box maxWidth='2rem'>\n                                            <Typography noWrap>\n                                                &nbsp;{severityCounts[Number(severity)] || 0}\n                                            </Typography>\n                                        </Box>\n                                    </Grid>\n                                </Box>\n                            </ToggleButton>\n                        ))}\n                    </ToggleButtonGroup>\n                </Tooltip>\n            )}\n        </StyledBox>\n    );\n};\nexport default APILintingSummary;\n","/* eslint-disable */\n/*\n * Copyright (c) 2022, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n *\n * This software is the property of WSO2 Inc. and its suppliers, if any.\n * Dissemination of any information or reproduction of any material contained\n * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n * the WSO2 Commercial License available at http://wso2.com/licenses.\n * For specific language governing the permissions and limitations under\n * this license, please see the license as well as any agreement you’ve\n * entered into with WSO2 governing the purchase of this software and any\n * associated services.\n */\n\nimport React from 'react';\nimport API from 'AppData/api.js';\nimport {\n    Spectral,\n    ISpectralDiagnostic,\n} from '@stoplight/spectral-core';\nimport *  as spectralFunc from \"@stoplight/spectral-functions\";\nimport { oas } from '@stoplight/spectral-rulesets';\nimport { green, orange } from '@mui/material/colors';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport InfoIcon from '@mui/icons-material/Info';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { FormattedMessage } from 'react-intl';\n\n/** @type DiagnosticSeverity \n * \n * \nSomething not allowed by the rules of a language or other means.\n    Error = 0,\nSomething suspicious but allowed.\n    Warning = 1,\nSomething to inform about but not a problem.\n    Information = 2,\nSomething to hint to a better way of doing it, like proposing a refactoring.\n    Hint = 3\n*/\n\nconst spectralFunctions: { [key: string]: any} = {\n    \"alphabetical\": spectralFunc.alphabetical,\n    \"casing\": spectralFunc.casing,\n    \"defined\": spectralFunc.defined,\n    \"enumeration\": spectralFunc.enumeration,\n    \"falsy\": spectralFunc.falsy,\n    \"length\": spectralFunc.length,\n    \"pattern\":spectralFunc.pattern,\n    \"truthy\": spectralFunc.truthy,\n    \"undefined\": spectralFunc.undefined,\n    \"unreferencedReusableObject\": spectralFunc.unreferencedReusableObject,\n    \"xor\": spectralFunc.xor,\n    \"schema\": spectralFunc.schema,\n}\n\nexport const spectralSeverityMap: { [key: number]: JSX.Element } = {\n    0: <ErrorIcon color=\"error\" />,\n    1: <WarningIcon style={{ color: orange[500] }} />,\n    2: <InfoIcon color=\"primary\" />,\n    3: <HelpOutlineIcon style={{ color: green[500] }} />,\n};\n\nexport const spectralSeverityNames: { [key: number]: string } = {\n    0: \"Errors\",\n    1: \"Warnings\",\n    2: \"Info\",\n    3: \"Hints\"\n};\n\nexport async function getLinterResultsFromContent(swagger: string|undefined) {\n    let validationResults: ISpectralDiagnostic[] = [];\n    \n    if (swagger) {\n        // Validate againt default ruleset by Spectral\n        let defaultRuleSet = { extends: [oas], rules: {} };\n        const linter = new Spectral();\n        linter.setRuleset(defaultRuleSet);\n        \n        try {\n            \n            await linter.run(swagger).then((results)=> {\n                if (results) {\n                    validationResults = validationResults.concat(results);\n                }\n            });\n        } catch (err) {\n            console.error(\"OpenAPI linter default ruleset validation failed\", err);\n            Alert.error(\n            <FormattedMessage\n                id='Apis.Details.APIDefinition.Linting.Linting.default.ruleset.validation.failed'\n                defaultMessage='OpenAPI linter default ruleset validation failed'\n            />);\n        }\n\n\n        // Validate againt custom ruleset defined in tenant config\n        let customRuleset:JSON = await API.getLinterCustomRules().then((LinterCustomRuleset: JSON) => {\n            return LinterCustomRuleset;\n        }).catch((error: any) => {\n            console.log(\"Error retrieving custom linter rules\", error);\n            Alert.error(\n            <FormattedMessage\n                id='Apis.Details.APIDefinition.Linting.Linting.error.retrieving.custom.rules'\n                defaultMessage='Error retrieving custom linter rules'\n            />);\n        });\n        if (customRuleset) {\n            //Parse JSON to JS object to support spectral\n            const parsedCustomRuleset = JSON.parse(\n                JSON.stringify(customRuleset), \n                function (key, value) {\n                    if (key === \"function\") {\n                        return spectralFunctions[value];\n                    } else {\n                        return value;\n                    }\n                }\n            );\n\n            linter.setRuleset(parsedCustomRuleset);\n            \n            try {\n                await linter.run(swagger).then((results)=> {\n                    if (results) {\n                        validationResults = validationResults.concat(results);\n                    }\n                });\n            } catch (error) {\n                if (error instanceof Error) {\n                    console.error(\"OpenAPI linter custom ruleset validation failed\\n\", error, error.stack);\n                }\n                Alert.error(\n                    <FormattedMessage\n                        id='Apis.Details.APIDefinition.Linting.Linting.custom.ruleset.validation.failed'\n                        defaultMessage='OpenAPI linter custom ruleset validation failed'\n                    />);\n            }\n        }\n\n        //Sort linter results order based of severity\n        validationResults = validationResults.sort( function compare(a, b) {\n            if (a.severity < b.severity){\n              return -1;\n            }\n            if (a.severity > b.severity){\n              return 1;\n            }\n            return 0;\n        });\n    }\n    return validationResults;\n}\n"],"names":["classes","mandatoryStar","concat","Root","styled","_ref","theme","_defineProperty","color","palette","error","main","ProvideAsyncAPI","props","apiInputs","inputsDispatcher","onValidate","isFileInput","inputType","inputValue","_useState2","_slicedToArray","useState","isValid","setValidity","_useState4","isValidating","setIsValidating","_useState6","validationErrors","setValidationErrors","_useState8","gatewayVendor","setGatewayVendor","onDrop","files","file","pop","validFile","API","validateAsyncAPIByFile","then","response","_response$body","body","isValidFile","info","errors","action","value","_objectSpread","message","catch","console","finally","validateURL","state","APIValidation","url","required","validate","validateAsyncAPIByUrl","returnContent","_response$body2","isValidURL","content","useEffect","INPUT_TYPES","FILE","URL","isInvalidURL","Boolean","urlStateEndAdornment","React","InputAdornment","position","CircularProgress","undefined","ErrorOutlineIcon","fontSize","CheckIcon","Grid","container","item","xs","sx","mb","FormControl","component","FormLabel","className","FormattedMessage","id","defaultMessage","RadioGroup","onChange","event","target","FormControlLabel","control","Radio","label","md","Banner","onClose","disableActions","dense","paperProps","elevation","type","List","ListItem","key","path","ListItemAvatar","Avatar","InsertDriveFile","ListItemText","primary","humanFileSize","size","ListItemSecondaryAction","IconButton","edge","onClick","DeleteIcon","DropZoneLocal","accept","values","break","Button","variant","mt","TextField","autoFocus","placeholder","fullWidth","margin","_ref3","InputLabelProps","shrink","InputProps","onBlur","_ref4","endAdornment","helperText","Chip","icon","CheckCircleSharpIcon","style","defaultProps","propTypes","PropTypes","isRequired","ProvideGraphQL","validateGraphQLFile","graphQLInfo","ariaLabel","ValidationResults","isLinting","linterResults","onLinterLineSelect","expandValidationErrors","setExpandValidationErrors","expandLinterResults","setExpandLinterResults","linterSelectedSeverity","setLinterSelectedSeverity","ListItemIcon","length","Accordion","A","expanded","AccordionSummary","expandIcon","ExpandMore","direction","justifyContent","alignItems","Typography","fontWeight","AccordionDetails","map","Box","description","pt","APILintingSummary","handleChange","stopPropagation","padding","LinterUI","filter","severity","Number","severityMap","handleRowClick","line","ProvideOpenAPI","setLinterResults","_useState10","setIsLinting","lint","getLinterResultsFromContent","results","reset","validateURLDebounced","useCallback","debounce","newURL","validateOpenAPIByUrl","formattedContent","definition","result","JSON","parse","_typeof","err","log","hasJSONStructure","stringify","YAML","validateOpenAPIByFile","endsWith","read","FileReader","readAsText","onloadend","_read$result","toString","disabled","ProvideWSDL","isGenerateRESTAPI","isError","isCreateMode","mode","handleWSDLValidationResponse","isWSDLValid","success","handleWSDLValidationErrorResponse","dropBoxControlLabel","spacing","arguments","Wsdl","validateFileOrArchive","validateUrl","PREFIX","tableCell","headerTableCell","tableRow","tableWrapper","headerTableRow","StyledPaper","Paper","border","background","backgroundColor","hover","cursor","width","display","_React$useState2","page","setPage","_React$useState4","rowsPerPage","setRowsPerPage","columns","minWidth","align","rows","index","range","start","code","overflow","TableContainer","maxHeight","Table","stickyHeader","TableHead","TableRow","column","TableCell","TableBody","slice","row","format","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","MethodView","Configurations","useTheme","method","chipColor","custom","resourceChipColors","toLowerCase","chipTextColor","getContrastText","height","searchWrapper","paper","apiWrapper","ResourceWrapper","SelectedResourceWrapper","leftMost","rightMost","colTitle","treeItemMain","treeItemMainWrapper","treeItem","hr","methodView","middleText","selectedApi","selectedTitle","buttonWrapper","selectedApiDescription","messageWrapper","tootBar","inactiveIcon","_ref2","marginTop","borderRadius","overflowY","marginLeft","marginRight","grey","common","white","overflowX","minHeight","paddingLeft","flex","textDecorate","ProductResourcesEdit","apiResources","setApiResources","isStateCreate","api","resourceNotFountMessage","allApis","setAllApis","notFound","setNotFound","searchText","setSearchText","selectedApiPaths","setSelectedApiPaths","setSelectedApi","_useState12","fromSearch","setFromSearch","apiRestClient","filterAPIs","text","composeQuery","trim","composeQueryJSON","queryString","limit","offset","search","all","query","isValidHttpVerb","innerKey","addPropsToSelectedApiPaths","paths","apiId","latestApiResources","Object","keys","methodObj","checked","verb","resourceFound","resourcekey","apiResource","operations","operationKey","operation","allreadyAdded","getApiSwagger","apiSelected","getSwagger","obj","status","doRedirectToLogin","updateResourceTree","resourceToAdd","inputApiResources","updateStateHere","newApiResources","cloneDeep","name","version","newResource","toUpperCase","authType","throttlingPolicy","scopes","apiFound","indexA","operationFound","indexB","splice","push","addSelectedResourcesToTree","addAll","filteredList","list","theApi","lifeCycleStatus","gatewayType","ResourceNotFound","apiObj","labelId","role","button","secondary","context","onKeyDown","Icon","VerticalDivider","CONSTS","HTTP_METHODS","includes","Checkbox","tabIndex","disableRipple","prevSelectedApiPaths","updateCheckBox","inputProps","Array","bytesParam","si","bytes","thresh","Math","abs","units","u","toFixed","baseStyle","flexDirection","borderWidth","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","children","dropZoneObject","useDropzone","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","useMemo","containerStyles","fontFamily","typography","textAlign","_extends","multiple","showFilesList","_Resource","_classCallCheck","_callSuper","_inherits","apiClient","APIClientFactory","getAPIClient","Utils","getCurrentEnvironment","CONST","API_CLIENT","client","requestBody","apis","Validation","validateWSDLDefinition","additionalProperties","implementationType","APIs","importWSDLDefinition","Resource","StyledBox","default","selectedSeverity","setSelectedSeverity","severityCounts","forEach","ml","title","entries","exclusive","String","maxWidth","noWrap","random","spectralFunctions","spectralSeverityMap","spectralSeverityNames","swagger","validationResults","defaultRuleSet","extends","rules","linter","Spectral","setRuleset","run","customRuleset","getLinterCustomRules","LinterCustomRuleset","parsedCustomRuleset","Error","stack","sort","a","b"],"sourceRoot":""}