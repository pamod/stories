(this.webpackChunk_wso2apim_publisher=this.webpackChunk_wso2apim_publisher||[]).push([[576,965],{82299:(e,t,n)=>{"use strict";var r=n(24994);t.A=void 0;var i=r(n(42032)),o=n(74848);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},64031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r=n(96540),i=n(11848),o=n(99020),a=n(5556),l=n.n(a),c=n(33551),s=n(69067),u=n(61914),p=n(58065),d=n(82299),f=n(19455),g=n(33755),h=n(97648),y=n.n(h),m=n(46350),v=n(75148),b=n(22754);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function A(e,t,n){return t=R(t),function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(e,M()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function D(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:String(t)}var k="SwaggerEditorDrawer",O={editorPane:"".concat(k,"-editorPane"),editorRoot:"".concat(k,"-editorRoot"),glyphMargin:"".concat(k,"-glyphMargin"),noGlyphMargin:"".concat(k,"-noGlyphMargin"),topMargin:"".concat(k,"-topMargin")},j=(0,i.Ay)("div")((function(){return D(D(D(D(D({},"& .".concat(O.editorPane),{width:"50%",height:"100%",overflow:"auto"}),"& .".concat(O.editorRoot),{height:"100%"}),"& .".concat(O.glyphMargin),{background:g.A[900],width:"5px !important"}),"& .".concat(O.noGlyphMargin),{background:"none"}),"& .".concat(O.topMargin),{paddingTop:"10px"})})),N=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,76259))})),_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=A(this,t,[e])).onContentChange=n.onContentChange.bind(C(n)),n.editorDidMount=n.editorDidMount.bind(C(n)),n.editor=null,n.monaco=null,n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,(i=[{key:"componentDidUpdate",value:function(e){for(var t=this.props.linterResults,n=y()(e.linterResults,t,"range.start.line"),r=0;r<n.length;r++){var i=n[r].range.start.line;this.editor.deltaDecorations([{range:new this.monaco.Range(i,1,i,1),options:{isWholeLine:!1,glyphMarginClassName:O.glyphMargin}}],[{range:new this.monaco.Range(i,1,i,1),options:{isWholeLine:!1,glyphMarginClassName:O.noGlyphMargin}}])}}},{key:"handleRowClick",value:function(e){var t=this.editor.getModel().getLineLastNonWhitespaceColumn(e);this.editor.revealLinesInCenter(e,e,0),this.editor.setPosition({column:t,lineNumber:e}),this.editor.focus(),this.editor.deltaDecorations([],[{range:new this.monaco.Range(e,1,e,1),options:{isWholeLine:!1,glyphMarginClassName:O.glyphMargin}}])}},{key:"onContentChange",value:function(e){(0,this.props.onEditContent)(e)}},{key:"editorDidMount",value:function(e,t){var n=this.props.linterSelectedLine;this.editor=e,this.monaco=t,n&&this.handleRowClick(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.language,i=t.swagger,a=t.errors,l=t.setErrors,g=t.isSwaggerUI,h=t.linterResults,y=t.severityMap,w=t.linterSelectedSeverity;return r.createElement(j,null,r.createElement(o.Ay,{container:!0,spacing:2,className:O.editorRoot},r.createElement(o.Ay,{item:!0,className:O.editorPane},r.createElement(N,{language:n,width:"100%",height:"calc(100vh - 51px)",theme:"vs-dark",value:i,onChange:this.onContentChange,options:{glyphMargin:!0},editorDidMount:this.editorDidMount})),r.createElement(o.Ay,{item:!0,className:O.editorPane},a&&a.length>0&&r.createElement(s.A,{mr:2},r.createElement(u.A,{type:"warning",height:"100%"},r.createElement(s.A,null,r.createElement(s.A,{onClick:l,position:"absolute",right:"0",top:"0"},r.createElement(f.A,{"area-label":"close",size:"large"},r.createElement(d.A,null))),r.createElement(c.A,{variant:"h5",component:"h3",className:O.head},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.title",defaultMessage:[{type:0,value:"Failed to Validate OpenAPI File"}]})),a.map((function(e){return r.createElement(c.A,{component:"p",className:O.content},e.description)}))))),g&&r.createElement(m.default,{spec:i}),!g&&h.length>0&&r.createElement("div",{"data-testid":"testid-linter-ui"},r.createElement(v.A,{linterResults:h,severityMap:y,handleRowClick:function(t){e.handleRowClick(t)}})),!g&&0===h.length&&r.createElement("div",{className:O.topMargin},r.createElement(s.A,{alignSelf:"center",justifySelf:"center",flexDirection:"column"},r.createElement(c.A,{variant:"h4"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.goodupdate.content",defaultMessage:[{type:0,value:"No linting issues found in the definition"}]})),r.createElement(c.A,{variant:"h6"},r.createElement(p.A,{id:"Apis.Details.APIDefinition.SwaggerEditorDrawer.linter.no.resultsupdate.content",defaultMessage:[{type:0,value:"No Linter Results"},{type:1,value:"type"},{type:0,value:" found"}],values:{type:w?" (".concat(b.Ov[w],")"):""}})))))))}}])&&E(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);_.propTypes={classes:l().shape({}).isRequired,language:l().string.isRequired,swagger:l().string.isRequired,onEditContent:l().func.isRequired,errors:l().shape([]).isRequired,setErrors:l().func.isRequired};const q=_},46350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(96540),i=n(5556),o=n.n(i),a=n(78583),l=(n(38871),function(){return{wrapComponents:{info:function(){return function(){return null}},authorizeBtn:function(){return function(){return null}}}}}),c=function(){return{statePlugins:{spec:{wrapSelectors:{allowTryItOutFor:function(){return function(){return!1}}}}}}},s=function(e){var t={spec:e.spec,url:e.url,validatorUrl:null,docExpansion:"list",defaultModelsExpandDepth:-1,plugins:[l,c]};return r.createElement(a.A,t)};s.propTypes={accessTokenProvider:o().func.isRequired,authorizationHeader:o().string.isRequired,api:o().shape({context:o().string.isRequired}).isRequired,url:o().string.isRequired};const u=s},97648:(e,t,n)=>{var r=n(83915),i=n(38358),o=n(15389),a=n(69302),l=n(83693),c=n(68090),s=a((function(e,t){var n=c(t);return l(n)&&(n=void 0),l(e)?r(e,i(t,1,l,!0),o(n,2)):[]}));e.exports=s}}]);
//# sourceMappingURL=EditorDialog.f58e5063283c842419fb.bundle.js.map